!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MathYlem=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var Doc=require("./doc.js"),Symbols=require("./symbols.js"),EventEmitter=require("eventemitter3"),Backend=function(config){var events=(config=config||{}).events||{},options=config.options||{};this.parent=config.parent,this.blacklist=[],this.autoreplace=!0,EventEmitter.call(this);for(var e in events)this.on(e,events[e]);for(var opts=["blankCaret","emptyContent","blacklist","autoreplace"],i=0;i<opts.length;i++){var p=opts[i];p in options&&(this[p]=options[p])}this.doc=new Doc(options.xmlContent),this.current=this.doc.root().firstChild,this.caret=0,this.selStart=null,this.selEnd=null,this.undoData=[],this.undoCurrent=-1,this.selStatus=Backend.SEL_NONE,this.checkpoint()};Backend.prototype=Object.create(EventEmitter.prototype,{constructor:{value:Backend}}),Backend.CARET="\\cursor{-0.2ex}{0.7em}",Backend.TEMP_SMALL_CARET="\\cursor{0em}{0.6em}",Backend.TEMP_CARET="\\cursor{-0.2ex}{0.7em}",Backend.SMALL_CARET="\\cursor{-0.05em}{0.5em}",Backend.SEL_CARET="\\cursor{-0.2ex}{0.7em}",Backend.SMALL_SEL_CARET="\\cursor{-0.05em}{0.5em}",Backend.SEL_COLOR="red",Backend.SEL_NONE=0,Backend.SEL_CURSOR_AT_START=1,Backend.SEL_CURSOR_AT_END=2,Backend.Clipboard=null,Backend.prototype.getContent=function(t,r){return this.doc.getContent(t,r)},Backend.prototype.xml=function(){return this.doc.getContent("xml")},Backend.prototype.latex=function(){return this.doc.getContent("latex")},Backend.prototype.text=function(){return this.doc.getContent("text")},Backend.prototype.setContent=function(xmlData){this.doc=new Doc(xmlData),this.current=this.doc.root().lastChild,this.caret=this.current.textContent.length,this.selStart=null,this.selEnd=null,this.undoData=[],this.undoCurrent=-1,this.selStatus=Backend.SEL_NONE,this.checkpoint()},Backend.prototype.selectTo=function(loc,selCursor,selCaret,mouse){loc.current===selCursor&&loc.caret===selCaret?this.selStatus=Backend.SEL_NONE:"left"===loc.pos?(this.selEnd={node:selCursor,caret:selCaret},this.setSelection(Backend.SEL_CURSOR_AT_START,mouse)):"right"===loc.pos&&(this.selStart={node:selCursor,caret:selCaret},this.setSelection(Backend.SEL_CURSOR_AT_END,mouse)),this.current=loc.current,this.caret=loc.caret},Backend.prototype.setSelStart=function(){this.selStart={node:this.current,caret:this.caret}},Backend.prototype.setSelEnd=function(){this.selEnd={node:this.current,caret:this.caret}},Backend.prototype.addPaths=function(n,path){if("e"===n.nodeName)n.setAttribute("path",path);else for(var es=1,fs=1,cs=1,ls=1,c=n.firstChild;null!=c;c=c.nextSibling)"c"===c.nodeName?(this.addPaths(c,path+"_c"+cs),cs++):"f"===c.nodeName?(this.addPaths(c,path+"_f"+fs),fs++):"l"===c.nodeName?(this.addPaths(c,path+"_l"+ls),ls++):"e"===c.nodeName&&(this.addPaths(c,path+"_e"+es),es++)},Backend.prototype.addCursorClasses=function(n,path){if("e"===n.nodeName){var selCursor,text=n.textContent,ans="",isTextNode="text"===n.parentNode.getAttribute("mode")||"symbol"===n.parentNode.getAttribute("mode");if(this.selStatus===Backend.SEL_CURSOR_AT_START&&(selCursor=this.selEnd),this.selStatus===Backend.SEL_CURSOR_AT_END&&(selCursor=this.selStart),this.selStatus!==Backend.SEL_NONE){var selCaretText=Doc.isSmall(selCursor.node)?Backend.SMALL_SEL_CARET:Backend.SEL_CARET;selCaretText=!isTextNode&&0===text.length&&n.parentNode.childElementCount>1?"\\blue{\\xmlClass{mathylem_elt mathylem_blank mathylem_loc_"+n.getAttribute("path")+"_0}{"+selCaretText+"}}":"\\blue{"+selCaretText+"}",this.selStatus===Backend.SEL_CURSOR_AT_END&&(selCaretText=isTextNode?"[":selCaretText+"\\"+Backend.SEL_COLOR+"{"),this.selStatus===Backend.SEL_CURSOR_AT_START&&(selCaretText=isTextNode?"]":"}"+selCaretText)}var caretText="",tempCaretText="";if(0===text.length)if(isTextNode)caretText="\\_";else if(1===n.parentNode.childElementCount)if(this.current===n){var blankCaret=this.blankCaret||(Doc.isSmall(this.current)?Backend.SMALL_CARET:Backend.CARET);ans="\\red{\\xmlClass{main_cursor mathylem_elt mathylem_blank mathylem_loc_"+n.getAttribute("path")+"_0}{"+blankCaret+"}}"}else ans=this.tempCursor.node===n?"\\gray{\\xmlClass{mathylem_elt mathylem_blank mathylem_loc_"+n.getAttribute("path")+"_0}{[?]}}":"\\blue{\\xmlClass{mathylem_elt mathylem_blank mathylem_loc_"+n.getAttribute("path")+"_0}{[?]}}";else this.tempCursor.node===n||this.current===n||selCursor&&selCursor.node===n||(ans="\\phantom{\\xmlClass{mathylem_elt mathylem_blank mathylem_loc_"+n.getAttribute("path")+"_0}{\\cursor{0.1ex}{1ex}}}");for(var i=0;i<text.length+1;i++)n===this.current&&i===this.caret&&(text.length>0||n.parentNode.childElementCount>1)?(isTextNode?caretText=this.selStatus===Backend.SEL_CURSOR_AT_START?"[":this.selStatus===Backend.SEL_CURSOR_AT_END?"]":"\\_":(caretText=Doc.isSmall(this.current)?Backend.SMALL_CARET:Backend.CARET,caretText=0===text.length?"\\red{\\xmlClass{main_cursor mathylem_elt mathylem_blank mathylem_loc_"+n.getAttribute("path")+"_0}{"+caretText+"}}":"\\red{\\xmlClass{main_cursor}{"+caretText+"}}",this.selStatus===Backend.SEL_CURSOR_AT_START?caretText=caretText+"\\"+Backend.SEL_COLOR+"{":this.selStatus===Backend.SEL_CURSOR_AT_END&&(caretText="}"+caretText)),ans+=caretText):n===this.current&&i===this.caret&&isTextNode?ans+=caretText:this.selStatus!==Backend.SEL_NONE&&selCursor.node===n&&i===selCursor.caret?ans+=selCaretText:this.tempCursor.node===n&&i===this.tempCursor.caret&&(text.length>0||n.parentNode.childElementCount>1)&&(isTextNode?tempCaretText=".":(tempCaretText=Doc.isSmall(this.current)?Backend.TEMP_SMALL_CARET:Backend.TEMP_CARET,tempCaretText=0===text.length?"\\gray{\\xmlClass{mathylem_elt mathylem_blank mathylem_loc_"+n.getAttribute("path")+"_0}{"+tempCaretText+"}}":"\\gray{"+tempCaretText+"}"),ans+=tempCaretText),i<text.length&&(ans+="\\xmlClass{mathylem_elt mathylem_loc_"+n.getAttribute("path")+"_"+i+"}{"+text[i]+"}");isTextNode&&n===this.current&&(ans="\\xmlClass{mathylem_text_current}{{"+ans+"}}"),n.setAttribute("render",ans),n.removeAttribute("path")}else for(var c=n.firstChild;null!=c;c=c.nextSibling)"c"!==c.nodeName&&"l"!==c.nodeName&&"f"!==c.nodeName&&"e"!==c.nodeName||this.addCursorClasses(c)},Backend.prototype.removeCursorClasses=function(n){if("e"===n.nodeName)n.removeAttribute("path"),n.removeAttribute("render"),n.removeAttribute("current"),n.removeAttribute("temp");else for(var c=n.firstChild;null!=c;c=c.nextSibling)1===c.nodeType&&this.removeCursorClasses(c)},Backend.prototype.downFromF=function(){for(var nn=this.current.firstChild;null!=nn&&"c"!==nn.nodeName&&"l"!==nn.nodeName;)nn=nn.nextSibling;if(null!=nn){for(;"l"===nn.nodeName;)nn=nn.firstChild;this.current=nn.firstChild}},Backend.prototype.downFromFToBlank=function(){for(var nn=this.current.firstChild;null!=nn&&("c"!==nn.nodeName||1!==nn.childNodes.length||0!==nn.firstChild.textContent.length);)nn=nn.nextSibling;if(null!=nn){for(;"l"===nn.nodeName;)nn=nn.firstChild;this.current=nn.firstChild}else this.downFromF()},Backend.prototype.deleteFromF=function(toInsert){var n=this.current,p=n.parentNode,prev=n.previousSibling,next=n.nextSibling,middle=toInsert||"",newNode=this.makeE(prev.textContent+middle+next.textContent);this.current=newNode,this.caret=prev.textContent.length,p.insertBefore(newNode,prev),p.removeChild(prev),p.removeChild(n),p.removeChild(next)},Backend.prototype.symbolToNode=function(name,content){var base=this.doc.base,s=Symbols.symbols[name],f=base.createElement("f");f.setAttribute("type",name),"group"in s&&f.setAttribute("group",s.group),s.char&&f.setAttribute("c","yes");var first,firstRef=-1,refsCount=0,lists={};for(var t in s.output){var b=base.createElement("b");b.setAttribute("p",t);var out=s.output[t];if("string"==typeof out){out=out.split(/(\{\$[0-9]+(?:\{[^}]+\})*\})/g);for(i=0;i<out.length;i++){var m=out[i].match(/^\{\$([0-9]+)((?:\{[^}]+\})*)\}$/);if(m&&(out[i]={ref:parseInt(m[1])},m[2].length>0)){var mm=m[2].match(/\{[^}]*\}/g);out[i].d=mm.length;for(j=0;j<mm.length;j++)out[i]["sep"+j]=mm[j].substring(1,mm[j].length-1)}}}for(i=0;i<out.length;i++){var nt;if("string"==typeof out[i]||out[i]instanceof String)nt=base.createTextNode(out[i]),b.appendChild(nt);else{nt=base.createElement("r");for(var attr in out[i])nt.setAttribute(attr,out[i][attr]);"latex"===t&&(-1===firstRef&&(firstRef=out[i].ref),"d"in out[i]&&(lists[refsCount]=out[i].d),refsCount++),b.appendChild(nt)}}f.appendChild(b)}for(var i=0;i<refsCount;i++){var nc=base.createElement("c");if(i in content)for(var nodeList=content[i],se=0;se<nodeList.length;se++)nc.appendChild(nodeList[se].cloneNode(!0));else nc.appendChild(this.makeE(""));if(i+1===firstRef&&(first=nc.lastChild),s.attrs)for(var a in s.attrs[i]||{})nc.setAttribute(a,s.attrs[i][a]);if(i in lists)for(var par=f,j=0;j<lists[i];j++){var nl=base.createElement("l");nl.setAttribute("s","1"),par.appendChild(nl),par=nl,j===lists[i]-1&&nl.appendChild(nc)}else f.appendChild(nc)}return{f:f,first:first}},Backend.prototype.insertSymbol=function(name){if(this.isBlacklisted(name))return!1;"power"===name&&0===this.caret&&"f"===this.current.parentNode.parentNode.nodeName&&1===this.current.parentNode.childNodes.length&&(this.current=this.current.parentNode.parentNode.nextSibling);var leftPiece,rightPiece,s=Symbols.symbols[name],content={},cur=null==s.current?0:parseInt(s.current),toRemove=[],toReplace=null,replace=!1;if(cur>0)if(cur--,this.selStatus!==Backend.SEL_NONE){var sel=this.getSelection();toRemove=sel.involved,leftPiece=this.makeE(sel.remnant.textContent.slice(0,this.selStart.caret)),rightPiece=this.makeE(sel.remnant.textContent.slice(this.selStart.caret)),content[cur]=sel.nodeList}else if("token"===s.current_type)if(0===this.caret&&null!=this.current.previousSibling)content[cur]=[this.makeE(""),this.current.previousSibling,this.makeE("")],toReplace=this.current.previousSibling,replace=!0;else{var token=this.current.textContent.substring(0,this.caret).match(/[0-9.]+$|[a-zA-Z]$/);null!=token&&token.length>0&&(token=token[0],leftPiece=this.makeE(this.current.textContent.slice(0,this.caret-token.length)),rightPiece=this.makeE(this.current.textContent.slice(this.caret)),content[cur]=[this.makeE(token)])}replace||null!=leftPiece&&null!=rightPiece||(leftPiece=this.makeE(this.current.textContent.slice(0,this.caret)),rightPiece=this.makeE(this.current.textContent.slice(this.caret)),toRemove=[this.current]);var currentParent=this.current.parentNode,f=this.symbolToNode(name,content).f,next=this.current.nextSibling;if(replace)currentParent.replaceChild(f,toReplace);else{0===toRemove.length&&this.current.parentNode.removeChild(this.current);for(var i=0;i<toRemove.length;i++)next===toRemove[i]&&(next=next.nextSibling),currentParent.removeChild(toRemove[i]);currentParent.insertBefore(leftPiece,next),currentParent.insertBefore(f,next),currentParent.insertBefore(rightPiece,next)}return this.caret=0,this.current=f,s.char?this.current=this.current.nextSibling:this.downFromFToBlank(),this.clearSelection(),this.checkpoint(),!0},Backend.prototype.getSelection=function(){if(this.selStatus===Backend.SEL_NONE)return null;var involved=[],nodeList=[],remnant=null;if(this.selStart.node===this.selEnd.node)return{nodeList:[this.makeE(this.selStart.node.textContent.substring(this.selStart.caret,this.selEnd.caret))],remnant:this.makeE(this.selStart.node.textContent.substring(0,this.selStart.caret)+this.selEnd.node.textContent.substring(this.selEnd.caret)),involved:[this.selStart.node]};nodeList.push(this.makeE(this.selStart.node.textContent.substring(this.selStart.caret))),involved.push(this.selStart.node),involved.push(this.selEnd.node),remnant=this.makeE(this.selStart.node.textContent.substring(0,this.selStart.caret)+this.selEnd.node.textContent.substring(this.selEnd.caret));for(var n=this.selStart.node.nextSibling;null!=n&&n!==this.selEnd.node;)involved.push(n),nodeList.push(n),n=n.nextSibling;return nodeList.push(this.makeE(this.selEnd.node.textContent.substring(0,this.selEnd.caret))),{nodeList:nodeList,remnant:remnant,involved:involved,cursor:0}},Backend.prototype.makeE=function(text){var base=this.doc.base,newNode=base.createElement("e");return newNode.appendChild(base.createTextNode(text)),newNode},Backend.prototype.insertString=function(s){if(this.selStatus!==Backend.SEL_NONE&&(this.deleteSelection(),this.clearSelection()),!("*"===s&&this.checkForPower()||"="===s&&this.checkForIneq())){if(this.current.firstChild){var value=this.current.textContent;this.current.textContent=value.slice(0,this.caret)+s+value.slice(this.caret)}else this.current.appendChild(this.doc.base.createTextNode(s));this.caret+=s.length,this.checkpoint(),this.autoreplace&&this.checkForSymbol()}},Backend.prototype.copySelection=function(){var sel=this.getSelection();if(sel){Backend.Clipboard=[];for(var i=0;i<sel.nodeList.length;i++)Backend.Clipboard.push(sel.nodeList[i].cloneNode(!0));this.clearSelection()}},Backend.prototype.cutSelection=function(){var nodeList=this.deleteSelection();if(nodeList){Backend.Clipboard=[];for(var i=0;i<nodeList.length;i++)Backend.Clipboard.push(nodeList[i].cloneNode(!0));this.clearSelection(),this.checkpoint()}},Backend.prototype.insertNodes=function(nodeList,moveCursor){for(var clipboard=[],i=0;i<nodeList.length;i++)clipboard.push(nodeList[i].cloneNode(!0));if(this.current.firstChild||this.current.appendChild(this.doc.base.createTextNode("")),1===clipboard.length)clipboard[0].firstChild&&(this.current.textContent=this.current.textContent.substring(0,this.caret)+clipboard[0].textContent+this.current.textContent.substring(this.caret),moveCursor&&(this.caret+=clipboard[0].textContent.length));else{var nn=this.makeE(clipboard[clipboard.length-1].textContent+this.current.textContent.substring(this.caret));this.current.textContent=this.current.textContent.substring(0,this.caret)+clipboard[0].textContent,null==this.current.nextSibling?this.current.parentNode.appendChild(nn):this.current.parentNode.insertBefore(nn,this.current.nextSibling);for(i=1;i<clipboard.length-1;i++)this.current.parentNode.insertBefore(clipboard[i],nn);moveCursor&&(this.current=nn,this.caret=clipboard[clipboard.length-1].textContent.length)}},Backend.prototype.paste=function(){this.deleteSelection(),this.clearSelection(),Backend.Clipboard&&0!==Backend.Clipboard.length&&(this.insertNodes(Backend.Clipboard,!0),this.checkpoint())},Backend.prototype.clearSelection=function(){this.selStart=null,this.selEnd=null,this.selStatus=Backend.SEL_NONE},Backend.prototype.deleteSelection=function(){var sel=this.getSelection();if(!sel)return null;for(var selParent=sel.involved[0].parentNode,selPrev=sel.involved[0].previousSibling,i=0;i<sel.involved.length;i++){var n=sel.involved[i];selParent.removeChild(n)}return null==selPrev?null==selParent.firstChild?selParent.appendChild(sel.remnant):selParent.insertBefore(sel.remnant,selParent.firstChild):"f"===selPrev.nodeName&&(null==selPrev.nextSibling?selParent.appendChild(sel.remnant):selParent.insertBefore(sel.remnant,selPrev.nextSibling)),this.current=sel.remnant,this.caret=this.selStart.caret,sel.nodeList},Backend.prototype.selectAll=function(){this.home(),this.setSelStart(),this.end(),this.setSelEnd(),this.selStart.node===this.selEnd.node&&this.selStart.caret===this.selEnd.caret||(this.selStatus=Backend.SEL_CURSOR_AT_END)},Backend.prototype.selectRight=function(){if(this.selStatus===Backend.SEL_NONE&&(this.setSelStart(),this.selStatus=Backend.SEL_CURSOR_AT_END),this.caret>=this.current.textContent.length){var nn=this.current.nextSibling;null!=nn?(this.current=nn.nextSibling,this.caret=0,this.setSelection(Backend.SEL_CURSOR_AT_END)):this.setSelection(Backend.SEL_CURSOR_AT_END)}else this.caret+=1,this.setSelection(Backend.SEL_CURSOR_AT_END);this.selStart.node===this.selEnd.node&&this.selStart.caret===this.selEnd.caret&&(this.selStatus=Backend.SEL_NONE)},Backend.prototype.setSelection=function(sstatus,mouse){(this.selStatus===Backend.SEL_NONE||mouse)&&(this.selStatus=sstatus),this.selStatus===Backend.SEL_CURSOR_AT_START?this.setSelStart():this.selStatus===Backend.SEL_CURSOR_AT_END&&this.setSelEnd()},Backend.prototype.selectLeft=function(){if(this.selStatus===Backend.SEL_NONE&&(this.setSelEnd(),this.selStatus=Backend.SEL_CURSOR_AT_START),this.caret<=0){var nn=this.current.previousSibling;null!=nn?(this.current=nn.previousSibling,this.caret=this.current.textContent.length,this.setSelection(Backend.SEL_CURSOR_AT_START)):this.setSelection(Backend.SEL_CURSOR_AT_START)}else this.caret-=1,this.setSelection(Backend.SEL_CURSOR_AT_START);this.selStart.node===this.selEnd.node&&this.selStart.caret===this.selEnd.caret&&(this.selStatus=Backend.SEL_NONE)},Backend.prototype.copyExtendListRight=function(){this.extendList("right",!0)},Backend.prototype.copyExtendListLeft=function(){this.extendList("left",!0)},Backend.prototype.extendListRight=function(){this.extendList("right",!1)},Backend.prototype.extendListLeft=function(){this.extendList("left",!1)},Backend.prototype.extendListUp=function(){this.extendList("up",!1)},Backend.prototype.extendListDown=function(){this.extendList("down",!1)},Backend.prototype.copyExtendListUp=function(){this.extendList("up",!0)},Backend.prototype.copyExtendListDown=function(){this.extendList("down",!0)},Backend.prototype.moveVerticalList=function(down){for(var n=this.current;n.parentNode&&n.parentNode.parentNode&&("c"!==n.nodeName||"l"!==n.parentNode.nodeName||"l"!==n.parentNode.parentNode.nodeName);)n=n.parentNode;if(n.parentNode){for(var pos=1,cc=n;null!=cc.previousSibling;)pos++,cc=cc.previousSibling;var newRow=down?n.parentNode.nextSibling:n.parentNode.previousSibling;if(newRow){for(var idx=1,nn=newRow.firstChild;idx<pos;)idx++,nn=nn.nextSibling;this.current=nn.firstChild,this.caret=down?0:this.current.textContent.length}}},Backend.prototype.extendList=function(direction,copy){for(var base=this.doc.base,vertical="up"===direction||"down"===direction,before="up"===direction||"left"===direction,name=vertical?"l":"c",n=this.current;n.parentNode&&(n.nodeName!==name||"l"!==n.parentNode.nodeName);)n=n.parentNode;if(n.parentNode){var toInsert;if(!vertical&&"l"===n.parentNode.parentNode.nodeName){(toInsert=base.createElement("c")).appendChild(this.makeE(""));for(var pos=1,cc=n;null!=cc.previousSibling;)pos++,cc=cc.previousSibling;for(var toModify=[],iterator=this.doc.XPathList("./l/c[position()="+pos+"]",n.parentNode.parentNode),nn=iterator.iterateNext();null!=nn;nn=iterator.iterateNext())toModify.push(nn);for(var j=0;j<toModify.length;j++){var node=toModify[j];copy?node.parentNode.insertBefore(node.cloneNode(!0),before?node:node.nextSibling):node.parentNode.insertBefore(toInsert.cloneNode(!0),before?node:node.nextSibling),node.parentNode.setAttribute("s",parseInt(node.parentNode.getAttribute("s"))+1)}return this.current=before?n.previousSibling.lastChild:n.nextSibling.firstChild,this.caret=this.current.textContent.length,void this.checkpoint()}if(copy)toInsert=n.cloneNode(!0);else if(vertical){(toInsert=base.createElement("l")).setAttribute("s",n.getAttribute("s"));for(var i=0;i<parseInt(n.getAttribute("s"));i++){var c=base.createElement("c");c.appendChild(this.makeE("")),toInsert.appendChild(c)}}else(toInsert=base.createElement("c")).appendChild(this.makeE(""));n.parentNode.setAttribute("s",parseInt(n.parentNode.getAttribute("s"))+1),n.parentNode.insertBefore(toInsert,before?n:n.nextSibling),this.current=vertical?toInsert.firstChild.firstChild:toInsert.firstChild,this.caret=0,this.checkpoint()}},Backend.prototype.removeListColumn=function(){for(var n=this.current;n.parentNode&&n.parentNode.parentNode&&("c"!==n.nodeName||"l"!==n.parentNode.nodeName||"l"!==n.parentNode.parentNode.nodeName);)n=n.parentNode;if(n.parentNode){if(null!=n.previousSibling)this.current=n.previousSibling.lastChild,this.caret=this.current.textContent.length;else{if(null==n.nextSibling)return;this.current=n.nextSibling.firstChild,this.caret=0}for(var pos=1,cc=n;null!=cc.previousSibling;)pos++,cc=cc.previousSibling;for(var toModify=[],iterator=this.doc.XPathList("./l/c[position()="+pos+"]",n.parentNode.parentNode),nn=iterator.iterateNext();null!=nn;nn=iterator.iterateNext())toModify.push(nn);for(var j=0;j<toModify.length;j++){var node=toModify[j];node.parentNode.setAttribute("s",parseInt(node.parentNode.getAttribute("s"))-1),node.parentNode.removeChild(node)}}},Backend.prototype.removeListRow=function(){for(var n=this.current;n.parentNode&&("l"!==n.nodeName||"l"!==n.parentNode.nodeName);)n=n.parentNode;if(n.parentNode){if(null!=n.previousSibling)this.current=n.previousSibling.lastChild.lastChild,this.caret=this.current.textContent.length;else{if(null==n.nextSibling)return;this.current=n.nextSibling.firstChild.firstChild,this.caret=0}n.parentNode.setAttribute("s",parseInt(n.parentNode.getAttribute("s"))-1),n.parentNode.removeChild(n)}},Backend.prototype.removeListItem=function(){for(var n=this.current;n.parentNode&&("c"!==n.nodeName||"l"!==n.parentNode.nodeName);)n=n.parentNode;if(n.parentNode)if(n.parentNode.parentNode&&"l"===n.parentNode.parentNode.nodeName)this.removeListColumn();else{if(null!=n.previousSibling)this.current=n.previousSibling.lastChild,this.caret=this.current.textContent.length;else{if(null==n.nextSibling)return;this.current=n.nextSibling.firstChild,this.caret=0}n.parentNode.setAttribute("s",parseInt(n.parentNode.getAttribute("s"))-1),n.parentNode.removeChild(n)}},Backend.prototype.right=function(){if(this.clearSelection(),this.caret>=this.current.textContent.length){var nn=this.doc.XPathNode("following::e[1]",this.current);null!=nn?(this.current=nn,this.caret=0):this.emit("rightEnd")}else this.caret+=1},Backend.prototype.spacebar=function(){"text"===this.current.parentNode.getAttribute("mode")&&this.insertString(" ")},Backend.prototype.left=function(){if(this.clearSelection(),this.caret<=0){var pn=this.doc.XPathNode("preceding::e[1]",this.current);null!=pn?(this.current=pn,this.caret=this.current.textContent.length):this.emit("leftEnd")}else this.caret-=1},Backend.prototype.deleteFromC=function(){for(var pos=0,c=this.current.parentNode;c&&"c"===c.nodeName;)pos++,c=c.previousSibling;for(var idx=this.current.parentNode.getAttribute("delete"),remaining=[],n=this.doc.XPathNode("./c[position()="+idx+"]",this.current.parentNode.parentNode).firstChild;null!=n;n=n.nextSibling)remaining.push(n);this.current=this.current.parentNode.parentNode,this.deleteFromF(),this.insertNodes(remaining,pos>idx)},Backend.prototype.deleteFromE=function(){if(this.caret>0){var value=this.current.textContent;this.current.textContent=value.slice(0,this.caret-1)+value.slice(this.caret),this.caret--}else if(null!=this.current.previousSibling&&"yes"===this.current.previousSibling.getAttribute("c"))this.current=this.current.previousSibling,this.deleteFromF();else{if(null!=this.current.previousSibling&&"f"===this.current.previousSibling.nodeName)return this.left(),!1;if(null!=this.current.parentNode.previousSibling&&"c"===this.current.parentNode.previousSibling.nodeName){if(!this.current.parentNode.hasAttribute("delete"))return this.left(),!1;this.deleteFromC()}else{if(null!=this.current.previousSibling||"c"!==this.current.parentNode.nodeName||null!=this.current.parentNode.previousSibling&&"c"===this.current.parentNode.previousSibling.nodeName)return!1;for(var par=this.current.parentNode;"l"===par.parentNode.nodeName||"c"===par.parentNode.nodeName;)par=par.parentNode;par.hasAttribute("delete")?this.deleteFromC():(this.current=par.parentNode,this.deleteFromF())}}return!0},Backend.prototype.deleteForwardFromE=function(){if(this.caret<this.current.textContent.length){var value=this.current.textContent;this.current.textContent=value.slice(0,this.caret)+value.slice(this.caret+1)}else if(null!=this.current.nextSibling)this.current=this.current.nextSibling,this.deleteFromF();else if("c"===this.current.parentNode.nodeName)return!1;return!0},Backend.prototype.backspace=function(){this.selStatus!==Backend.SEL_NONE?(this.deleteSelection(),this.selStatus=Backend.SEL_NONE,this.checkpoint()):this.deleteFromE()&&this.checkpoint()},Backend.prototype.deleteKey=function(){this.selStatus!==Backend.SEL_NONE?(this.deleteSelection(),this.selStatus=Backend.SEL_NONE,this.checkpoint()):this.deleteForwardFromE()&&this.checkpoint()},Backend.prototype.backslash=function(){"text"!==this.current.parentNode.getAttribute("mode")&&"symbol"!==this.current.parentNode.getAttribute("mode")&&this.insertSymbol("sym_name")},Backend.prototype.tab=function(){if("symbol"===this.current.parentNode.getAttribute("mode")){var name=this.current.firstChild.textContent,candidates=[];for(var n in Symbols.symbols)n.substr(0,name.length)===name&&candidates.push(n);1===candidates.length?(this.current.firstChild.textContent=candidates[0],this.caret=candidates[0].length):this.emit("completion",{candidates:candidates})}else this.checkForSymbol()},Backend.prototype.rightParen=function(){"e"===this.current.nodeName&&this.caret!==this.current.textContent.length||this.right()},Backend.prototype.up=function(){if(this.clearSelection(),this.current.parentNode.hasAttribute("up")){for(var t=parseInt(this.current.parentNode.getAttribute("up")),n=this.current.parentNode.parentNode.firstChild;null!=n&&t>0;)"c"===n.nodeName&&t--,t>0&&(n=n.nextSibling);this.current=n.lastChild,this.caret=this.current.textContent.length}else this.moveVerticalList(!1)},Backend.prototype.down=function(){if(this.clearSelection(),this.current.parentNode.hasAttribute("down")){for(var t=parseInt(this.current.parentNode.getAttribute("down")),n=this.current.parentNode.parentNode.firstChild;null!=n&&t>0;)"c"===n.nodeName&&t--,t>0&&(n=n.nextSibling);this.current=n.lastChild,this.caret=this.current.textContent.length}else this.moveVerticalList(!0)},Backend.prototype.home=function(){this.current=this.doc.root().firstChild,this.caret=0},Backend.prototype.end=function(){this.current=this.doc.root().lastChild,this.caret=this.current.textContent.length},Backend.prototype.checkpoint=function(){var base=this.doc.base;this.current.setAttribute("current","yes"),this.current.setAttribute("caret",this.caret.toString()),this.undoCurrent++,this.undoData[this.undoCurrent]=base.cloneNode(!0),this.undoData.splice(this.undoCurrent+1,this.undoData.length),this.emit("change",{old:this.undoData[this.undoCurrent-1],new:this.undoData[this.undoCurrent]}),this.current.removeAttribute("current"),this.current.removeAttribute("caret"),this.parent&&this.parent.ready&&this.parent.render(!0)},Backend.prototype.restore=function(t){this.doc.base=this.undoData[t].cloneNode(!0),this.findCurrent(),this.current.removeAttribute("current"),this.current.removeAttribute("caret")},Backend.prototype.findCurrent=function(){this.current=this.doc.XPathNode("//*[@current='yes']"),this.caret=parseInt(this.current.getAttribute("caret"))},Backend.prototype.undo=function(){this.clearSelection(),this.undoCurrent<=0||(this.undoCurrent--,this.restore(this.undoCurrent))},Backend.prototype.redo=function(){this.clearSelection(),this.undoCurrent>=this.undoData.length-1||(this.undoCurrent++,this.restore(this.undoCurrent))},Backend.prototype.done=function(s){"symbol"===this.current.parentNode.getAttribute("mode")?this.completeSymbol():this.emit("done")},Backend.prototype.completeSymbol=function(){var name=this.current.firstChild.textContent;Symbols.symbols[name]&&(this.current=this.current.parentNode.parentNode,this.deleteFromF(),this.insertSymbol(name))},Backend.prototype.isBlacklisted=function(type){for(var i=0;i<this.blacklist.length;i++)if(type===this.blacklist[i])return!0;return!1},Backend.prototype.replaceSymbol=function(node,name){var symbol=Symbols.symbols[name];if(!symbol||this.isBlacklisted(name))return!1;var f=this.symbolToNode(name,[]).f;return node.parentNode.replaceChild(f,node),symbol.char||(this.caret=0,this.current=f,this.downFromFToBlank()),this.checkpoint(),!0},Backend.prototype.checkForPower=function(){return!(!this.autoreplace||0!==this.caret||!this.current.previousSibling||"f"!==this.current.previousSibling.nodeName||"*"!==this.current.previousSibling.getAttribute("type"))&&(this.current=this.current.previousSibling,this.deleteFromF(),this.insertSymbol("power"),!0)},Backend.prototype.checkForIneq=function(){if(this.autoreplace&&0===this.caret&&this.current.previousSibling&&"f"===this.current.previousSibling.nodeName&&["<",">"].indexOf(this.current.previousSibling.getAttribute("type"))>-1){var n=this.current.previousSibling;return this.replaceSymbol(n,n.getAttribute("type")+"=")}return!1},Backend.prototype.checkForSymbol=function(){if("text"!==this.current.parentNode.getAttribute("mode")&&"symbol"!==this.current.parentNode.getAttribute("mode")){var value=this.current.textContent;if("f"!==this.current.parentNode.parentNode.nodeName||1!==this.current.parentNode.childNodes.length||"h"!==value){for(var s in Symbols.symbols)if(!(["psi","xi"].indexOf(s)>-1)&&"e"===this.current.nodeName&&value.substring(this.caret-s.length,this.caret)===s){var temp=value,tempCaret=this.caret;return this.current.textContent=value.slice(0,this.caret-s.length)+value.slice(this.caret),this.caret-=s.length,void(this.insertSymbol(s)||(this.current.textContent=temp,this.caret=tempCaret))}}else{var n=this.current.parentNode.parentNode;this.replaceSymbol(n,n.getAttribute("type")+"h")}}},module.exports=Backend},{"./doc.js":2,"./symbols.js":4,eventemitter3:83}],2:[function(require,module,exports){var xmldom=require("./xmldom/node"),Doc=function(doc){doc=doc||"<m><e></e></m>",this.setContent(doc)};Doc.isSmall=function(nn){for(var n=nn.parentNode;null!=n&&"m"!==n.nodeName;){if("yes"===n.getAttribute("small"))return!0;for(n=n.parentNode;null!=n&&"c"!==n.nodeName;)n=n.parentNode}return!1},Doc.prototype.ensureTextNodes=function(){for(var l=this.base.getElementsByTagName("e"),i=0;i<l.length;i++)l[i].firstChild||l[i].appendChild(this.base.createTextNode(""))},Doc.prototype.isBlank=function(){if(this.base.getElementsByTagName("f").length>0)return!1;var l=this.base.getElementsByTagName("e");return!(1!==l.length||l[0].firstChild&&""!==l[0].firstChild.textContent)},Doc.prototype.root=function(){return this.base.documentElement},Doc.prototype.getContent=function(t,r){return"xml"!==t?this.render(t,this.root(),r):(new xmldom.XMLSerializer).serializeToString(this.base)},Doc.prototype.XPathNode=function(xpath,node){return node=node||this.root(),this.base.evaluate(xpath,node,null,xmldom.XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},Doc.prototype.XPathList=function(xpath,node){return node=node||this.root(),this.base.evaluate(xpath,node,null,xmldom.XPathResult.ORDERED_NODE_ITERATOR_TYPE,null)},Doc.prototype.setContent=function(data){this.base=(new xmldom.DOMParser).parseFromString(data,"text/xml"),this.ensureTextNodes()};Doc.prototype.render=function(t,n,r){var ans="";if("e"===n.nodeName)"latex"===t&&r?ans=n.getAttribute("render"):"text"===t?(ans=n.textContent,n.previousSibling&&n.nextSibling&&""===ans&&"operators"!==n.previousSibling.getAttribute("group")&&"operators"!==n.nextSibling.getAttribute("group")?ans="*":(ans=(ans=(ans=(ans=ans.replace(/([a-zA-Z])(?=\.)/g,"$1*")).replace(/(\.)(?=[a-zA-Z])/g,"$1*")).replace(/([a-zA-Z])(?=[a-zA-Z0-9])/g,"$1*")).replace(/([a-zA-Z0-9])(?=[a-zA-Z])/g,"$1*"),n.previousSibling&&"operators"!==n.previousSibling.getAttribute("group")&&(ans=ans.replace(/^([a-zA-Z0-9])/g,"*$1")),n.nextSibling&&"operators"!==n.nextSibling.getAttribute("group")&&(ans=ans.replace(/([a-zA-Z0-9])$/g,"$1*")))):ans=n.textContent;else if("f"===n.nodeName){var type="latex"===t&&Doc.isSmall(n)?"small_latex":t;(nn=this.XPathNode("./b[@p='"+type+"']",n)||this.XPathNode("./b[@p='"+t+"']",n))&&(ans=this.render(t,nn,r))}else if("b"===n.nodeName){for(var cs=[],i=1,nn=n.parentNode.firstChild;null!=nn;nn=nn.nextSibling)"c"!==nn.nodeName&&"l"!==nn.nodeName||(cs[i++]=this.render(t,nn,r));for(nn=n.firstChild;null!=nn;nn=nn.nextSibling)if(3===nn.nodeType)ans+=nn.textContent;else if(1===nn.nodeType)if(nn.hasAttribute("d")){var dim=parseInt(nn.getAttribute("d")),joiner=function(d,l){if(d>1)for(var k=0;k<l.length;k++)l[k]=joiner(d-1,l[k]);return l.join(nn.getAttribute("sep"+(d-1)))};ans+=joiner(dim,cs[parseInt(nn.getAttribute("ref"))])}else ans+=cs[parseInt(nn.getAttribute("ref"))]}else if("l"===n.nodeName){ans=[];for(var i=0,nn=n.firstChild;null!=nn;nn=nn.nextSibling)ans[i++]=this.render(t,nn,r)}else if("c"===n.nodeName||"m"===n.nodeName){for(nn=n.firstChild;null!=nn;nn=nn.nextSibling)ans+=this.render(t,nn,r);"latex"===t&&"yes"===n.getAttribute("bracket")&&this.base.evaluate("(count(./*) != 1 and not                   (                             count(./e)=2 and                 count(./f)=1 and                 count(./e[string-length(text())=0])=2 and                 (                   (                                count(./f/c)=1 and                    count(./f/c[@is_bracket='yes'])=1                  )                  or                  (                    f/@c='yes' and                 count(./e[@current='yes'])=0 and                 count(./e[@temp='yes'])=0                   )                )              )            )              or                (              count(./*) = 1 and               string-length(./e/text()) != 1 and               number(./e/text()) != ./e/text()             )             or                 (               count(./*) = 1 and               ./e/@current = 'yes'             )             or                 (               count(./*) = 1 and               ./e/@temp = 'yes'             )",n,null,xmldom.XPathResult.BOOLEAN_TYPE,null).booleanValue&&(ans="\\left("+ans+"\\right)")}return ans},module.exports=Doc},{"./xmldom/node":5}],3:[function(require,module,exports){var Mousetrap=require("mousetrap"),katex=require("katex"),Backend=require("./backend.js"),Symbols=require("./symbols.js"),Doc=require("./doc.js"),debounce=require("throttle-debounce/debounce"),MathYlem=function(el,config){var self=this,options=(config=config||{}).options||{};if(("string"==typeof el||el instanceof String)&&(el=document.getElementById(el)),!el)throw new Error("Invalid element.");if(el.mathylem)throw new Error("MathYlem already attached.");if(!el.id){for(var i=MathYlem.maxUid;document.getElementById("mathylem_"+i);)i++;MathYlem.maxUid=i,el.id="mathylem_"+i}if(el.className+=" mathylem",el.tabIndex=MathYlem.maxTabIndex++,this.active=!0,this.emptyContent=options.emptyContent||"\\red{[?]}",this.editor=el,this._focus=!1,this._processedFakeInput=20,this.ready=!1,MathYlem.instances[el.id]=this,el.mathylem=this,config.parent=self,/Mobi/.test(navigator.userAgent)){var fakeInput=document.createElement("textarea");this.fakeInput=fakeInput,fakeInput.setAttribute("autocapitalize","none"),fakeInput.setAttribute("autocomplete","off"),fakeInput.setAttribute("autocorrect","off"),fakeInput.setAttribute("spellcheck","false"),el.insertAdjacentElement("afterend",fakeInput),fakeInput.style.position="absolute",fakeInput.style.top=el.offsetTop+"px",fakeInput.style.left=el.offsetLeft+"px",fakeInput.style.width="1px",fakeInput.style.height="1px",fakeInput.style.opacity=0,fakeInput.style.padding=0,fakeInput.style.margin=0,fakeInput.style.border=0,fakeInput.addEventListener("input",debounce(100,function(){for(;self._processedFakeInput>self.fakeInput.value.length;self._processedFakeInput--)Mousetrap.trigger("backspace");for(0===self.fakeInput.value.length&&(self._processedFakeInput=20,self.fakeInput.value="____________________");self._processedFakeInput<self.fakeInput.value.length;self._processedFakeInput++){var c=self.fakeInput.value[self._processedFakeInput];c!==c.toLowerCase()?Mousetrap.trigger("shift+"+c.toLowerCase()):" "===c?Mousetrap.trigger("space"):Mousetrap.trigger(c)}})),fakeInput.addEventListener("keydown",function(e){8===e.keycode?(Mousetrap.trigger("backspace"),e.preventDefault()):13===e.keycode&&(Mousetrap.trigger("enter"),e.preventDefault())}),fakeInput.addEventListener("focus",function(){self.activate(!1)}),fakeInput.addEventListener("blur",function(){self._focus?(self._focus=!1,this.focus()):self.deactivate(!1)}),fakeInput.value="____________________"}this.backend=new Backend(config),this.tempCursor={node:null,caret:0},this.editor.addEventListener("click",function(){var g=this.mathylem,b=g.backend;g.active||(g._focus=!0,setTimeout(function(){g._focus=!1},500),b.clearSelection(),b.end(),g.activate(!0))}),Backend.ready&&(this.ready=!0,this.backend.emit("ready"),this.render(!0)),this.deactivate(!0),this.computeLocations()};MathYlem.Backend=Backend,MathYlem.Doc=Doc,MathYlem.Symbols=Symbols,MathYlem.katex=katex,MathYlem.maxUid=0,MathYlem.maxTabIndex=0,MathYlem.instances={},MathYlem.activeMathYlem=null,MathYlem.initialize=function(symbols){Array.isArray(symbols)||(symbols=[symbols]);for(var calls=[],i=0;i<symbols.length;i++){var x=function(j){return function(callback){var req=new XMLHttpRequest;req.onload=function(){Symbols.addSymbols(this.responseText),callback()},req.open("get",symbols[j],!0),req.send()}}(i);calls.push(x)}calls.push(function(){MathYlem.registerKeyboardHandlers();for(var i in MathYlem.instances)MathYlem.instances[i].ready=!0,MathYlem.instances[i].render(!0),MathYlem.instances[i].backend.emit("ready");Backend.ready=!0});var j=0,cb=function(){calls[++j](cb)};calls[0](cb)},MathYlem.prototype.isChanged=function(){var bb=this.editor.getElementsByClassName("katex")[0];if(bb){var rect=bb.getBoundingClientRect(),ans=!this.boundingBox||this.boundingBox.top!==rect.top||this.boundingBox.bottom!==rect.bottom||this.boundingBox.right!==rect.right||this.boundingBox.left!==rect.left;return this.boundingBox=rect,ans}},MathYlem.prototype.computeLocations=function(){var ans=[],bb=this.editor.getElementsByClassName("katex")[0];if(bb){var rect=bb.getBoundingClientRect();ans.push({path:"all",top:rect.top,bottom:rect.bottom,left:rect.left,right:rect.right});for(var elts=this.editor.getElementsByClassName("mathylem_elt"),i=0;i<elts.length;i++){var elt=elts[i];if("mstyle"!==elt.nodeName&&(0!==(rect=elt.getBoundingClientRect()).top||0!==rect.bottom||0!==rect.left||0!==rect.right))for(var cl=elt.className.split(/\s+/),j=0;j<cl.length;j++)if("mathylem_loc"===cl[j].substr(0,12)){ans.push({path:cl[j],top:rect.top,bottom:rect.bottom,left:rect.left,right:rect.right,midX:(rect.left+rect.right)/2,midY:(rect.bottom+rect.top)/2,blank:cl.indexOf("mathylem_blank")>=0});break}}this.boxes=ans}},MathYlem.getPath=function(n){var name=n.nodeName;if("m"===name)return"mathylem_loc_m";for(var ns=0,nn=n;null!=nn;nn=nn.previousSibling)1===nn.nodeType&&nn.nodeName===name&&ns++;return MathYlem.getPath(n.parentNode)+"_"+name+ns},MathYlem.getLocation=function(x,y,currentNode,currentCaret){var g=MathYlem.activeMathYlem,minDist=-1,midDist=0,opt=null;if(currentNode)var currentPath=MathYlem.getPath(currentNode),currentPos=parseInt(currentPath.substring(currentPath.lastIndexOf("e")+1));var boxes=g.boxes;if(boxes){if(currentNode){currentPath=currentPath.replace(/e[0-9]+$/,"e");for(var boxes2=[],i=0;i<boxes.length;i++)if("all"!==boxes[i].path){var path=boxes[i].path.substring(0,boxes[i].path.lastIndexOf("_"));(path=path.replace(/e[0-9]+$/,"e"))===currentPath&&boxes2.push(boxes[i])}boxes=boxes2}if(boxes){for(i=0;i<boxes.length;i++){var box=boxes[i];if("all"!==box.path){var xdist=Math.max(box.left-x,x-box.right,0),ydist=Math.max(box.top-y,y-box.bottom,0),dist=Math.sqrt(xdist*xdist+ydist*ydist);(-1===minDist||dist<minDist)&&(minDist=dist,midDist=x-box.midX,opt=box)}else opt||(opt={path:"mathylem_loc_m_e1_0"})}var loc=opt.path.substring("mathylem_loc".length);loc=(loc=loc.replace(/_/g,"/")).replace(/([0-9]+)(?=.*?\/)/g,"[$1]");var cur=g.backend.doc.XPathNode(loc.substring(0,loc.lastIndexOf("/")),g.backend.doc.root()),car=parseInt(loc.substring(loc.lastIndexOf("/")+1));midDist>0&&!opt.blank&&car++;var ans={current:cur,caret:car,pos:"none"};if(currentNode&&opt){var optPos=parseInt(opt.path.substring(opt.path.lastIndexOf("e")+1,opt.path.lastIndexOf("_")));optPos<currentPos?ans.pos="left":optPos>currentPos?ans.pos="right":car<currentCaret?ans.pos="left":car>currentCaret&&(ans.pos="right")}return ans}}},MathYlem.mouseUp=function(e){MathYlem.kb.isMouseDown=!1;var g=MathYlem.activeMathYlem;g&&g.render(!0)},MathYlem.mouseDown=function(e){var n=e.target;for(MathYlem.kb.isMouseDown=!0;null!=n;){if(n.mathylem){var g=MathYlem.activeMathYlem;if(n.mathylem===g){if(g._focus=!0,setTimeout(function(){g._focus=!1},500),e.shiftKey)g.selectTo(e.clientX,e.clientY,!0);else{var loc=e.touches?MathYlem.getLocation(e.touches[0].clientX,e.touches[0].clientY):MathYlem.getLocation(e.clientX,e.clientY);if(!loc)return;var b=g.backend;b.current=loc.current,b.caret=loc.caret,b.selStatus=Backend.SEL_NONE}g.render(!0)}else g&&g.deactivate(!0);return}n=n.parentNode}MathYlem.activeMathYlem=null;for(var i in MathYlem.instances)MathYlem.instances[i].deactivate(!0)},MathYlem.mouseMove=function(e){var g=MathYlem.activeMathYlem;if(g){if(MathYlem.kb.isMouseDown)g.selectTo(e.clientX,e.clientY,!0);else{var rect=g.editor.getBoundingClientRect();if(e.clientX<rect.left||e.clientX>rect.right||e.clientY>rect.bottom||e.clientY<rect.top)g.tempCursor={node:null,caret:0};else{var loc=MathYlem.getLocation(e.clientX,e.clientY);if(!loc)return;g.tempCursor={node:loc.current,caret:loc.caret}}}g.render(g.isChanged())}},MathYlem.touchMove=function(e){var g=MathYlem.activeMathYlem;g&&(g.selectTo(e.touches[0].clientX,e.touches[0].clientY,!0),g.render(g.isChanged()))},MathYlem.prototype.selectTo=function(x,y,mouse){var selCaret=this.backend.caret,selCursor=this.backend.current;this.backend.selStatus===Backend.SEL_CURSOR_AT_START?(selCursor=this.backend.selEnd.node,selCaret=this.backend.selEnd.caret):this.backend.selStatus===Backend.SEL_CURSOR_AT_END&&(selCursor=this.backend.selStart.node,selCaret=this.backend.selStart.caret);var loc=MathYlem.getLocation(x,y,selCursor,selCaret);loc&&this.backend.selectTo(loc,selCursor,selCaret,mouse)},"ontouchstart"in window?(window.addEventListener("touchstart",MathYlem.mouseDown,!1),window.addEventListener("touchmove",MathYlem.touchMove,!1)):(window.addEventListener("mousedown",MathYlem.mouseDown,!1),window.addEventListener("mouseup",MathYlem.mouseUp,!1),window.addEventListener("mousemove",MathYlem.mouseMove,!1)),MathYlem.prototype.renderNode=function(t){var output="";if("render"===t){var root=this.backend.doc.root();return this.backend.addPaths(root,"m"),this.backend.tempCursor=this.tempCursor,this.backend.addCursorClasses(root),this.backend.current.setAttribute("current","yes"),this.tempCursor.node&&this.tempCursor.node.setAttribute("temp","yes"),output=this.backend.getContent("latex",!0),this.backend.removeCursorClasses(root),output=output.replace(new RegExp("&amp;","g"),"&")}return output=this.backend.getContent(t)},MathYlem.prototype.render=function(updated){if(this.active||!this.backend.doc.isBlank()){var tex=this.renderNode("render");try{katex.render(tex,this.editor)}catch(e){this.backend.undo(),this.render(!1)}updated&&this.computeLocations()}else katex.render(this.emptyContent,this.editor)},MathYlem.prototype.activate=function(focus){MathYlem.activeMathYlem=this,this.active=!0,this.editor.className=this.editor.className.replace(new RegExp("(\\s|^)mathylem_inactive(\\s|$)")," mathylem_active "),focus&&(this.fakeInput?(this.fakeInput.style.top=this.editor.offsetTop+"px",this.fakeInput.style.left=this.editor.offsetLeft+"px",this.fakeInput.focus(),this.fakeInput.setSelectionRange(this.fakeInput.value.length,this.fakeInput.value.length)):this.editor.focus()),this.ready&&(this.render(!0),this.backend.emit("focus",{focused:!0}))},MathYlem.prototype.deactivate=function(blur){this.active=!1;var r1=new RegExp("(?:\\s|^)mathylem_active(?:\\s|$)"),r2=new RegExp("(?:\\s|^)mathylem_inactive(?:\\s|$)");this.editor.className.match(r1)?this.editor.className=this.editor.className.replace(r1," mathylem_inactive "):this.editor.className.match(r2)||(this.editor.className+=" mathylem_inactive "),blur&&this.fakeInput&&this.fakeInput.blur(),this.ready&&(this.render(),this.backend.emit("focus",{focused:!1}))},MathYlem.kb={},MathYlem.kb.isMouseDown=!1,MathYlem.kb.chars={"=":"=","+":"+","-":"-","*":"*",".":".",",":",","<":"<",">":">","shift+/":"/","shift+=":"+"},MathYlem.kb.symbols={"/":"frac","%":"mod","^":"power","(":"paren",_:"sub","|":"abs","!":"fact","shift+up":"power","shift+down":"sub"},MathYlem.kb.controls={up:"up",down:"down",right:"right",left:"left","alt+k":"up","alt+j":"down","alt+l":"right","alt+h":"left",space:"spacebar",home:"home",end:"end",backspace:"backspace",del:"deleteKey","mod+a":"selectAll","mod+c":"copySelection","mod+x":"cutSelection","mod+v":"paste","mod+z":"undo","mod+y":"redo",enter:"done","mod+shift+right":"copyExtendListRight","mod+shift+left":"copyExtendListLeft","mod+right":"extendListRight","mod+left":"extendListLeft","mod+up":"extendListUp","mod+down":"extendListDown","mod+shift+up":"copyExtendListUp","mod+shift+down":"copyExtendListDown","mod+backspace":"removeListItem","mod+shift+backspace":"removeListRow","shift+left":"selectLeft","shift+right":"selectRight",")":"rightParen","\\":"backslash",tab:"tab"};for(i=65;i<=90;i++)MathYlem.kb.chars[String.fromCharCode(i).toLowerCase()]=String.fromCharCode(i).toLowerCase(),MathYlem.kb.chars["shift+"+String.fromCharCode(i).toLowerCase()]=String.fromCharCode(i).toUpperCase();for(var i=48;i<=57;i++)MathYlem.kb.chars[String.fromCharCode(i)]=String.fromCharCode(i);MathYlem.registerKeyboardHandlers=function(){Mousetrap.addKeycodes({173:"-"});for(var i in MathYlem.kb.chars)Mousetrap.bind(i,function(i){return function(){return!MathYlem.activeMathYlem||(MathYlem.activeMathYlem.tempCursor.node=null,MathYlem.activeMathYlem.backend.insertString(MathYlem.kb.chars[i]),MathYlem.activeMathYlem.render(!0),!1)}}(i));for(var i in MathYlem.kb.symbols)Mousetrap.bind(i,function(i){return function(){return!MathYlem.activeMathYlem||(MathYlem.activeMathYlem.tempCursor.node=null,MathYlem.activeMathYlem.backend.insertSymbol(MathYlem.kb.symbols[i]),MathYlem.activeMathYlem.render(!0),!1)}}(i));for(var i in MathYlem.kb.controls)Mousetrap.bind(i,function(i){return function(){return!MathYlem.activeMathYlem||(MathYlem.activeMathYlem.backend[MathYlem.kb.controls[i]](),MathYlem.activeMathYlem.tempCursor.node=null,MathYlem.activeMathYlem.render(["up","down","right","left","home","end","selectLeft","selectRight"].indexOf(i)<0),MathYlem.activeMathYlem.render(!1),!1)}}(i))},module.exports=MathYlem},{"./backend.js":1,"./doc.js":2,"./symbols.js":4,katex:84,mousetrap:121,"throttle-debounce/debounce":123}],4:[function(require,module,exports){var Symbols={symbols:{}};Symbols.makeRawSymbol=function(name,latex,group){return{output:{latex:latex,text:name},group:group,char:!0}},Symbols.makeFunctionSymbol=function(name,group,nonLaTeX){return{output:{latex:"\\"+(nonLaTeX?"mathrm{"+name+"}":name)+"\\left({$1}\\right)",text:name+"({$1})"},group:"functions",attrs:[{delete:"1"}]}},Symbols.addSymbols=function(symbols){("string"==typeof symbols||symbols instanceof String)&&(symbols=JSON.parse(symbols));for(var name in symbols){var symbol=symbols[name];switch(name){case"_operator":for(var t in symbol)Symbols.symbols[t]=Symbols.makeRawSymbol(t,symbol[t],"operators");break;case"_greek":for(i=0;i<symbol.length;i++)Symbols.symbols[symbol[i]]=Symbols.makeRawSymbol(symbol[i],"\\"+symbol[i],"greek");break;case"_func":case"_func_nonlatex":for(var i=0;i<symbol.length;i++)Symbols.symbols[symbol[i]]=Symbols.makeFunctionSymbol(symbol[i],"functions","_func_nonlatex"===name);break;default:Symbols.symbols[name]=symbol}}},module.exports=Symbols},{}],5:[function(require,module,exports){require("wicked-good-xpath").install(),module.exports={DOMParser:window.DOMParser,XMLSerializer:window.XMLSerializer,XPathResult:window.XPathResult}},{"wicked-good-xpath":125}],6:[function(require,module,exports){module.exports={default:require("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":16}],7:[function(require,module,exports){module.exports={default:require("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":17}],8:[function(require,module,exports){module.exports={default:require("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":18}],9:[function(require,module,exports){module.exports={default:require("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":19}],10:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":20}],11:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/freeze"),__esModule:!0}},{"core-js/library/fn/object/freeze":21}],12:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},{}],13:[function(require,module,exports){"use strict";exports.__esModule=!0;var _defineProperty2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("../core-js/object/define-property"));exports.default=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),(0,_defineProperty2.default)(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()},{"../core-js/object/define-property":10}],14:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _isIterable3=_interopRequireDefault(require("../core-js/is-iterable")),_getIterator3=_interopRequireDefault(require("../core-js/get-iterator"));exports.default=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=(0,_getIterator3.default)(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if((0,_isIterable3.default)(Object(arr)))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},{"../core-js/get-iterator":7,"../core-js/is-iterable":8}],15:[function(require,module,exports){"use strict";exports.__esModule=!0;var _from2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("../core-js/array/from"));exports.default=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return(0,_from2.default)(arr)}},{"../core-js/array/from":6}],16:[function(require,module,exports){require("../../modules/es6.string.iterator"),require("../../modules/es6.array.from"),module.exports=require("../../modules/_core").Array.from},{"../../modules/_core":28,"../../modules/es6.array.from":77,"../../modules/es6.string.iterator":81}],17:[function(require,module,exports){require("../modules/web.dom.iterable"),require("../modules/es6.string.iterator"),module.exports=require("../modules/core.get-iterator")},{"../modules/core.get-iterator":75,"../modules/es6.string.iterator":81,"../modules/web.dom.iterable":82}],18:[function(require,module,exports){require("../modules/web.dom.iterable"),require("../modules/es6.string.iterator"),module.exports=require("../modules/core.is-iterable")},{"../modules/core.is-iterable":76,"../modules/es6.string.iterator":81,"../modules/web.dom.iterable":82}],19:[function(require,module,exports){var core=require("../../modules/_core"),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function(it){return $JSON.stringify.apply($JSON,arguments)}},{"../../modules/_core":28}],20:[function(require,module,exports){require("../../modules/es6.object.define-property");var $Object=require("../../modules/_core").Object;module.exports=function(it,key,desc){return $Object.defineProperty(it,key,desc)}},{"../../modules/_core":28,"../../modules/es6.object.define-property":79}],21:[function(require,module,exports){require("../../modules/es6.object.freeze"),module.exports=require("../../modules/_core").Object.freeze},{"../../modules/_core":28,"../../modules/es6.object.freeze":80}],22:[function(require,module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},{}],23:[function(require,module,exports){module.exports=function(){}},{}],24:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{"./_is-object":44}],25:[function(require,module,exports){var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toAbsoluteIndex=require("./_to-absolute-index");module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},{"./_to-absolute-index":66,"./_to-iobject":68,"./_to-length":69}],26:[function(require,module,exports){var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},{"./_cof":27,"./_wks":73}],27:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],28:[function(require,module,exports){var core=module.exports={version:"2.5.1"};"number"==typeof __e&&(__e=core)},{}],29:[function(require,module,exports){"use strict";var $defineProperty=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},{"./_object-dp":54,"./_property-desc":60}],30:[function(require,module,exports){var aFunction=require("./_a-function");module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"./_a-function":22}],31:[function(require,module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},{}],32:[function(require,module,exports){module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":36}],33:[function(require,module,exports){var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{"./_global":37,"./_is-object":44}],34:[function(require,module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],35:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),ctx=require("./_ctx"),hide=require("./_hide"),$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype;IS_GLOBAL&&(source=name);for(key in source)(own=!IS_FORCED&&target&&void 0!==target[key])&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},{"./_core":28,"./_ctx":30,"./_global":37,"./_hide":39}],36:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},{}],37:[function(require,module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},{}],38:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],39:[function(require,module,exports){var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},{"./_descriptors":32,"./_object-dp":54,"./_property-desc":60}],40:[function(require,module,exports){var document=require("./_global").document;module.exports=document&&document.documentElement},{"./_global":37}],41:[function(require,module,exports){module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":32,"./_dom-create":33,"./_fails":36}],42:[function(require,module,exports){var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},{"./_cof":27}],43:[function(require,module,exports){var Iterators=require("./_iterators"),ITERATOR=require("./_wks")("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},{"./_iterators":50,"./_wks":73}],44:[function(require,module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},{}],45:[function(require,module,exports){var anObject=require("./_an-object");module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},{"./_an-object":24}],46:[function(require,module,exports){"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},{"./_hide":39,"./_object-create":53,"./_property-desc":60,"./_set-to-string-tag":62,"./_wks":73}],47:[function(require,module,exports){"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),has=require("./_has"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},{"./_export":35,"./_has":38,"./_hide":39,"./_iter-create":46,"./_iterators":50,"./_library":51,"./_object-gpo":56,"./_redefine":61,"./_set-to-string-tag":62,"./_wks":73}],48:[function(require,module,exports){var ITERATOR=require("./_wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},{"./_wks":73}],49:[function(require,module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},{}],50:[function(require,module,exports){module.exports={}},{}],51:[function(require,module,exports){module.exports=!0},{}],52:[function(require,module,exports){var META=require("./_uid")("meta"),isObject=require("./_is-object"),has=require("./_has"),setDesc=require("./_object-dp").f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},{"./_fails":36,"./_has":38,"./_is-object":44,"./_object-dp":54,"./_uid":72}],53:[function(require,module,exports){var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=require("./_dom-create")("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",require("./_html").appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},{"./_an-object":24,"./_dom-create":33,"./_enum-bug-keys":34,"./_html":40,"./_object-dps":55,"./_shared-key":63}],54:[function(require,module,exports){var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},{"./_an-object":24,"./_descriptors":32,"./_ie8-dom-define":41,"./_to-primitive":71}],55:[function(require,module,exports){var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},{"./_an-object":24,"./_descriptors":32,"./_object-dp":54,"./_object-keys":58}],56:[function(require,module,exports){var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},{"./_has":38,"./_shared-key":63,"./_to-object":70}],57:[function(require,module,exports){var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(!1),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},{"./_array-includes":25,"./_has":38,"./_shared-key":63,"./_to-iobject":68}],58:[function(require,module,exports){var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},{"./_enum-bug-keys":34,"./_object-keys-internal":57}],59:[function(require,module,exports){var $export=require("./_export"),core=require("./_core"),fails=require("./_fails");module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},{"./_core":28,"./_export":35,"./_fails":36}],60:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],61:[function(require,module,exports){module.exports=require("./_hide")},{"./_hide":39}],62:[function(require,module,exports){var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},{"./_has":38,"./_object-dp":54,"./_wks":73}],63:[function(require,module,exports){var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},{"./_shared":64,"./_uid":72}],64:[function(require,module,exports){var global=require("./_global"),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});module.exports=function(key){return store[key]||(store[key]={})}},{"./_global":37}],65:[function(require,module,exports){var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},{"./_defined":31,"./_to-integer":67}],66:[function(require,module,exports){var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},{"./_to-integer":67}],67:[function(require,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},{}],68:[function(require,module,exports){var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(it){return IObject(defined(it))}},{"./_defined":31,"./_iobject":42}],69:[function(require,module,exports){var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},{"./_to-integer":67}],70:[function(require,module,exports){var defined=require("./_defined");module.exports=function(it){return Object(defined(it))}},{"./_defined":31}],71:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":44}],72:[function(require,module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},{}],73:[function(require,module,exports){var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},{"./_global":37,"./_shared":64,"./_uid":72}],74:[function(require,module,exports){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"./_classof":26,"./_core":28,"./_iterators":50,"./_wks":73}],75:[function(require,module,exports){var anObject=require("./_an-object"),get=require("./core.get-iterator-method");module.exports=require("./_core").getIterator=function(it){var iterFn=get(it);if("function"!=typeof iterFn)throw TypeError(it+" is not iterable!");return anObject(iterFn.call(it))}},{"./_an-object":24,"./_core":28,"./core.get-iterator-method":74}],76:[function(require,module,exports){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").isIterable=function(it){var O=Object(it);return void 0!==O[ITERATOR]||"@@iterator"in O||Iterators.hasOwnProperty(classof(O))}},{"./_classof":26,"./_core":28,"./_iterators":50,"./_wks":73}],77:[function(require,module,exports){"use strict";var ctx=require("./_ctx"),$export=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),void 0==iterFn||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},{"./_create-property":29,"./_ctx":30,"./_export":35,"./_is-array-iter":43,"./_iter-call":45,"./_iter-detect":48,"./_to-length":69,"./_to-object":70,"./core.get-iterator-method":74}],78:[function(require,module,exports){"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},{"./_add-to-unscopables":23,"./_iter-define":47,"./_iter-step":49,"./_iterators":50,"./_to-iobject":68}],79:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f})},{"./_descriptors":32,"./_export":35,"./_object-dp":54}],80:[function(require,module,exports){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("freeze",function($freeze){return function(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},{"./_is-object":44,"./_meta":52,"./_object-sap":59}],81:[function(require,module,exports){"use strict";var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},{"./_iter-define":47,"./_string-at":65}],82:[function(require,module,exports){require("./es6.array.iterator");for(var global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),TO_STRING_TAG=require("./_wks")("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},{"./_global":37,"./_hide":39,"./_iterators":50,"./_wks":73,"./es6.array.iterator":78}],83:[function(require,module,exports){"use strict";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function EventEmitter(){this._events=new Events,this._eventsCount=0}var has=Object.prototype.hasOwnProperty,prefix="~";Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function(event,exists){var evt=prefix?prefix+event:event,available=this._events[evt];if(exists)return!!available;if(!available)return[];if(available.fn)return[available.fn];for(var i=0,l=available.length,ee=new Array(l);i<l;i++)ee[i]=available[i].fn;return ee},EventEmitter.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function(event,fn,context){var listener=new EE(fn,context||this),evt=prefix?prefix+event:event;return this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):(this._events[evt]=listener,this._eventsCount++),this},EventEmitter.prototype.once=function(event,fn,context){var listener=new EE(fn,context||this,!0),evt=prefix?prefix+event:event;return this._events[evt]?this._events[evt].fn?this._events[evt]=[this._events[evt],listener]:this._events[evt].push(listener):(this._events[evt]=listener,this._eventsCount++),this},EventEmitter.prototype.removeListener=function(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return 0==--this._eventsCount?this._events=new Events:delete this._events[evt],this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||(0==--this._eventsCount?this._events=new Events:delete this._events[evt]);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:0==--this._eventsCount?this._events=new Events:delete this._events[evt]}return this},EventEmitter.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&(0==--this._eventsCount?this._events=new Events:delete this._events[evt])):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,void 0!==module&&(module.exports=EventEmitter)},{}],84:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _ParseError2=_interopRequireDefault(require("./src/ParseError")),_Settings2=_interopRequireDefault(require("./src/Settings")),_buildTree2=_interopRequireDefault(require("./src/buildTree")),_parseTree2=_interopRequireDefault(require("./src/parseTree")),_utils2=_interopRequireDefault(require("./src/utils")),render=function(expression,baseNode,options){_utils2.default.clearNode(baseNode);var settings=new _Settings2.default(options),tree=(0,_parseTree2.default)(expression,settings),node=(0,_buildTree2.default)(tree,expression,settings).toNode();baseNode.appendChild(node)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new _ParseError2.default("KaTeX doesn't work in quirks mode.")});module.exports={render:render,renderToString:function(expression,options){var settings=new _Settings2.default(options),tree=(0,_parseTree2.default)(expression,settings);return(0,_buildTree2.default)(tree,expression,settings).toMarkup()},__parse:function(expression,options){var settings=new _Settings2.default(options);return(0,_parseTree2.default)(expression,settings)},ParseError:_ParseError2.default}},{"./src/ParseError":88,"./src/Settings":91,"./src/buildTree":98,"./src/parseTree":113,"./src/utils":119}],85:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.controlWordRegex=void 0;var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),_matchAt2=_interopRequireDefault(require("match-at")),_ParseError2=_interopRequireDefault(require("./ParseError")),_SourceLocation2=_interopRequireDefault(require("./SourceLocation")),_Token=require("./Token"),tokenRegex=new RegExp("([ \r\n\t]+)|(%[^\n]*[\n]|[!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff]|[\ud800-\udbff][\udc00-\udfff]|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+|\\\\[^\ud800-\udfff])"),commentRegex=(exports.controlWordRegex=new RegExp("^\\\\[a-zA-Z@]+"),new RegExp("^%[^\n]*[\n]")),Lexer=function(){function Lexer(input){(0,_classCallCheck3.default)(this,Lexer),this.input=input,this.pos=0}return(0,_createClass3.default)(Lexer,[{key:"lex",value:function(){var input=this.input,pos=this.pos;if(pos===input.length)return new _Token.Token("EOF",new _SourceLocation2.default(this,pos,pos));var match=(0,_matchAt2.default)(tokenRegex,input,pos);if(null===match)throw new _ParseError2.default("Unexpected character: '"+input[pos]+"'",new _Token.Token(input[pos],new _SourceLocation2.default(this,pos,pos+1)));var text=match[2]||" ",start=this.pos;this.pos+=match[0].length;var end=this.pos;return commentRegex.test(text)?this.lex():new _Token.Token(text,new _SourceLocation2.default(this,start,end))}}]),Lexer}();exports.default=Lexer},{"./ParseError":88,"./SourceLocation":92,"./Token":94,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"match-at":120}],86:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray3=_interopRequireDefault(require("babel-runtime/helpers/toConsumableArray")),_classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),_Lexer=require("./Lexer"),_Lexer2=_interopRequireDefault(_Lexer),_Token=require("./Token"),_macros2=_interopRequireDefault(require("./macros")),_ParseError2=_interopRequireDefault(require("./ParseError")),_objectAssign2=_interopRequireDefault(require("object-assign")),MacroExpander=function(){function MacroExpander(input,macros){(0,_classCallCheck3.default)(this,MacroExpander),this.lexer=new _Lexer2.default(input),this.macros=(0,_objectAssign2.default)({},_macros2.default,macros),this.stack=[]}return(0,_createClass3.default)(MacroExpander,[{key:"future",value:function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}},{key:"popToken",value:function(){return this.future(),this.stack.pop()}},{key:"consumeSpaces",value:function(){for(;" "===this.future().text;)this.stack.pop()}},{key:"expandOnce",value:function(){var _stack,topToken=this.popToken(),name=topToken.text,isMacro="\\"===name.charAt(0);if(isMacro&&_Lexer.controlWordRegex.test(name)&&this.consumeSpaces(),!isMacro||!this.macros.hasOwnProperty(name))return this.pushToken(topToken),topToken;var _getExpansion2=this._getExpansion(name),tokens=_getExpansion2.tokens,numArgs=_getExpansion2.numArgs,expansion=tokens;if(numArgs){for(var args=[],i=0;i<numArgs;++i){this.consumeSpaces();var startOfArg=this.popToken();if("{"===startOfArg.text){for(var arg=[],depth=1;0!==depth;){var tok=this.popToken();if(arg.push(tok),"{"===tok.text)++depth;else if("}"===tok.text)--depth;else if("EOF"===tok.text)throw new _ParseError2.default("End of input in macro argument",startOfArg)}arg.pop(),arg.reverse(),args[i]=arg}else{if("EOF"===startOfArg.text)throw new _ParseError2.default("End of input expecting macro argument",topToken);args[i]=[startOfArg]}}for(var _i=(expansion=expansion.slice()).length-1;_i>=0;--_i){var _tok=expansion[_i];if("#"===_tok.text){if(0===_i)throw new _ParseError2.default("Incomplete placeholder at end of macro body",_tok);if("#"===(_tok=expansion[--_i]).text)expansion.splice(_i+1,1);else{if(!/^[1-9]$/.test(_tok.text))throw new _ParseError2.default("Not a valid argument number",_tok);var _expansion;(_expansion=expansion).splice.apply(_expansion,[_i,2].concat((0,_toConsumableArray3.default)(args[+_tok.text-1])))}}}}return(_stack=this.stack).push.apply(_stack,(0,_toConsumableArray3.default)(expansion)),expansion}},{key:"expandAfterFuture",value:function(){return this.expandOnce(),this.future()}},{key:"expandNextToken",value:function(){for(;;){var expanded=this.expandOnce();if(expanded instanceof _Token.Token){if("\\relax"!==expanded.text)return this.stack.pop();this.stack.pop()}}throw new Error}},{key:"_getExpansion",value:function(name){var definition=this.macros[name],expansion="function"==typeof definition?definition(this):definition;if("string"==typeof expansion){var numArgs=0;if(-1!==expansion.indexOf("#"))for(var stripped=expansion.replace(/##/g,"");-1!==stripped.indexOf("#"+(numArgs+1));)++numArgs;for(var bodyLexer=new _Lexer2.default(expansion),tokens=[],tok=bodyLexer.lex();"EOF"!==tok.text;)tokens.push(tok),tok=bodyLexer.lex();tokens.reverse();var expanded={tokens:tokens,numArgs:numArgs};return"function"!=typeof definition&&(this.macros[name]=expanded),expanded}return expansion}},{key:"pushToken",value:function(token){this.stack.push(token)}}]),MacroExpander}();exports.default=MacroExpander},{"./Lexer":85,"./ParseError":88,"./Token":94,"./macros":111,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/toConsumableArray":15,"object-assign":122}],87:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),_fontMetrics3=_interopRequireDefault(require("./fontMetrics")),sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function(size,style){return style.size<2?size:sizeStyleMap[size-1][style.size-1]},Options=function(){function Options(data){(0,_classCallCheck3.default)(this,Options),this.style=data.style,this.color=data.color,this.size=data.size||Options.BASESIZE,this.textSize=data.textSize||this.size,this.phantom=!!data.phantom,this.font=data.font,this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=data.maxSize,this._fontMetrics=void 0}return(0,_createClass3.default)(Options,[{key:"extend",value:function(extension){var data={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,maxSize:this.maxSize};for(var key in extension)extension.hasOwnProperty(key)&&(data[key]=extension[key]);return new Options(data)}},{key:"havingStyle",value:function(style){return this.style===style?this:this.extend({style:style,size:sizeAtStyle(this.textSize,style)})}},{key:"havingCrampedStyle",value:function(){return this.havingStyle(this.style.cramp())}},{key:"havingSize",value:function(size){return this.size===size&&this.textSize===size?this:this.extend({style:this.style.text(),size:size,textSize:size})}},{key:"havingBaseStyle",value:function(style){style=style||this.style.text();var wantSize=sizeAtStyle(Options.BASESIZE,style);return this.size===wantSize&&this.textSize===Options.BASESIZE&&this.style===style?this:this.extend({style:style,size:wantSize})}},{key:"withColor",value:function(color){return this.extend({color:color})}},{key:"withPhantom",value:function(){return this.extend({phantom:!0})}},{key:"withFont",value:function(font){return this.extend({font:font||this.font})}},{key:"sizingClasses",value:function(oldOptions){return oldOptions.size!==this.size?["sizing","reset-size"+oldOptions.size,"size"+this.size]:[]}},{key:"baseSizingClasses",value:function(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}},{key:"fontMetrics",value:function(){return this._fontMetrics||(this._fontMetrics=_fontMetrics3.default.getFontMetrics(this.size)),this._fontMetrics}},{key:"getColor",value:function(){return this.phantom?"transparent":null!=this.color&&Options.colorMap.hasOwnProperty(this.color)?Options.colorMap[this.color]:this.color}}]),Options}();Options.BASESIZE=6,Options.colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"},exports.default=Options},{"./fontMetrics":105,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13}],88:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),ParseError=(_interopRequireDefault(require("./ParseNode")),require("./Token"),function ParseError(message,token){(0,_classCallCheck3.default)(this,ParseError);var error="KaTeX parse error: "+message,start=void 0,loc=token&&token.loc;if(loc&&loc.start<=loc.end){var input=loc.lexer.input;start=loc.start;var end=loc.end;start===input.length?error+=" at end of input: ":error+=" at position "+(start+1)+": ";var underlined=input.slice(start,end).replace(/[^]/g,"$&\u0332");error+=(start>15?"\u2026"+input.slice(start-15,start):input.slice(0,start))+underlined+(end+15<input.length?input.slice(end,end+15)+"\u2026":input.slice(end))}var self=new Error(error);return self.name="ParseError",self.__proto__=ParseError.prototype,self.position=start,self});ParseError.prototype.__proto__=Error.prototype,exports.default=ParseError},{"./ParseNode":89,"./Token":94,"babel-runtime/helpers/classCallCheck":12}],89:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_SourceLocation2=(require("./Token"),_interopRequireDefault(require("./SourceLocation")));exports.default=function ParseNode(type,value,mode,firstToken,lastToken){(0,_classCallCheck3.default)(this,ParseNode),this.type=type,this.value=value,this.mode=mode,this.loc=_SourceLocation2.default.range(firstToken,lastToken)}},{"./SourceLocation":92,"./Token":94,"babel-runtime/helpers/classCallCheck":12}],90:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function newArgument(result,token){return{type:"arg",result:result,token:token}}function newFunction(token){return{type:"fn",result:token.text,token:token}}function newDollar(token){return{type:"$",result:"$",token:token}}function assertFuncOrArg(parsed){if("$"===parsed.type)throw new _ParseError2.default("Unexpected $",parsed.token);return parsed}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),_functions2=_interopRequireDefault(require("./functions")),_environments2=_interopRequireDefault(require("./environments")),_MacroExpander2=_interopRequireDefault(require("./MacroExpander")),_symbols2=_interopRequireDefault(require("./symbols")),_utils2=_interopRequireDefault(require("./utils")),_units=require("./units"),_unicodeRegexes=require("./unicodeRegexes"),_ParseNode2=_interopRequireDefault(require("./ParseNode")),_ParseError2=_interopRequireDefault(require("./ParseError")),Parser=function(){function Parser(input,settings){(0,_classCallCheck3.default)(this,Parser),this.gullet=new _MacroExpander2.default(input,settings.macros),settings.colorIsTextColor&&(this.gullet.macros["\\color"]="\\textcolor"),this.settings=settings,this.leftrightDepth=0}return(0,_createClass3.default)(Parser,[{key:"expect",value:function(text,consume){if(this.nextToken.text!==text)throw new _ParseError2.default("Expected '"+text+"', got '"+this.nextToken.text+"'",this.nextToken);!1!==consume&&this.consume()}},{key:"consume",value:function(){this.nextToken=this.gullet.expandNextToken()}},{key:"switchMode",value:function(newMode){this.mode=newMode}},{key:"parse",value:function(){this.mode="math",this.consume();var parse=this.parseInput();return parse}},{key:"parseInput",value:function(){var expression=this.parseExpression(!1);return this.expect("EOF",!1),expression}},{key:"parseExpression",value:function(breakOnInfix,breakOnTokenText){for(var body=[];;){"math"===this.mode&&this.consumeSpaces();var lex=this.nextToken;if(-1!==Parser.endOfExpression.indexOf(lex.text))break;if(breakOnTokenText&&lex.text===breakOnTokenText)break;if(breakOnInfix&&_functions2.default[lex.text]&&_functions2.default[lex.text].infix)break;var atom=this.parseAtom(breakOnTokenText);if(!atom){if(!this.settings.throwOnError&&"\\"===lex.text[0]){var errorNode=this.handleUnsupportedCmd();body.push(errorNode);continue}break}body.push(atom)}return this.handleInfixNodes(body)}},{key:"handleInfixNodes",value:function(body){for(var overIndex=-1,funcName=void 0,i=0;i<body.length;i++){var node=body[i];if("infix"===node.type){if(-1!==overIndex)throw new _ParseError2.default("only one infix operator per group",node.value.token);overIndex=i,funcName=node.value.replaceWith}}if(-1!==overIndex){var numerNode=void 0,denomNode=void 0,numerBody=body.slice(0,overIndex),denomBody=body.slice(overIndex+1);numerNode=1===numerBody.length&&"ordgroup"===numerBody[0].type?numerBody[0]:new _ParseNode2.default("ordgroup",numerBody,this.mode),denomNode=1===denomBody.length&&"ordgroup"===denomBody[0].type?denomBody[0]:new _ParseNode2.default("ordgroup",denomBody,this.mode);var value=this.callFunction(funcName,[numerNode,denomNode],[]);return[new _ParseNode2.default(value.type,value,this.mode)]}return body}},{key:"handleSupSubscript",value:function(name){var symbolToken=this.nextToken,symbol=symbolToken.text;this.consume(),this.consumeSpaces();var group=this.parseGroup();if(!group){if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new _ParseError2.default("Expected group after '"+symbol+"'",symbolToken);return this.handleUnsupportedCmd()}if("fn"===assertFuncOrArg(group).type){if(_functions2.default[group.result].greediness>Parser.SUPSUB_GREEDINESS)return this.parseGivenFunction(group);throw new _ParseError2.default("Got function '"+group.result+"' with no arguments as "+name,symbolToken)}return group.result}},{key:"handleUnsupportedCmd",value:function(){for(var text=this.nextToken.text,textordArray=[],i=0;i<text.length;i++)textordArray.push(new _ParseNode2.default("textord",text[i],"text"));var textNode=new _ParseNode2.default("text",{body:textordArray,type:"text"},this.mode),colorNode=new _ParseNode2.default("color",{color:this.settings.errorColor,value:[textNode],type:"color"},this.mode);return this.consume(),colorNode}},{key:"parseAtom",value:function(breakOnTokenText){var base=this.parseImplicitGroup(breakOnTokenText);if("text"===this.mode)return base;for(var superscript=void 0,subscript=void 0;;){this.consumeSpaces();var lex=this.nextToken;if("\\limits"===lex.text||"\\nolimits"===lex.text){if(!base||"op"!==base.type)throw new _ParseError2.default("Limit controls must follow a math operator",lex);var limits="\\limits"===lex.text;base.value.limits=limits,base.value.alwaysHandleSupSub=!0,this.consume()}else if("^"===lex.text){if(superscript)throw new _ParseError2.default("Double superscript",lex);superscript=this.handleSupSubscript("superscript")}else if("_"===lex.text){if(subscript)throw new _ParseError2.default("Double subscript",lex);subscript=this.handleSupSubscript("subscript")}else{if("'"!==lex.text)break;if(superscript)throw new _ParseError2.default("Double superscript",lex);var prime=new _ParseNode2.default("textord","\\prime",this.mode),primes=[prime];for(this.consume();"'"===this.nextToken.text;)primes.push(prime),this.consume();"^"===this.nextToken.text&&primes.push(this.handleSupSubscript("superscript")),superscript=new _ParseNode2.default("ordgroup",primes,this.mode)}}return superscript||subscript?new _ParseNode2.default("supsub",{base:base,sup:superscript,sub:subscript},this.mode):base}},{key:"parseImplicitGroup",value:function(breakOnTokenText){var start=this.parseSymbol();if(null==start)return this.parseFunction();var func=start.result;if("\\left"===func){var left=this.parseGivenFunction(start);++this.leftrightDepth;var body=this.parseExpression(!1);--this.leftrightDepth,this.expect("\\right",!1);var right=this.parseFunction();return new _ParseNode2.default("leftright",{body:body,left:left.value.value,right:right.value.value},this.mode)}if("\\begin"===func){var begin=this.parseGivenFunction(start),envName=begin.value.name;if(!_environments2.default.has(envName))throw new _ParseError2.default("No such environment: "+envName,begin.value.nameGroup);var env=_environments2.default.get(envName),_parseArguments=this.parseArguments("\\begin{"+envName+"}",env),args=_parseArguments.args,optArgs=_parseArguments.optArgs,context={mode:this.mode,envName:envName,parser:this},result=env.handler(context,args,optArgs);this.expect("\\end",!1);var endNameToken=this.nextToken,end=this.parseFunction();if(end.value.name!==envName)throw new _ParseError2.default("Mismatch: \\begin{"+envName+"} matched by \\end{"+end.value.name+"}",endNameToken);return result.position=end.position,result}if(_utils2.default.contains(Parser.sizeFuncs,func)){this.consumeSpaces();var _body=this.parseExpression(!1,breakOnTokenText);return new _ParseNode2.default("sizing",{size:_utils2.default.indexOf(Parser.sizeFuncs,func)+1,value:_body},this.mode)}if(_utils2.default.contains(Parser.styleFuncs,func)){this.consumeSpaces();var _body2=this.parseExpression(!0,breakOnTokenText);return new _ParseNode2.default("styling",{style:func.slice(1,func.length-5),value:_body2},this.mode)}if(func in Parser.oldFontFuncs){var style=Parser.oldFontFuncs[func];this.consumeSpaces();var _body3=this.parseExpression(!0,breakOnTokenText);return"text"===style.slice(0,4)?new _ParseNode2.default("text",{style:style,body:new _ParseNode2.default("ordgroup",_body3,this.mode)},this.mode):new _ParseNode2.default("font",{font:style,body:new _ParseNode2.default("ordgroup",_body3,this.mode)},this.mode)}if("\\color"===func){var color=this.parseColorGroup(!1);if(!color)throw new _ParseError2.default("\\color not followed by color");var _body4=this.parseExpression(!0,breakOnTokenText);return new _ParseNode2.default("color",{type:"color",color:color.result.value,value:_body4},this.mode)}if("$"===func){if("math"===this.mode)throw new _ParseError2.default("$ within math mode");this.consume();var outerMode=this.mode;this.switchMode("math");var _body5=this.parseExpression(!1,"$");return this.expect("$",!0),this.switchMode(outerMode),new _ParseNode2.default("styling",{style:"text",value:_body5},"math")}return this.parseGivenFunction(start)}},{key:"parseFunction",value:function(){var baseGroup=this.parseGroup();return baseGroup?this.parseGivenFunction(baseGroup):null}},{key:"parseGivenFunction",value:function(baseGroup){if("fn"===(baseGroup=assertFuncOrArg(baseGroup)).type){var func=baseGroup.result,funcData=_functions2.default[func];if("text"===this.mode&&!funcData.allowedInText)throw new _ParseError2.default("Can't use function '"+func+"' in text mode",baseGroup.token);if("math"===this.mode&&!1===funcData.allowedInMath)throw new _ParseError2.default("Can't use function '"+func+"' in math mode",baseGroup.token);var _parseArguments2=this.parseArguments(func,funcData),args=_parseArguments2.args,optArgs=_parseArguments2.optArgs,token=baseGroup.token,result=this.callFunction(func,args,optArgs,token);return new _ParseNode2.default(result.type,result,this.mode)}return baseGroup.result}},{key:"callFunction",value:function(name,args,optArgs,token){var context={funcName:name,parser:this,token:token};return _functions2.default[name].handler(context,args,optArgs)}},{key:"parseArguments",value:function(func,funcData){var totalArgs=funcData.numArgs+funcData.numOptionalArgs;if(0===totalArgs)return{args:[],optArgs:[]};for(var baseGreediness=funcData.greediness,args=[],optArgs=[],i=0;i<totalArgs;i++){var argType=funcData.argTypes&&funcData.argTypes[i],isOptional=i<funcData.numOptionalArgs;i>0&&!isOptional&&this.consumeSpaces(),0!==i||isOptional||"math"!==this.mode||this.consumeSpaces();var nextToken=this.nextToken,arg=argType?this.parseGroupOfType(argType,isOptional):this.parseGroup(isOptional);if(!arg){if(isOptional){optArgs.push(null);continue}if(this.settings.throwOnError||"\\"!==this.nextToken.text[0])throw new _ParseError2.default("Expected group after '"+func+"'",nextToken);arg=newArgument(this.handleUnsupportedCmd(),nextToken)}var argNode=void 0;if("fn"===(arg=assertFuncOrArg(arg)).type){if(!(_functions2.default[arg.result].greediness>baseGreediness))throw new _ParseError2.default("Got function '"+arg.result+"' as argument to '"+func+"'",nextToken);argNode=this.parseGivenFunction(arg)}else argNode=arg.result;(isOptional?optArgs:args).push(argNode)}return{args:args,optArgs:optArgs}}},{key:"parseGroupOfType",value:function(innerMode,optional){var outerMode=this.mode;if("original"===innerMode&&(innerMode=outerMode),"color"===innerMode)return this.parseColorGroup(optional);if("size"===innerMode)return this.parseSizeGroup(optional);if("string"===innerMode)return newArgument(this.parseStringGroup("string",optional).text,!1);this.switchMode(innerMode);var res=this.parseGroup(optional);return this.switchMode(outerMode),res}},{key:"consumeSpaces",value:function(){for(;" "===this.nextToken.text;)this.consume()}},{key:"parseStringGroup",value:function(modeName,optional){if(optional&&"["!==this.nextToken.text)return null;var outerMode=this.mode;this.mode="text",this.expect(optional?"[":"{");for(var str="",firstToken=this.nextToken,lastToken=firstToken;this.nextToken.text!==(optional?"]":"}");){if("EOF"===this.nextToken.text)throw new _ParseError2.default("Unexpected end of input in "+modeName,firstToken.range(this.nextToken,str));str+=(lastToken=this.nextToken).text,this.consume()}return this.mode=outerMode,this.expect(optional?"]":"}"),firstToken.range(lastToken,str)}},{key:"parseRegexGroup",value:function(regex,modeName){var outerMode=this.mode;this.mode="text";for(var firstToken=this.nextToken,lastToken=firstToken,str="";"EOF"!==this.nextToken.text&&regex.test(str+this.nextToken.text);)str+=(lastToken=this.nextToken).text,this.consume();if(""===str)throw new _ParseError2.default("Invalid "+modeName+": '"+firstToken.text+"'",firstToken);return this.mode=outerMode,firstToken.range(lastToken,str)}},{key:"parseColorGroup",value:function(optional){var res=this.parseStringGroup("color",optional);if(!res)return null;var match=/^(#[a-f0-9]{3}|#[a-f0-9]{6}|[a-z]+)$/i.exec(res.text);if(!match)throw new _ParseError2.default("Invalid color: '"+res.text+"'",res);return newArgument(new _ParseNode2.default("color",match[0],this.mode),res)}},{key:"parseSizeGroup",value:function(optional){var res=void 0;if(!(res=optional||"{"===this.nextToken.text?this.parseStringGroup("size",optional):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;var match=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(res.text);if(!match)throw new _ParseError2.default("Invalid size: '"+res.text+"'",res);var data={number:+(match[1]+match[2]),unit:match[3]};if(!(0,_units.validUnit)(data))throw new _ParseError2.default("Invalid unit: '"+data.unit+"'",res);return newArgument(new _ParseNode2.default("size",data,this.mode),res)}},{key:"parseGroup",value:function(optional){var firstToken=this.nextToken;if(this.nextToken.text===(optional?"[":"{")){this.consume();var expression=this.parseExpression(!1,optional?"]":"}"),lastToken=this.nextToken;return this.expect(optional?"]":"}"),"text"===this.mode&&this.formLigatures(expression),newArgument(new _ParseNode2.default("ordgroup",expression,this.mode,firstToken,lastToken),firstToken.range(lastToken,firstToken.text))}return optional?null:this.parseSymbol()}},{key:"formLigatures",value:function(group){for(var n=group.length-1,i=0;i<n;++i){var a=group[i],v=a.value;"-"===v&&"-"===group[i+1].value&&(i+1<n&&"-"===group[i+2].value?(group.splice(i,3,new _ParseNode2.default("textord","---","text",a,group[i+2])),n-=2):(group.splice(i,2,new _ParseNode2.default("textord","--","text",a,group[i+1])),n-=1)),"'"!==v&&"`"!==v||group[i+1].value!==v||(group.splice(i,2,new _ParseNode2.default("textord",v+v,"text",a,group[i+1])),n-=1)}}},{key:"parseSymbol",value:function(){var nucleus=this.nextToken;if(_functions2.default[nucleus.text])return this.consume(),newFunction(nucleus);if(_symbols2.default[this.mode][nucleus.text])return this.consume(),newArgument(new _ParseNode2.default(_symbols2.default[this.mode][nucleus.text].group,nucleus.text,this.mode,nucleus),nucleus);if("text"===this.mode&&_unicodeRegexes.cjkRegex.test(nucleus.text))return this.consume(),newArgument(new _ParseNode2.default("textord",nucleus.text,this.mode,nucleus),nucleus);if("$"===nucleus.text)return newDollar(nucleus);if(/^\\verb[^a-zA-Z]/.test(nucleus.text)){this.consume();var arg=nucleus.text.slice(5),star="*"===arg.charAt(0);if(star&&(arg=arg.slice(1)),arg.length<2||arg.charAt(0)!==arg.slice(-1))throw new _ParseError2.default("\\verb assertion failed --\n                    please report what input caused this bug");return arg=arg.slice(1,-1),newArgument(new _ParseNode2.default("verb",{body:arg,star:star},"text"),nucleus)}return null}}]),Parser}();Parser.endOfExpression=["}","\\end","\\right","&","\\\\","\\cr"],Parser.SUPSUB_GREEDINESS=1,Parser.sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Parser.styleFuncs=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],Parser.oldFontFuncs={"\\rm":"mathrm","\\sf":"mathsf","\\tt":"mathtt","\\bf":"mathbf","\\it":"mathit"},exports.default=Parser},{"./MacroExpander":86,"./ParseError":88,"./ParseNode":89,"./environments":103,"./functions":107,"./symbols":116,"./unicodeRegexes":117,"./units":118,"./utils":119,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13}],91:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_utils2=_interopRequireDefault(require("./utils"));exports.default=function Settings(options){(0,_classCallCheck3.default)(this,Settings),options=options||{},this.displayMode=_utils2.default.deflt(options.displayMode,!1),this.throwOnError=_utils2.default.deflt(options.throwOnError,!0),this.errorColor=_utils2.default.deflt(options.errorColor,"#cc0000"),this.macros=options.macros||{},this.colorIsTextColor=_utils2.default.deflt(options.colorIsTextColor,!1),this.maxSize=Math.max(0,_utils2.default.deflt(options.maxSize,1/0))}},{"./utils":119,"babel-runtime/helpers/classCallCheck":12}],92:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _freeze2=_interopRequireDefault(require("babel-runtime/core-js/object/freeze")),_classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),SourceLocation=function(){function SourceLocation(lexer,start,end){(0,_classCallCheck3.default)(this,SourceLocation),this.lexer=lexer,this.start=start,this.end=end,(0,_freeze2.default)(this)}return(0,_createClass3.default)(SourceLocation,null,[{key:"range",value:function(first,second){return second?first&&first.loc&&second.loc&&first.loc.lexer===second.loc.lexer?new SourceLocation(first.loc.lexer,first.loc.start,second.loc.end):null:first&&first.loc}}]),SourceLocation}();exports.default=SourceLocation},{"babel-runtime/core-js/object/freeze":11,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13}],93:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),Style=function(){function Style(id,size,cramped){(0,_classCallCheck3.default)(this,Style),this.id=id,this.size=size,this.cramped=cramped}return(0,_createClass3.default)(Style,[{key:"sup",value:function(){return styles[_sup[this.id]]}},{key:"sub",value:function(){return styles[_sub[this.id]]}},{key:"fracNum",value:function(){return styles[_fracNum[this.id]]}},{key:"fracDen",value:function(){return styles[_fracDen[this.id]]}},{key:"cramp",value:function(){return styles[_cramp[this.id]]}},{key:"text",value:function(){return styles[_text[this.id]]}},{key:"isTight",value:function(){return this.size>=2}}]),Style}(),styles=[new Style(0,0,!1),new Style(1,0,!0),new Style(2,1,!1),new Style(3,1,!0),new Style(4,2,!1),new Style(5,2,!0),new Style(6,3,!1),new Style(7,3,!0)],_sup=[4,5,4,5,6,7,6,7],_sub=[5,5,5,5,7,7,7,7],_fracNum=[2,3,4,5,6,7,6,7],_fracDen=[3,3,5,5,7,7,7,7],_cramp=[1,1,3,3,5,5,7,7],_text=[0,1,2,3,2,3,2,3];exports.default={DISPLAY:styles[0],TEXT:styles[2],SCRIPT:styles[4],SCRIPTSCRIPT:styles[6]}},{"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13}],94:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Token=void 0;var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),_SourceLocation2=_interopRequireDefault(require("./SourceLocation"));exports.Token=function(){function Token(text,loc){(0,_classCallCheck3.default)(this,Token),this.text=text,this.loc=loc}return(0,_createClass3.default)(Token,[{key:"range",value:function(endToken,text){return new Token(text,_SourceLocation2.default.range(this,endToken))}}]),Token}()},{"./SourceLocation":92,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13}],95:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _domTree2=_interopRequireDefault(require("./domTree")),_fontMetrics2=_interopRequireDefault(require("./fontMetrics")),_symbols2=_interopRequireDefault(require("./symbols")),_utils2=_interopRequireDefault(require("./utils")),mainitLetters=["\\imath","\\jmath","\\pounds"],lookupSymbol=function(value,fontFamily,mode){return _symbols2.default[mode][value]&&_symbols2.default[mode][value].replace&&(value=_symbols2.default[mode][value].replace),{value:value,metrics:_fontMetrics2.default.getCharacterMetrics(value,fontFamily)}},makeSymbol=function(value,fontFamily,mode,options,classes){var lookup=lookupSymbol(value,fontFamily,mode),metrics=lookup.metrics;value=lookup.value;var symbolNode=void 0;if(metrics){var italic=metrics.italic;"text"===mode&&(italic=0),symbolNode=new _domTree2.default.symbolNode(value,metrics.height,metrics.depth,italic,metrics.skew,classes)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+value+"' in style '"+fontFamily+"'"),symbolNode=new _domTree2.default.symbolNode(value,0,0,0,0,classes);return options&&(symbolNode.maxFontSize=options.sizeMultiplier,options.style.isTight()&&symbolNode.classes.push("mtight"),options.getColor()&&(symbolNode.style.color=options.getColor())),symbolNode},mathDefault=function(value,mode,options,classes,type){if("mathord"===type){var fontLookup=mathit(value,mode,options,classes);return makeSymbol(value,fontLookup.fontName,mode,options,classes.concat([fontLookup.fontClass]))}if("textord"===type)return"ams"===(_symbols2.default[mode][value]&&_symbols2.default[mode][value].font)?makeSymbol(value,"AMS-Regular",mode,options,classes.concat(["amsrm"])):makeSymbol(value,"Main-Regular",mode,options,classes.concat(["mathrm"]));throw new Error("unexpected type: "+type+" in mathDefault")},mathit=function(value,mode,options,classes){return/[0-9]/.test(value.charAt(0))||_utils2.default.contains(mainitLetters,value)?{fontName:"Main-Italic",fontClass:"mainit"}:{fontName:"Math-Italic",fontClass:"mathit"}},sizeElementFromChildren=function(elem){var height=0,depth=0,maxFontSize=0;if(elem.children)for(var i=0;i<elem.children.length;i++)elem.children[i].height>height&&(height=elem.children[i].height),elem.children[i].depth>depth&&(depth=elem.children[i].depth),elem.children[i].maxFontSize>maxFontSize&&(maxFontSize=elem.children[i].maxFontSize);elem.height=height,elem.depth=depth,elem.maxFontSize=maxFontSize},makeSpan=function(classes,children,options){var span=new _domTree2.default.span(classes,children,options);return sizeElementFromChildren(span),span},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}};exports.default={fontMap:fontMap,makeSymbol:makeSymbol,mathsym:function(value,mode,options,classes){return"\\"===value||"main"===_symbols2.default[mode][value].font?makeSymbol(value,"Main-Regular",mode,options,classes):makeSymbol(value,"AMS-Regular",mode,options,classes.concat(["amsrm"]))},makeSpan:makeSpan,makeFragment:function(children,classes){var fragment=new _domTree2.default.documentFragment(children,classes);return sizeElementFromChildren(fragment),fragment},makeVList:function(_ref,options){var positionType=_ref.positionType,positionData=_ref.positionData,children=_ref.children,depth=void 0,currPos=void 0,i=void 0;if("individualShift"===positionType){var oldChildren=children;for(children=[oldChildren[0]],currPos=depth=-oldChildren[0].shift-oldChildren[0].elem.depth,i=1;i<oldChildren.length;i++){var diff=-oldChildren[i].shift-currPos-oldChildren[i].elem.depth,size=diff-(oldChildren[i-1].elem.height+oldChildren[i-1].elem.depth);currPos+=diff,children.push({type:"kern",size:size}),children.push(oldChildren[i])}}else if("top"===positionType){var bottom=positionData;for(i=0;i<children.length;i++)"kern"===children[i].type?bottom-=children[i].size:bottom-=children[i].elem.height+children[i].elem.depth;depth=bottom}else depth="bottom"===positionType?-positionData:"shift"===positionType?-children[0].elem.depth-positionData:"firstBaseline"===positionType?-children[0].elem.depth:0;var pstrutSize=0;for(i=0;i<children.length;i++)if("elem"===children[i].type){var child=children[i].elem;pstrutSize=Math.max(pstrutSize,child.maxFontSize,child.height)}pstrutSize+=2;var pstrut=makeSpan(["pstrut"],[]);pstrut.style.height=pstrutSize+"em";var realChildren=[],minPos=depth,maxPos=depth;for(currPos=depth,i=0;i<children.length;i++){if("kern"===children[i].type)currPos+=children[i].size;else{var _child=children[i].elem,childWrap=makeSpan([],[pstrut,_child]);childWrap.style.top=-pstrutSize-currPos-_child.depth+"em",children[i].marginLeft&&(childWrap.style.marginLeft=children[i].marginLeft),children[i].marginRight&&(childWrap.style.marginRight=children[i].marginRight),realChildren.push(childWrap),currPos+=_child.height+_child.depth}minPos=Math.min(minPos,currPos),maxPos=Math.max(maxPos,currPos)}var vlist=makeSpan(["vlist"],realChildren);vlist.style.height=maxPos+"em";var rows=void 0;if(minPos<0){var depthStrut=makeSpan(["vlist"],[]);depthStrut.style.height=-minPos+"em";var topStrut=makeSpan(["vlist-s"],[new _domTree2.default.symbolNode("\u200b")]);rows=[makeSpan(["vlist-r"],[vlist,topStrut]),makeSpan(["vlist-r"],[depthStrut])]}else rows=[makeSpan(["vlist-r"],[vlist])];var vtable=makeSpan(["vlist-t"],rows);return 2===rows.length&&vtable.classes.push("vlist-t2"),vtable.height=maxPos,vtable.depth=-minPos,vtable},makeOrd:function(group,options,type){var mode=group.mode,value=group.value,classes=["mord"],font=options.font;if(font){var fontLookup=void 0;return fontLookup="mathit"===font||_utils2.default.contains(mainitLetters,value)?mathit(value,mode,options,classes):fontMap[font],lookupSymbol(value,fontLookup.fontName,mode).metrics?makeSymbol(value,fontLookup.fontName,mode,options,classes.concat([fontLookup.fontClass||font])):mathDefault(value,mode,options,classes,type)}return mathDefault(value,mode,options,classes,type)},makeVerb:function(group,options){var text=group.value.body;return text=group.value.star?text.replace(/ /g,"\u2423"):text.replace(/ /g,"\xa0")},tryCombineChars:function(chars){for(var i=0;i<chars.length-1;i++)chars[i].tryCombine(chars[i+1])&&(chars.splice(i+1,1),i--);return chars},prependChildren:function(span,children){span.children=children.concat(span.children),sizeElementFromChildren(span)},spacingFunctions:{"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}}}},{"./domTree":102,"./fontMetrics":105,"./symbols":116,"./utils":119}],96:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function sizingGroup(value,options,baseOptions){for(var inner=buildExpression(value,options,!1),multiplier=options.sizeMultiplier/baseOptions.sizeMultiplier,i=0;i<inner.length;i++){var pos=_utils2.default.indexOf(inner[i].classes,"sizing");pos<0?Array.prototype.push.apply(inner[i].classes,options.sizingClasses(baseOptions)):inner[i].classes[pos+1]==="reset-size"+options.size&&(inner[i].classes[pos+1]="reset-size"+baseOptions.size),inner[i].height*=multiplier,inner[i].depth*=multiplier}return _buildCommon2.default.makeFragment(inner)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildGroup=exports.groupTypes=exports.makeNullDelimiter=exports.buildExpression=exports.spliceSpaces=void 0;var _stringify2=_interopRequireDefault(require("babel-runtime/core-js/json/stringify"));exports.default=function(tree,options){tree=JSON.parse((0,_stringify2.default)(tree));var expression=buildExpression(tree,options,!0),body=makeSpan(["base"],expression,options),topStrut=makeSpan(["strut"]),bottomStrut=makeSpan(["strut","bottom"]);topStrut.style.height=body.height+"em",bottomStrut.style.height=body.height+body.depth+"em",bottomStrut.style.verticalAlign=-body.depth+"em";var htmlNode=makeSpan(["katex-html"],[topStrut,bottomStrut,body]);return htmlNode.setAttribute("aria-hidden","true"),htmlNode};var _ParseError2=_interopRequireDefault(require("./ParseError")),_Style2=_interopRequireDefault(require("./Style")),_buildCommon2=_interopRequireDefault(require("./buildCommon")),_delimiter2=_interopRequireDefault(require("./delimiter")),_domTree2=_interopRequireDefault(require("./domTree")),_units=require("./units"),_utils2=_interopRequireDefault(require("./utils")),_stretchy2=_interopRequireDefault(require("./stretchy")),makeSpan=_buildCommon2.default.makeSpan,isSpace=function(node){return node instanceof _domTree2.default.span&&"mspace"===node.classes[0]},isBin=function(node){return node&&"mbin"===node.classes[0]},isBinLeftCanceller=function(node,isRealGroup){return node?_utils2.default.contains(["mbin","mopen","mrel","mop","mpunct"],node.classes[0]):isRealGroup},isBinRightCanceller=function(node,isRealGroup){return node?_utils2.default.contains(["mrel","mclose","mpunct"],node.classes[0]):isRealGroup},spliceSpaces=exports.spliceSpaces=function(children,i){for(var j=i;j<children.length&&isSpace(children[j]);)j++;return j===i?null:children.splice(i,j-i)},buildExpression=exports.buildExpression=function(expression,options,isRealGroup){for(var groups=[],i=0;i<expression.length;i++){var group=expression[i],output=buildGroup(group,options);output instanceof _domTree2.default.documentFragment?Array.prototype.push.apply(groups,output.children):groups.push(output)}for(var _i=0;_i<groups.length;_i++){var spaces=spliceSpaces(groups,_i);if(spaces){if(!(_i<groups.length)){Array.prototype.push.apply(groups,spaces);break}groups[_i]instanceof _domTree2.default.symbolNode&&(groups[_i]=makeSpan([].concat(groups[_i].classes),[groups[_i]])),_buildCommon2.default.prependChildren(groups[_i],spaces)}}for(var _i2=0;_i2<groups.length;_i2++){for(var l=1,r=1;groups[_i2-l]&&"cursor"===groups[_i2-l].classes[0];)l++;for(;groups[_i2+r]&&"cursor"===groups[_i2+r].classes[0];)r++;isBin(groups[_i2])&&(isBinLeftCanceller(groups[_i2-l],isRealGroup)||isBinRightCanceller(groups[_i2+r],isRealGroup))&&(groups[_i2].classes[0]="mord")}for(var _i3=0;_i3<groups.length;_i3++)if("\u0338"===groups[_i3].value&&_i3+1<groups.length){var children=groups.slice(_i3,_i3+2);children[0].classes=["mainrm"],children[0].style.position="absolute",children[0].style.right="0";var classes=groups[_i3+1].classes,container=makeSpan(classes,children);-1!==classes.indexOf("mord")&&(container.style.paddingLeft="0.277771em"),container.style.position="relative",groups.splice(_i3,2,container)}return groups},getTypeOfDomTree=function getTypeOfDomTree(node){if(node instanceof _domTree2.default.documentFragment){if(node.children.length)return getTypeOfDomTree(node.children[node.children.length-1])}else if(_utils2.default.contains(["mord","mop","mbin","mrel","mopen","mclose","mpunct","minner"],node.classes[0]))return node.classes[0];return null},shouldHandleSupSub=function(group,options){if(group.value.base){var base=group.value.base;return"op"===base.type?base.value.limits&&(options.style.size===_Style2.default.DISPLAY.size||base.value.alwaysHandleSupSub):"accent"===base.type?isCharacterBox(base.value.base):"horizBrace"===base.type?!group.value.sub===base.value.isOver:null}return!1},getBaseElem=function getBaseElem(group){return!!group&&("ordgroup"===group.type?1===group.value.length?getBaseElem(group.value[0]):group:"color"===group.type?1===group.value.value.length?getBaseElem(group.value.value[0]):group:"font"===group.type?getBaseElem(group.value.body):group)},isCharacterBox=function(group){var baseElem=getBaseElem(group);return"mathord"===baseElem.type||"textord"===baseElem.type||"bin"===baseElem.type||"rel"===baseElem.type||"inner"===baseElem.type||"open"===baseElem.type||"close"===baseElem.type||"punct"===baseElem.type},makeNullDelimiter=exports.makeNullDelimiter=function(options,classes){var moreClasses=["nulldelimiter"].concat(options.baseSizingClasses());return makeSpan(classes.concat(moreClasses))},groupTypes=exports.groupTypes={};groupTypes.mathord=function(group,options){return _buildCommon2.default.makeOrd(group,options,"mathord")},groupTypes.textord=function(group,options){return _buildCommon2.default.makeOrd(group,options,"textord")},groupTypes.bin=function(group,options){return _buildCommon2.default.mathsym(group.value,group.mode,options,["mbin"])},groupTypes.rel=function(group,options){return _buildCommon2.default.mathsym(group.value,group.mode,options,["mrel"])},groupTypes.open=function(group,options){return _buildCommon2.default.mathsym(group.value,group.mode,options,["mopen"])},groupTypes.close=function(group,options){return _buildCommon2.default.mathsym(group.value,group.mode,options,["mclose"])},groupTypes.inner=function(group,options){return _buildCommon2.default.mathsym(group.value,group.mode,options,["minner"])},groupTypes.punct=function(group,options){return _buildCommon2.default.mathsym(group.value,group.mode,options,["mpunct"])},groupTypes.ordgroup=function(group,options){return makeSpan(["mord"],buildExpression(group.value,options,!0),options)},groupTypes.text=function(group,options){var newOptions=options.withFont(group.value.font),inner=buildExpression(group.value.body,newOptions,!0);return _buildCommon2.default.tryCombineChars(inner),makeSpan(["mord","text"],inner,newOptions)},groupTypes.xmlClass=function(group,options,prev){var elements=buildExpression(group.value.value,options,prev);return new _buildCommon2.default.makeFragment(elements,[group.value.cl])},groupTypes.color=function(group,options){var elements=buildExpression(group.value.value,options.withColor(group.value.color),!1);return new _buildCommon2.default.makeFragment(elements)},groupTypes.supsub=function(group,options){if(shouldHandleSupSub(group,options))return groupTypes[group.value.base.type](group,options);var base=buildGroup(group.value.base,options),supm=void 0,subm=void 0,metrics=options.fontMetrics(),newOptions=void 0,supShift=0,subShift=0;group.value.sup&&(newOptions=options.havingStyle(options.style.sup()),supm=buildGroup(group.value.sup,newOptions,options),isCharacterBox(group.value.base)||(supShift=base.height-newOptions.fontMetrics().supDrop*newOptions.sizeMultiplier/options.sizeMultiplier)),group.value.sub&&(newOptions=options.havingStyle(options.style.sub()),subm=buildGroup(group.value.sub,newOptions,options),isCharacterBox(group.value.base)||(subShift=base.depth+newOptions.fontMetrics().subDrop*newOptions.sizeMultiplier/options.sizeMultiplier));var minSupShift=void 0;minSupShift=options.style===_Style2.default.DISPLAY?metrics.sup1:options.style.cramped?metrics.sup3:metrics.sup2;var multiplier=options.sizeMultiplier,scriptspace=.5/metrics.ptPerEm/multiplier+"em",supsub=void 0;if(group.value.sup)if(group.value.sub){supShift=Math.max(supShift,minSupShift,supm.depth+.25*metrics.xHeight),subShift=Math.max(subShift,metrics.sub2);var ruleWidth=metrics.defaultRuleThickness;if(supShift-supm.depth-(subm.height-subShift)<4*ruleWidth){subShift=4*ruleWidth-(supShift-supm.depth)+subm.height;var psi=.8*metrics.xHeight-(supShift-supm.depth);psi>0&&(supShift+=psi,subShift-=psi)}var _vlistElem=[{type:"elem",elem:subm,shift:subShift,marginRight:scriptspace},{type:"elem",elem:supm,shift:-supShift,marginRight:scriptspace}];base instanceof _domTree2.default.symbolNode&&(_vlistElem[0].marginLeft=-base.italic+"em"),supsub=_buildCommon2.default.makeVList({positionType:"individualShift",children:_vlistElem},options)}else supShift=Math.max(supShift,minSupShift,supm.depth+.25*metrics.xHeight),supsub=_buildCommon2.default.makeVList({positionType:"shift",positionData:-supShift,children:[{type:"elem",elem:supm,marginRight:scriptspace}]},options);else{subShift=Math.max(subShift,metrics.sub1,subm.height-.8*metrics.xHeight);var vlistElem=[{type:"elem",elem:subm,marginRight:scriptspace}];base instanceof _domTree2.default.symbolNode&&(vlistElem[0].marginLeft=-base.italic+"em"),supsub=_buildCommon2.default.makeVList({positionType:"shift",positionData:subShift,children:vlistElem},options)}var mclass=getTypeOfDomTree(base)||"mord";return makeSpan([mclass],[base,makeSpan(["msupsub"],[supsub])],options)},groupTypes.genfrac=function(group,options){var style=options.style;"display"===group.value.size?style=_Style2.default.DISPLAY:"text"===group.value.size&&(style=_Style2.default.TEXT);var nstyle=style.fracNum(),dstyle=style.fracDen(),newOptions=void 0;newOptions=options.havingStyle(nstyle);var numerm=buildGroup(group.value.numer,newOptions,options);newOptions=options.havingStyle(dstyle);var denomm=buildGroup(group.value.denom,newOptions,options),rule=void 0,ruleWidth=void 0,ruleSpacing=void 0;group.value.hasBarLine?(ruleWidth=(rule=makeLineSpan("frac-line",options)).height,ruleSpacing=rule.height):(rule=null,ruleWidth=0,ruleSpacing=options.fontMetrics().defaultRuleThickness);var numShift=void 0,clearance=void 0,denomShift=void 0;style.size===_Style2.default.DISPLAY.size?(numShift=options.fontMetrics().num1,clearance=ruleWidth>0?3*ruleSpacing:7*ruleSpacing,denomShift=options.fontMetrics().denom1):(ruleWidth>0?(numShift=options.fontMetrics().num2,clearance=ruleSpacing):(numShift=options.fontMetrics().num3,clearance=3*ruleSpacing),denomShift=options.fontMetrics().denom2);var frac=void 0;if(0===ruleWidth){var candidateClearance=numShift-numerm.depth-(denomm.height-denomShift);candidateClearance<clearance&&(numShift+=.5*(clearance-candidateClearance),denomShift+=.5*(clearance-candidateClearance)),frac=_buildCommon2.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:denomm,shift:denomShift},{type:"elem",elem:numerm,shift:-numShift}]},options)}else{var axisHeight=options.fontMetrics().axisHeight;numShift-numerm.depth-(axisHeight+.5*ruleWidth)<clearance&&(numShift+=clearance-(numShift-numerm.depth-(axisHeight+.5*ruleWidth))),axisHeight-.5*ruleWidth-(denomm.height-denomShift)<clearance&&(denomShift+=clearance-(axisHeight-.5*ruleWidth-(denomm.height-denomShift)));var midShift=-(axisHeight-.5*ruleWidth);frac=_buildCommon2.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:denomm,shift:denomShift},{type:"elem",elem:rule,shift:midShift},{type:"elem",elem:numerm,shift:-numShift}]},options)}newOptions=options.havingStyle(style),frac.height*=newOptions.sizeMultiplier/options.sizeMultiplier,frac.depth*=newOptions.sizeMultiplier/options.sizeMultiplier;var delimSize=void 0;delimSize=style.size===_Style2.default.DISPLAY.size?options.fontMetrics().delim1:options.fontMetrics().delim2;var leftDelim=void 0,rightDelim=void 0;return leftDelim=null==group.value.leftDelim?makeNullDelimiter(options,["mopen"]):_delimiter2.default.customSizedDelim(group.value.leftDelim,delimSize,!0,options.havingStyle(style),group.mode,["mopen"]),rightDelim=null==group.value.rightDelim?makeNullDelimiter(options,["mclose"]):_delimiter2.default.customSizedDelim(group.value.rightDelim,delimSize,!0,options.havingStyle(style),group.mode,["mclose"]),makeSpan(["mord"].concat(newOptions.sizingClasses(options)),[leftDelim,makeSpan(["mfrac"],[frac]),rightDelim],options)},groupTypes.spacing=function(group,options){return"\\ "===group.value||"\\space"===group.value||" "===group.value||"~"===group.value?"text"===group.mode?_buildCommon2.default.makeOrd(group,options,"textord"):makeSpan(["mspace"],[_buildCommon2.default.mathsym(group.value,group.mode,options)],options):makeSpan(["mspace",_buildCommon2.default.spacingFunctions[group.value].className],[],options)},groupTypes.lap=function(group,options){var inner=void 0;"clap"===group.value.alignment?(inner=makeSpan([],[buildGroup(group.value.body,options)]),inner=makeSpan(["inner"],[inner],options)):inner=makeSpan(["inner"],[buildGroup(group.value.body,options)]);var fix=makeSpan(["fix"],[]);return makeSpan(["mord",group.value.alignment],[inner,fix],options)},groupTypes.smash=function(group,options){var node=makeSpan(["mord"],[buildGroup(group.value.body,options)]);if(!group.value.smashHeight&&!group.value.smashDepth)return node;if(group.value.smashHeight&&(node.height=0,node.children))for(var i=0;i<node.children.length;i++)node.children[i].height=0;if(group.value.smashDepth&&(node.depth=0,node.children))for(var _i4=0;_i4<node.children.length;_i4++)node.children[_i4].depth=0;return _buildCommon2.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:node}]},options)},groupTypes.op=function(group,options){var supGroup=void 0,subGroup=void 0,hasLimits=!1;"supsub"===group.type&&(supGroup=group.value.sup,subGroup=group.value.sub,group=group.value.base,hasLimits=!0);var style=options.style,large=!1;style.size===_Style2.default.DISPLAY.size&&group.value.symbol&&!_utils2.default.contains(["\\smallint"],group.value.body)&&(large=!0);var base=void 0;if(group.value.symbol){var fontName=large?"Size2-Regular":"Size1-Regular";base=_buildCommon2.default.makeSymbol(group.value.body,fontName,"math",options,["mop","op-symbol",large?"large-op":"small-op"])}else if(group.value.value){var inner=buildExpression(group.value.value,options,!0);1===inner.length&&inner[0]instanceof _domTree2.default.symbolNode?(base=inner[0]).classes[0]="mop":base=makeSpan(["mop"],inner,options)}else{for(var output=[],i=1;i<group.value.body.length;i++)output.push(_buildCommon2.default.mathsym(group.value.body[i],group.mode));base=makeSpan(["mop"],output,options)}var baseShift=0,slant=0;if(base instanceof _domTree2.default.symbolNode&&(baseShift=(base.height-base.depth)/2-options.fontMetrics().axisHeight,slant=base.italic),hasLimits){base=makeSpan([],[base]);var supm=void 0,supKern=void 0,subm=void 0,subKern=void 0,newOptions=void 0;supGroup&&(newOptions=options.havingStyle(style.sup()),supm=buildGroup(supGroup,newOptions,options),supKern=Math.max(options.fontMetrics().bigOpSpacing1,options.fontMetrics().bigOpSpacing3-supm.depth)),subGroup&&(newOptions=options.havingStyle(style.sub()),subm=buildGroup(subGroup,newOptions,options),subKern=Math.max(options.fontMetrics().bigOpSpacing2,options.fontMetrics().bigOpSpacing4-subm.height));var finalGroup=void 0,top=void 0,bottom=void 0;if(supGroup)if(subGroup){if(!supGroup&&!subGroup)return base;bottom=options.fontMetrics().bigOpSpacing5+subm.height+subm.depth+subKern+base.depth+baseShift,finalGroup=_buildCommon2.default.makeVList({positionType:"bottom",positionData:bottom,children:[{type:"kern",size:options.fontMetrics().bigOpSpacing5},{type:"elem",elem:subm,marginLeft:-slant+"em"},{type:"kern",size:subKern},{type:"elem",elem:base},{type:"kern",size:supKern},{type:"elem",elem:supm,marginLeft:slant+"em"},{type:"kern",size:options.fontMetrics().bigOpSpacing5}]},options)}else bottom=base.depth+baseShift,finalGroup=_buildCommon2.default.makeVList({positionType:"bottom",positionData:bottom,children:[{type:"elem",elem:base},{type:"kern",size:supKern},{type:"elem",elem:supm,marginLeft:slant+"em"},{type:"kern",size:options.fontMetrics().bigOpSpacing5}]},options);else top=base.height-baseShift,finalGroup=_buildCommon2.default.makeVList({positionType:"top",positionData:top,children:[{type:"kern",size:options.fontMetrics().bigOpSpacing5},{type:"elem",elem:subm,marginLeft:-slant+"em"},{type:"kern",size:subKern},{type:"elem",elem:base}]},options);return makeSpan(["mop","op-limits"],[finalGroup],options)}return baseShift&&(base.style.position="relative",base.style.top=baseShift+"em"),base},groupTypes.mod=function(group,options){var inner=[];if("bmod"===group.value.modType?(options.style.isTight()||inner.push(makeSpan(["mspace","negativemediumspace"],[],options)),inner.push(makeSpan(["mspace","thickspace"],[],options))):options.style.size===_Style2.default.DISPLAY.size?inner.push(makeSpan(["mspace","quad"],[],options)):"mod"===group.value.modType?inner.push(makeSpan(["mspace","twelvemuspace"],[],options)):inner.push(makeSpan(["mspace","eightmuspace"],[],options)),"pod"!==group.value.modType&&"pmod"!==group.value.modType||inner.push(_buildCommon2.default.mathsym("(",group.mode)),"pod"!==group.value.modType){var modInner=[_buildCommon2.default.mathsym("m",group.mode),_buildCommon2.default.mathsym("o",group.mode),_buildCommon2.default.mathsym("d",group.mode)];"bmod"===group.value.modType?(inner.push(makeSpan(["mbin"],modInner,options)),inner.push(makeSpan(["mspace","thickspace"],[],options)),options.style.isTight()||inner.push(makeSpan(["mspace","negativemediumspace"],[],options))):(Array.prototype.push.apply(inner,modInner),inner.push(makeSpan(["mspace","sixmuspace"],[],options)))}return group.value.value&&Array.prototype.push.apply(inner,buildExpression(group.value.value,options,!1)),"pod"!==group.value.modType&&"pmod"!==group.value.modType||inner.push(_buildCommon2.default.mathsym(")",group.mode)),_buildCommon2.default.makeFragment(inner)},groupTypes.katex=function(group,options){var k=makeSpan(["k"],[_buildCommon2.default.mathsym("K",group.mode)],options),a=makeSpan(["a"],[_buildCommon2.default.mathsym("A",group.mode)],options);a.height=.75*(a.height+.2),a.depth=.75*(a.height-.2);var t=makeSpan(["t"],[_buildCommon2.default.mathsym("T",group.mode)],options),e=makeSpan(["e"],[_buildCommon2.default.mathsym("E",group.mode)],options);e.height=e.height-.2155,e.depth=e.depth+.2155;var x=makeSpan(["x"],[_buildCommon2.default.mathsym("X",group.mode)],options);return makeSpan(["mord","katex-logo"],[k,a,t,e,x],options)};var makeLineSpan=function(className,options,thickness){var line=makeSpan([className],[],options);return line.height=thickness||options.fontMetrics().defaultRuleThickness,line.style.borderBottomWidth=line.height+"em",line.maxFontSize=1,line};groupTypes.overline=function(group,options){var innerGroup=buildGroup(group.value.body,options.havingCrampedStyle()),line=makeLineSpan("overline-line",options),vlist=_buildCommon2.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:innerGroup},{type:"kern",size:3*line.height},{type:"elem",elem:line},{type:"kern",size:line.height}]},options);return makeSpan(["mord","overline"],[vlist],options)},groupTypes.underline=function(group,options){var innerGroup=buildGroup(group.value.body,options),line=makeLineSpan("underline-line",options),vlist=_buildCommon2.default.makeVList({positionType:"top",positionData:innerGroup.height,children:[{type:"kern",size:line.height},{type:"elem",elem:line},{type:"kern",size:3*line.height},{type:"elem",elem:innerGroup}]},options);return makeSpan(["mord","underline"],[vlist],options)},groupTypes.sqrt=function(group,options){var inner=buildGroup(group.value.body,options.havingCrampedStyle());0===inner.height&&(inner.height=options.fontMetrics().xHeight),inner instanceof _domTree2.default.documentFragment&&(inner=makeSpan([],[inner],options));var theta=options.fontMetrics().defaultRuleThickness,phi=theta;options.style.id<_Style2.default.TEXT.id&&(phi=options.fontMetrics().xHeight);var lineClearance=theta+phi/4,minDelimiterHeight=(inner.height+inner.depth+lineClearance+theta)*options.sizeMultiplier,img=_delimiter2.default.customSizedDelim("\\surd",minDelimiterHeight,!1,options,group.mode),ruleWidth=options.fontMetrics().sqrtRuleThickness*img.sizeMultiplier,delimDepth=img.height-ruleWidth;delimDepth>inner.height+inner.depth+lineClearance&&(lineClearance=(lineClearance+delimDepth-inner.height-inner.depth)/2);var imgShift=img.height-inner.height-lineClearance-ruleWidth;inner.style.paddingLeft=img.advanceWidth+"em";var body=_buildCommon2.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:inner},{type:"kern",size:-(inner.height+imgShift)},{type:"elem",elem:img},{type:"kern",size:ruleWidth}]},options);if(body.children[0].children[0].classes.push("svg-align"),group.value.index){var newOptions=options.havingStyle(_Style2.default.SCRIPTSCRIPT),rootm=buildGroup(group.value.index,newOptions,options),toShift=.6*(body.height-body.depth),rootVList=_buildCommon2.default.makeVList({positionType:"shift",positionData:-toShift,children:[{type:"elem",elem:rootm}]},options),rootVListWrap=makeSpan(["root"],[rootVList]);return makeSpan(["mord","sqrt"],[rootVListWrap,body],options)}return makeSpan(["mord","sqrt"],[body],options)},groupTypes.sizing=function(group,options){var newOptions=options.havingSize(group.value.size);return sizingGroup(group.value.value,newOptions,options)},groupTypes.styling=function(group,options){var newStyle={display:_Style2.default.DISPLAY,text:_Style2.default.TEXT,script:_Style2.default.SCRIPT,scriptscript:_Style2.default.SCRIPTSCRIPT}[group.value.style],newOptions=options.havingStyle(newStyle);return sizingGroup(group.value.value,newOptions,options)},groupTypes.font=function(group,options){var font=group.value.font;return buildGroup(group.value.body,options.withFont(font))},groupTypes.verb=function(group,options){for(var text=_buildCommon2.default.makeVerb(group,options),body=[],newOptions=options.havingStyle(options.style.text()),i=0;i<text.length;i++)if("\xa0"===text[i]){var rule=makeSpan(["mord","rule"],[],newOptions);rule.style.marginLeft="0.525em",body.push(rule)}else body.push(_buildCommon2.default.makeSymbol(text[i],"Typewriter-Regular",group.mode,newOptions,["mathtt"]));return _buildCommon2.default.tryCombineChars(body),makeSpan(["mord","text"].concat(newOptions.sizingClasses(options)),body,newOptions)},groupTypes.cursor=function(group,options,prev){var cursor=makeSpan(["cursor"],[],options),shift=0,height=(0,_units.calculateSize)(group.value.height,options);return group.value.shift&&(shift=(0,_units.calculateSize)(group.value.shift,options)),shift/=options.sizeMultiplier,height/=options.sizeMultiplier,cursor.style.marginRight="-1px",cursor.style.borderRight="1px solid",cursor.style.marginBottom=shift+"em",cursor.style.height=height+"em",cursor.width=1,cursor.height=height+shift,cursor.depth=-shift,group.value.previous=prev,cursor},groupTypes.rule=function(group,options){var rule=makeSpan(["mord","rule"],[],options),shift=0;group.value.shift&&(shift=(0,_units.calculateSize)(group.value.shift,options));var width=(0,_units.calculateSize)(group.value.width,options),height=(0,_units.calculateSize)(group.value.height,options);return rule.style.borderRightWidth=width+"em",rule.style.borderTopWidth=height+"em",rule.style.bottom=shift+"em",rule.width=width,rule.height=height+shift,rule.depth=-shift,rule.maxFontSize=1.125*height*options.sizeMultiplier,rule},groupTypes.kern=function(group,options){var rule=makeSpan(["mord","rule"],[],options);if(group.value.dimension){var dimension=(0,_units.calculateSize)(group.value.dimension,options);rule.style.marginLeft=dimension+"em"}return rule},groupTypes.accent=function(group,options){var base=group.value.base,supsubGroup=void 0;if("supsub"===group.type){var supsub=group;base=(group=supsub.value.base).value.base,supsub.value.base=base,supsubGroup=buildGroup(supsub,options)}var body=buildGroup(base,options.havingCrampedStyle()),skew=0;if(group.value.isShifty&&isCharacterBox(base)){var baseChar=getBaseElem(base);skew=buildGroup(baseChar,options.havingCrampedStyle()).skew}var clearance=Math.min(body.height,options.fontMetrics().xHeight),accentBody=void 0;if(group.value.isStretchy){accentBody=_stretchy2.default.svgSpan(group,options);var styleSpan=(accentBody=_buildCommon2.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:body},{type:"elem",elem:accentBody}]},options)).children[0].children[0].children[1];styleSpan.classes.push("svg-align"),skew>0&&(styleSpan.style.width="calc(100% - "+2*skew+"em)",styleSpan.style.marginLeft=2*skew+"em")}else{var accent=_buildCommon2.default.makeSymbol(group.value.label,"Main-Regular",group.mode,options);accent.italic=0;var accentClass=null;"\\vec"===group.value.label?accentClass="accent-vec":"\\H"===group.value.label&&(accentClass="accent-hungarian"),accentBody=makeSpan([],[accent]),(accentBody=makeSpan(["accent-body",accentClass],[accentBody])).style.marginLeft=2*skew+"em",accentBody=_buildCommon2.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:body},{type:"kern",size:-clearance},{type:"elem",elem:accentBody}]},options)}var accentWrap=makeSpan(["mord","accent"],[accentBody],options);return supsubGroup?(supsubGroup.children[0]=accentWrap,supsubGroup.height=Math.max(accentWrap.height,supsubGroup.height),supsubGroup.classes[0]="mord",supsubGroup):accentWrap},groupTypes.horizBrace=function(group,options){var style=options.style,hasSupSub="supsub"===group.type,supSubGroup=void 0,newOptions=void 0;hasSupSub&&(group.value.sup?(newOptions=options.havingStyle(style.sup()),supSubGroup=buildGroup(group.value.sup,newOptions,options)):(newOptions=options.havingStyle(style.sub()),supSubGroup=buildGroup(group.value.sub,newOptions,options)),group=group.value.base);var body=buildGroup(group.value.base,options.havingBaseStyle(_Style2.default.DISPLAY)),braceBody=_stretchy2.default.svgSpan(group,options),vlist=void 0;if(group.value.isOver?(vlist=_buildCommon2.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:body},{type:"kern",size:.1},{type:"elem",elem:braceBody}]},options)).children[0].children[0].children[1].classes.push("svg-align"):(vlist=_buildCommon2.default.makeVList({positionType:"bottom",positionData:body.depth+.1+braceBody.height,children:[{type:"elem",elem:braceBody},{type:"kern",size:.1},{type:"elem",elem:body}]},options)).children[0].children[0].children[0].classes.push("svg-align"),hasSupSub){var vSpan=makeSpan(["mord",group.value.isOver?"mover":"munder"],[vlist],options);vlist=group.value.isOver?_buildCommon2.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:vSpan},{type:"kern",size:.2},{type:"elem",elem:supSubGroup}]},options):_buildCommon2.default.makeVList({positionType:"bottom",positionData:vSpan.depth+.2+supSubGroup.height,children:[{type:"elem",elem:supSubGroup},{type:"kern",size:.2},{type:"elem",elem:vSpan}]},options)}return makeSpan(["mord",group.value.isOver?"mover":"munder"],[vlist],options)},groupTypes.accentUnder=function(group,options){var innerGroup=buildGroup(group.value.base,options),accentBody=_stretchy2.default.svgSpan(group,options),kern=/tilde/.test(group.value.label)?.12:0,vlist=_buildCommon2.default.makeVList({positionType:"bottom",positionData:accentBody.height+kern,children:[{type:"elem",elem:accentBody},{type:"kern",size:kern},{type:"elem",elem:innerGroup}]},options);return vlist.children[0].children[0].children[0].classes.push("svg-align"),makeSpan(["mord","accentunder"],[vlist],options)},groupTypes.enclose=function(group,options){var inner=buildGroup(group.value.body,options),label=group.value.label.substr(1),scale=options.sizeMultiplier,img=void 0,imgShift=0,isColorbox=/color/.test(label);if("sout"===label)(img=makeSpan(["stretchy","sout"])).height=options.fontMetrics().defaultRuleThickness/scale,imgShift=-.5*options.fontMetrics().xHeight;else{inner.classes.push(/cancel/.test(label)?"cancel-pad":"boxpad");var vertPad=0;vertPad=/box/.test(label)?"colorbox"===label?.3:.34:isCharacterBox(group.value.body)?.2:0,img=_stretchy2.default.encloseSpan(inner,label,vertPad,options),imgShift=inner.depth+vertPad,isColorbox&&(img.style.backgroundColor=group.value.backgroundColor.value,"fcolorbox"===label&&(img.style.borderColor=group.value.borderColor.value))}var vlist=void 0;return vlist=isColorbox?_buildCommon2.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:img,shift:imgShift},{type:"elem",elem:inner,shift:0}]},options):_buildCommon2.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:inner,shift:0},{type:"elem",elem:img,shift:imgShift}]},options),/cancel/.test(label)?(vlist.children[0].children[0].children[1].classes.push("svg-align"),makeSpan(["mord","cancel-lap"],[vlist],options)):makeSpan(["mord"],[vlist],options)},groupTypes.xArrow=function(group,options){var style=options.style,newOptions=options.havingStyle(style.sup()),upperGroup=buildGroup(group.value.body,newOptions,options);upperGroup.classes.push("x-arrow-pad");var lowerGroup=void 0;group.value.below&&(newOptions=options.havingStyle(style.sub()),(lowerGroup=buildGroup(group.value.below,newOptions,options)).classes.push("x-arrow-pad"));var arrowBody=_stretchy2.default.svgSpan(group,options),arrowShift=-options.fontMetrics().axisHeight+.5*arrowBody.height,upperShift=-options.fontMetrics().axisHeight-.5*arrowBody.height-.111,vlist=void 0;if(group.value.below){var lowerShift=-options.fontMetrics().axisHeight+lowerGroup.height+.5*arrowBody.height+.111;vlist=_buildCommon2.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:upperGroup,shift:upperShift},{type:"elem",elem:arrowBody,shift:arrowShift},{type:"elem",elem:lowerGroup,shift:lowerShift}]},options)}else vlist=_buildCommon2.default.makeVList({positionType:"individualShift",children:[{type:"elem",elem:upperGroup,shift:upperShift},{type:"elem",elem:arrowBody,shift:arrowShift}]},options);return vlist.children[0].children[0].children[1].classes.push("svg-align"),makeSpan(["mrel","x-arrow"],[vlist],options)},groupTypes.mclass=function(group,options){var elements=buildExpression(group.value.value,options,!0);return makeSpan([group.value.mclass],elements,options)},groupTypes.raisebox=function(group,options){var body=groupTypes.sizing({value:{value:[{type:"text",value:{body:group.value.value,font:"mathrm"}}],size:6}},options),dy=(0,_units.calculateSize)(group.value.dy.value,options);return _buildCommon2.default.makeVList({positionType:"shift",positionData:-dy,children:[{type:"elem",elem:body}]},options)};var buildGroup=exports.buildGroup=function(group,options,baseOptions){if(!group)return makeSpan();if(groupTypes[group.type]){var groupNode=groupTypes[group.type](group,options);if(baseOptions&&options.size!==baseOptions.size){groupNode=makeSpan(options.sizingClasses(baseOptions),[groupNode],options);var multiplier=options.sizeMultiplier/baseOptions.sizeMultiplier;groupNode.height*=multiplier,groupNode.depth*=multiplier}return groupNode}throw new _ParseError2.default("Got group of unknown type: '"+group.type+"'")}},{"./ParseError":88,"./Style":93,"./buildCommon":95,"./delimiter":101,"./domTree":102,"./stretchy":114,"./units":118,"./utils":119,"babel-runtime/core-js/json/stringify":9}],97:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildGroup=exports.buildExpression=exports.groupTypes=exports.makeText=void 0,exports.default=function(tree,texExpression,options){var expression=buildExpression(tree,options),wrapper=new _mathMLTree2.default.MathNode("mrow",expression),annotation=new _mathMLTree2.default.MathNode("annotation",[new _mathMLTree2.default.TextNode(texExpression)]);annotation.setAttribute("encoding","application/x-tex");var semantics=new _mathMLTree2.default.MathNode("semantics",[wrapper,annotation]),math=new _mathMLTree2.default.MathNode("math",[semantics]);return _buildCommon2.default.makeSpan(["katex-mathml"],[math])};var _buildCommon2=_interopRequireDefault(require("./buildCommon")),_fontMetrics2=_interopRequireDefault(require("./fontMetrics")),_mathMLTree2=_interopRequireDefault(require("./mathMLTree")),_ParseError2=_interopRequireDefault(require("./ParseError")),_Style2=_interopRequireDefault(require("./Style")),_symbols2=_interopRequireDefault(require("./symbols")),_utils2=_interopRequireDefault(require("./utils")),_stretchy2=_interopRequireDefault(require("./stretchy")),makeText=exports.makeText=function(text,mode){return _symbols2.default[mode][text]&&_symbols2.default[mode][text].replace&&(text=_symbols2.default[mode][text].replace),new _mathMLTree2.default.TextNode(text)},getVariant=function(group,options){var font=options.font;if(!font)return null;var mode=group.mode;if("mathit"===font)return"italic";var value=group.value;if(_utils2.default.contains(["\\imath","\\jmath"],value))return null;_symbols2.default[mode][value]&&_symbols2.default[mode][value].replace&&(value=_symbols2.default[mode][value].replace);var fontName=_buildCommon2.default.fontMap[font].fontName;return _fontMetrics2.default.getCharacterMetrics(value,fontName)?_buildCommon2.default.fontMap[options.font].variant:null},groupTypes=exports.groupTypes={},defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};groupTypes.mathord=function(group,options){var node=new _mathMLTree2.default.MathNode("mi",[makeText(group.value,group.mode)]),variant=getVariant(group,options)||"italic";return variant!==defaultVariant[node.type]&&node.setAttribute("mathvariant",variant),node},groupTypes.textord=function(group,options){var text=makeText(group.value,group.mode),variant=getVariant(group,options)||"normal",node=void 0;return node="text"===group.mode?new _mathMLTree2.default.MathNode("mtext",[text]):/[0-9]/.test(group.value)?new _mathMLTree2.default.MathNode("mn",[text]):"\\prime"===group.value?new _mathMLTree2.default.MathNode("mo",[text]):new _mathMLTree2.default.MathNode("mi",[text]),variant!==defaultVariant[node.type]&&node.setAttribute("mathvariant",variant),node},groupTypes.bin=function(group){return new _mathMLTree2.default.MathNode("mo",[makeText(group.value,group.mode)])},groupTypes.rel=function(group){return new _mathMLTree2.default.MathNode("mo",[makeText(group.value,group.mode)])},groupTypes.open=function(group){return new _mathMLTree2.default.MathNode("mo",[makeText(group.value,group.mode)])},groupTypes.close=function(group){return new _mathMLTree2.default.MathNode("mo",[makeText(group.value,group.mode)])},groupTypes.inner=function(group){return new _mathMLTree2.default.MathNode("mo",[makeText(group.value,group.mode)])},groupTypes.punct=function(group){var node=new _mathMLTree2.default.MathNode("mo",[makeText(group.value,group.mode)]);return node.setAttribute("separator","true"),node},groupTypes.ordgroup=function(group,options){var inner=buildExpression(group.value,options);return new _mathMLTree2.default.MathNode("mrow",inner)},groupTypes.text=function(group,options){for(var body=group.value.body,inner=[],currentText=null,i=0;i<body.length;i++){var _group=buildGroup(body[i],options);"mtext"===_group.type&&null!=currentText?Array.prototype.push.apply(currentText.children,_group.children):(inner.push(_group),"mtext"===_group.type&&(currentText=_group))}return 1===inner.length?inner[0]:new _mathMLTree2.default.MathNode("mrow",inner)},groupTypes.color=function(group,options){var inner=buildExpression(group.value.value,options),node=new _mathMLTree2.default.MathNode("mstyle",inner);return node.setAttribute("mathcolor",group.value.color),node},groupTypes.xmlClass=function(group,options){var inner=buildExpression(group.value.value,options),node=new _mathMLTree2.default.MathNode("mstyle",inner);return node.setAttribute("class",group.value.cl),node},groupTypes.supsub=function(group,options){var isBrace=!1,isOver=void 0;group.value.base&&"horizBrace"===group.value.base.value.type&&!!group.value.sup===group.value.base.value.isOver&&(isBrace=!0,isOver=group.value.base.value.isOver);var children=[buildGroup(group.value.base,options,!0)];group.value.sub&&children.push(buildGroup(group.value.sub,options,!0)),group.value.sup&&children.push(buildGroup(group.value.sup,options,!0));var nodeType=void 0;if(isBrace)nodeType=isOver?"mover":"munder";else if(group.value.sub)if(group.value.sup){var base=group.value.base;nodeType=base&&base.value.limits&&options.style===_Style2.default.DISPLAY?"munderover":"msubsup"}else nodeType="msub";else nodeType="msup";return new _mathMLTree2.default.MathNode(nodeType,children)},groupTypes.genfrac=function(group,options){var node=new _mathMLTree2.default.MathNode("mfrac",[buildGroup(group.value.numer,options),buildGroup(group.value.denom,options)]);if(group.value.hasBarLine||node.setAttribute("linethickness","0px"),null!=group.value.leftDelim||null!=group.value.rightDelim){var withDelims=[];if(null!=group.value.leftDelim){var leftOp=new _mathMLTree2.default.MathNode("mo",[new _mathMLTree2.default.TextNode(group.value.leftDelim)]);leftOp.setAttribute("fence","true"),withDelims.push(leftOp)}if(withDelims.push(node),null!=group.value.rightDelim){var rightOp=new _mathMLTree2.default.MathNode("mo",[new _mathMLTree2.default.TextNode(group.value.rightDelim)]);rightOp.setAttribute("fence","true"),withDelims.push(rightOp)}return new _mathMLTree2.default.MathNode("mrow",withDelims)}return node},groupTypes.sqrt=function(group,options){return group.value.index?new _mathMLTree2.default.MathNode("mroot",[buildGroup(group.value.body,options),buildGroup(group.value.index,options)]):new _mathMLTree2.default.MathNode("msqrt",[buildGroup(group.value.body,options)])},groupTypes.accent=function(group,options){var accentNode=void 0;accentNode=group.value.isStretchy?_stretchy2.default.mathMLnode(group.value.label):new _mathMLTree2.default.MathNode("mo",[makeText(group.value.label,group.mode)]);var node=new _mathMLTree2.default.MathNode("mover",[buildGroup(group.value.base,options),accentNode]);return node.setAttribute("accent","true"),node},groupTypes.spacing=function(group){var node=void 0;return"\\ "===group.value||"\\space"===group.value||" "===group.value||"~"===group.value?node=new _mathMLTree2.default.MathNode("mtext",[new _mathMLTree2.default.TextNode("\xa0")]):(node=new _mathMLTree2.default.MathNode("mspace")).setAttribute("width",_buildCommon2.default.spacingFunctions[group.value].size),node},groupTypes.op=function(group,options){return group.value.symbol?new _mathMLTree2.default.MathNode("mo",[makeText(group.value.body,group.mode)]):group.value.value?new _mathMLTree2.default.MathNode("mo",buildExpression(group.value.value,options)):new _mathMLTree2.default.MathNode("mi",[new _mathMLTree2.default.TextNode(group.value.body.slice(1))])},groupTypes.cursor=function(group){return new _mathMLTree2.default.MathNode("mtext",[new _mathMLTree2.default.TextNode("|")])},groupTypes.mod=function(group,options){var inner=[];if("pod"!==group.value.modType&&"pmod"!==group.value.modType||inner.push(new _mathMLTree2.default.MathNode("mo",[makeText("(",group.mode)])),"pod"!==group.value.modType&&inner.push(new _mathMLTree2.default.MathNode("mo",[makeText("mod",group.mode)])),group.value.value){var space=new _mathMLTree2.default.MathNode("mspace");space.setAttribute("width","0.333333em"),inner.push(space),inner=inner.concat(buildExpression(group.value.value,options))}return"pod"!==group.value.modType&&"pmod"!==group.value.modType||inner.push(new _mathMLTree2.default.MathNode("mo",[makeText(")",group.mode)])),new _mathMLTree2.default.MathNode("mo",inner)},groupTypes.katex=function(group){return new _mathMLTree2.default.MathNode("mtext",[new _mathMLTree2.default.TextNode("KaTeX")])},groupTypes.font=function(group,options){var font=group.value.font;return buildGroup(group.value.body,options.withFont(font))},groupTypes.styling=function(group,options){var newStyle={display:_Style2.default.DISPLAY,text:_Style2.default.TEXT,script:_Style2.default.SCRIPT,scriptscript:_Style2.default.SCRIPTSCRIPT}[group.value.style],newOptions=options.havingStyle(newStyle),inner=buildExpression(group.value.value,newOptions),node=new _mathMLTree2.default.MathNode("mstyle",inner),attr={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[group.value.style];return node.setAttribute("scriptlevel",attr[0]),node.setAttribute("displaystyle",attr[1]),node},groupTypes.sizing=function(group,options){var newOptions=options.havingSize(group.value.size),inner=buildExpression(group.value.value,newOptions),node=new _mathMLTree2.default.MathNode("mstyle",inner);return node.setAttribute("mathsize",newOptions.sizeMultiplier+"em"),node},groupTypes.verb=function(group,options){var text=new _mathMLTree2.default.TextNode(_buildCommon2.default.makeVerb(group,options)),node=new _mathMLTree2.default.MathNode("mtext",[text]);return node.setAttribute("mathvariant",_buildCommon2.default.fontMap.mathtt.variant),node},groupTypes.overline=function(group,options){var operator=new _mathMLTree2.default.MathNode("mo",[new _mathMLTree2.default.TextNode("\u203e")]);operator.setAttribute("stretchy","true");var node=new _mathMLTree2.default.MathNode("mover",[buildGroup(group.value.body,options),operator]);return node.setAttribute("accent","true"),node},groupTypes.underline=function(group,options){var operator=new _mathMLTree2.default.MathNode("mo",[new _mathMLTree2.default.TextNode("\u203e")]);operator.setAttribute("stretchy","true");var node=new _mathMLTree2.default.MathNode("munder",[buildGroup(group.value.body,options),operator]);return node.setAttribute("accentunder","true"),node},groupTypes.accentUnder=function(group,options){var accentNode=_stretchy2.default.mathMLnode(group.value.label),node=new _mathMLTree2.default.MathNode("munder",[buildGroup(group.value.body,options),accentNode]);return node.setAttribute("accentunder","true"),node},groupTypes.enclose=function(group,options){var node=new _mathMLTree2.default.MathNode("menclose",[buildGroup(group.value.body,options)]);switch(group.value.label){case"\\cancel":node.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":node.setAttribute("notation","downdiagonalstrike");break;case"\\sout":node.setAttribute("notation","horizontalstrike");break;case"\\fbox":node.setAttribute("notation","box");break;case"\\colorbox":node.setAttribute("mathbackground",group.value.backgroundColor.value);break;case"\\fcolorbox":node.setAttribute("mathbackground",group.value.backgroundColor.value),node.setAttribute("notation","box");break;default:node.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return node},groupTypes.horizBrace=function(group,options){var accentNode=_stretchy2.default.mathMLnode(group.value.label);return new _mathMLTree2.default.MathNode(group.value.isOver?"mover":"munder",[buildGroup(group.value.base,options),accentNode])},groupTypes.xArrow=function(group,options){var arrowNode=_stretchy2.default.mathMLnode(group.value.label),node=void 0,lowerNode=void 0;if(group.value.body){var upperNode=buildGroup(group.value.body,options);group.value.below?(lowerNode=buildGroup(group.value.below,options),node=new _mathMLTree2.default.MathNode("munderover",[arrowNode,lowerNode,upperNode])):node=new _mathMLTree2.default.MathNode("mover",[arrowNode,upperNode])}else group.value.below?(lowerNode=buildGroup(group.value.below,options),node=new _mathMLTree2.default.MathNode("munder",[arrowNode,lowerNode])):node=new _mathMLTree2.default.MathNode("mover",[arrowNode]);return node},groupTypes.rule=function(group){return new _mathMLTree2.default.MathNode("mrow")},groupTypes.kern=function(group){return new _mathMLTree2.default.MathNode("mrow")},groupTypes.lap=function(group,options){var node=new _mathMLTree2.default.MathNode("mpadded",[buildGroup(group.value.body,options)]);if("rlap"!==group.value.alignment){var offset="llap"===group.value.alignment?"-1":"-0.5";node.setAttribute("lspace",offset+"width")}return node.setAttribute("width","0px"),node},groupTypes.smash=function(group,options){var node=new _mathMLTree2.default.MathNode("mpadded",[buildGroup(group.value.body,options)]);return group.value.smashHeight&&node.setAttribute("height","0px"),group.value.smashDepth&&node.setAttribute("depth","0px"),node},groupTypes.mclass=function(group,options){var inner=buildExpression(group.value.value,options);return new _mathMLTree2.default.MathNode("mstyle",inner)},groupTypes.raisebox=function(group,options){var node=new _mathMLTree2.default.MathNode("mpadded",[buildGroup(group.value.body,options)]),dy=group.value.dy.value.number+group.value.dy.value.unit;return node.setAttribute("voffset",dy),node};var buildExpression=exports.buildExpression=function(expression,options){for(var groups=[],i=0;i<expression.length;i++){var group=expression[i];groups.push(buildGroup(group,options))}return groups},buildGroup=exports.buildGroup=function(group,options){var removeUnnecessaryRow=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!group)return new _mathMLTree2.default.MathNode("mrow");if(groupTypes[group.type]){var result=groupTypes[group.type](group,options);return removeUnnecessaryRow&&"mrow"===result.type&&1===result.children.length?result.children[0]:result}throw new _ParseError2.default("Got group of unknown type: '"+group.type+"'")}},{"./ParseError":88,"./Style":93,"./buildCommon":95,"./fontMetrics":105,"./mathMLTree":112,"./stretchy":114,"./symbols":116,"./utils":119}],98:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _buildHTML2=_interopRequireDefault(require("./buildHTML")),_buildMathML2=_interopRequireDefault(require("./buildMathML")),_buildCommon2=_interopRequireDefault(require("./buildCommon")),_Options2=_interopRequireDefault(require("./Options")),_Settings2=_interopRequireDefault(require("./Settings")),_Style2=_interopRequireDefault(require("./Style"));exports.default=function(tree,expression,settings){settings=settings||new _Settings2.default({});var startStyle=_Style2.default.TEXT;settings.displayMode&&(startStyle=_Style2.default.DISPLAY);var options=new _Options2.default({style:startStyle,maxSize:settings.maxSize}),mathMLNode=(0,_buildMathML2.default)(tree,expression,options),htmlNode=(0,_buildHTML2.default)(tree,options),katexNode=_buildCommon2.default.makeSpan(["katex"],[mathMLNode,htmlNode]);return settings.displayMode?_buildCommon2.default.makeSpan(["katex-display"],[katexNode]):katexNode}},{"./Options":87,"./Settings":91,"./Style":93,"./buildCommon":95,"./buildHTML":96,"./buildMathML":97}],99:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports._environments=void 0,exports.default=function(_ref){for(var type=_ref.type,names=_ref.names,props=_ref.props,handler=_ref.handler,htmlBuilder=_ref.htmlBuilder,mathmlBuilder=_ref.mathmlBuilder,data={numArgs:props.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:handler},i=0;i<names.length;++i)_environments[names[i]]=data;htmlBuilder&&(_buildHTML.groupTypes[type]=htmlBuilder),mathmlBuilder&&(_buildMathML.groupTypes[type]=mathmlBuilder)};var _buildHTML=require("./buildHTML"),_buildMathML=require("./buildMathML"),_environments=(_interopRequireDefault(require("./Options")),_interopRequireDefault(require("./ParseNode")),exports._environments={})},{"./Options":87,"./ParseNode":89,"./buildHTML":96,"./buildMathML":97}],100:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ordargument=exports._functions=void 0,exports.default=function(_ref){for(var type=_ref.type,names=_ref.names,props=_ref.props,handler=_ref.handler,htmlBuilder=_ref.htmlBuilder,mathmlBuilder=_ref.mathmlBuilder,data={numArgs:props.numArgs,argTypes:props.argTypes,greediness:void 0===props.greediness?1:props.greediness,allowedInText:!!props.allowedInText,allowedInMath:void 0===props.allowedInMath||props.allowedInMath,numOptionalArgs:props.numOptionalArgs||0,infix:!!props.infix,handler:handler},i=0;i<names.length;++i)_functions[names[i]]=data;type&&(htmlBuilder&&(_buildHTML.groupTypes[type]=htmlBuilder),mathmlBuilder&&(_buildMathML.groupTypes[type]=mathmlBuilder))};var _buildHTML=require("./buildHTML"),_buildMathML=require("./buildMathML"),_functions=exports._functions={};exports.ordargument=function(arg){return"ordgroup"===arg.type?arg.value:[arg]}},{"./buildHTML":96,"./buildMathML":97}],101:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _ParseError2=_interopRequireDefault(require("./ParseError")),_Style2=_interopRequireDefault(require("./Style")),_domTree2=_interopRequireDefault(require("./domTree")),_buildCommon2=_interopRequireDefault(require("./buildCommon")),_fontMetrics2=_interopRequireDefault(require("./fontMetrics")),_symbols2=_interopRequireDefault(require("./symbols")),_utils2=_interopRequireDefault(require("./utils")),getMetrics=function(symbol,font){return _symbols2.default.math[symbol]&&_symbols2.default.math[symbol].replace?_fontMetrics2.default.getCharacterMetrics(_symbols2.default.math[symbol].replace,font):_fontMetrics2.default.getCharacterMetrics(symbol,font)},styleWrap=function(delim,toStyle,options,classes){var newOptions=options.havingBaseStyle(toStyle),span=_buildCommon2.default.makeSpan((classes||[]).concat(newOptions.sizingClasses(options)),[delim],options);return span.delimSizeMultiplier=newOptions.sizeMultiplier/options.sizeMultiplier,span.height*=span.delimSizeMultiplier,span.depth*=span.delimSizeMultiplier,span.maxFontSize=newOptions.sizeMultiplier,span},centerSpan=function(span,options,style){var newOptions=options.havingBaseStyle(style),shift=(1-options.sizeMultiplier/newOptions.sizeMultiplier)*options.fontMetrics().axisHeight;span.classes.push("delimcenter"),span.style.top=shift+"em",span.height-=shift,span.depth+=shift},makeSmallDelim=function(delim,style,center,options,mode,classes){var text=_buildCommon2.default.makeSymbol(delim,"Main-Regular",mode,options),span=styleWrap(text,style,options,classes);return center&&centerSpan(span,options,style),span},mathrmSize=function(value,size,mode,options){return _buildCommon2.default.makeSymbol(value,"Size"+size+"-Regular",mode,options)},makeLargeDelim=function(delim,size,center,options,mode,classes){var inner=mathrmSize(delim,size,mode,options),span=styleWrap(_buildCommon2.default.makeSpan(["delimsizing","size"+size],[inner],options),_Style2.default.TEXT,options,classes);return center&&centerSpan(span,options,_Style2.default.TEXT),span},makeInner=function(symbol,font,mode){var sizeClass=void 0;return"Size1-Regular"===font?sizeClass="delim-size1":"Size4-Regular"===font&&(sizeClass="delim-size4"),{type:"elem",elem:_buildCommon2.default.makeSpan(["delimsizinginner",sizeClass],[_buildCommon2.default.makeSpan([],[_buildCommon2.default.makeSymbol(symbol,font,mode)])])}},makeStackedDelim=function(delim,heightTotal,center,options,mode,classes){var top=void 0,middle=void 0,repeat=void 0,bottom=void 0;top=repeat=bottom=delim,middle=null;var font="Size1-Regular";"\\uparrow"===delim?repeat=bottom="\u23d0":"\\Uparrow"===delim?repeat=bottom="\u2016":"\\downarrow"===delim?top=repeat="\u23d0":"\\Downarrow"===delim?top=repeat="\u2016":"\\updownarrow"===delim?(top="\\uparrow",repeat="\u23d0",bottom="\\downarrow"):"\\Updownarrow"===delim?(top="\\Uparrow",repeat="\u2016",bottom="\\Downarrow"):"["===delim||"\\lbrack"===delim?(top="\u23a1",repeat="\u23a2",bottom="\u23a3",font="Size4-Regular"):"]"===delim||"\\rbrack"===delim?(top="\u23a4",repeat="\u23a5",bottom="\u23a6",font="Size4-Regular"):"\\lfloor"===delim?(repeat=top="\u23a2",bottom="\u23a3",font="Size4-Regular"):"\\lceil"===delim?(top="\u23a1",repeat=bottom="\u23a2",font="Size4-Regular"):"\\rfloor"===delim?(repeat=top="\u23a5",bottom="\u23a6",font="Size4-Regular"):"\\rceil"===delim?(top="\u23a4",repeat=bottom="\u23a5",font="Size4-Regular"):"("===delim?(top="\u239b",repeat="\u239c",bottom="\u239d",font="Size4-Regular"):")"===delim?(top="\u239e",repeat="\u239f",bottom="\u23a0",font="Size4-Regular"):"\\{"===delim||"\\lbrace"===delim?(top="\u23a7",middle="\u23a8",bottom="\u23a9",repeat="\u23aa",font="Size4-Regular"):"\\}"===delim||"\\rbrace"===delim?(top="\u23ab",middle="\u23ac",bottom="\u23ad",repeat="\u23aa",font="Size4-Regular"):"\\lgroup"===delim?(top="\u23a7",bottom="\u23a9",repeat="\u23aa",font="Size4-Regular"):"\\rgroup"===delim?(top="\u23ab",bottom="\u23ad",repeat="\u23aa",font="Size4-Regular"):"\\lmoustache"===delim?(top="\u23a7",bottom="\u23ad",repeat="\u23aa",font="Size4-Regular"):"\\rmoustache"===delim&&(top="\u23ab",bottom="\u23a9",repeat="\u23aa",font="Size4-Regular");var topMetrics=getMetrics(top,font),topHeightTotal=topMetrics.height+topMetrics.depth,repeatMetrics=getMetrics(repeat,font),repeatHeightTotal=repeatMetrics.height+repeatMetrics.depth,bottomMetrics=getMetrics(bottom,font),bottomHeightTotal=bottomMetrics.height+bottomMetrics.depth,middleHeightTotal=0,middleFactor=1;if(null!==middle){var middleMetrics=getMetrics(middle,font);middleHeightTotal=middleMetrics.height+middleMetrics.depth,middleFactor=2}var minHeight=topHeightTotal+bottomHeightTotal+middleHeightTotal,repeatCount=Math.ceil((heightTotal-minHeight)/(middleFactor*repeatHeightTotal)),realHeightTotal=minHeight+repeatCount*middleFactor*repeatHeightTotal,axisHeight=options.fontMetrics().axisHeight;center&&(axisHeight*=options.sizeMultiplier);var depth=realHeightTotal/2-axisHeight,inners=[];if(inners.push(makeInner(bottom,font,mode)),null===middle)for(var i=0;i<repeatCount;i++)inners.push(makeInner(repeat,font,mode));else{for(var _i=0;_i<repeatCount;_i++)inners.push(makeInner(repeat,font,mode));inners.push(makeInner(middle,font,mode));for(var _i2=0;_i2<repeatCount;_i2++)inners.push(makeInner(repeat,font,mode))}inners.push(makeInner(top,font,mode));var newOptions=options.havingBaseStyle(_Style2.default.TEXT),inner=_buildCommon2.default.makeVList({positionType:"bottom",positionData:depth,children:inners},newOptions);return styleWrap(_buildCommon2.default.makeSpan(["delimsizing","mult"],[inner],newOptions),_Style2.default.TEXT,options,classes)},sqrtSvg=function(sqrtName,height,viewBoxHeight,options){var alternate=void 0;"sqrtTall"===sqrtName&&(alternate="M702 0H400000v40H742v"+(viewBoxHeight-54)+"l-4 4-4 4c-.667.667\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 0H400000v40H742z");var pathNode=new _domTree2.default.pathNode(sqrtName,alternate),attributes=[["width","400em"],["height",height+"em"]];attributes.push(["viewBox","0 0 400000 "+viewBoxHeight]),attributes.push(["preserveAspectRatio","xMinYMin slice"]);var svg=new _domTree2.default.svgNode([pathNode],attributes);return _buildCommon2.default.makeSpan(["hide-tail"],[svg],options)},sqrtSpan=function(height,delim,options){var span=void 0,sizeMultiplier=options.sizeMultiplier,spanHeight=void 0,viewBoxHeight=void 0;return"small"===delim.type?(viewBoxHeight=1e3,sizeMultiplier=options.havingBaseStyle(delim.style).sizeMultiplier/options.sizeMultiplier,(span=sqrtSvg("sqrtMain",spanHeight=1*sizeMultiplier,viewBoxHeight,options)).style.minWidth="0.853em",span.advanceWidth=.833*sizeMultiplier):"large"===delim.type?(viewBoxHeight=1e3*sizeToMaxHeight[delim.size],spanHeight=sizeToMaxHeight[delim.size]/sizeMultiplier,(span=sqrtSvg("sqrtSize"+delim.size,spanHeight,viewBoxHeight,options)).style.minWidth="1.02em",span.advanceWidth=1/sizeMultiplier):(spanHeight=height/sizeMultiplier,viewBoxHeight=Math.floor(1e3*height),(span=sqrtSvg("sqrtTall",spanHeight,viewBoxHeight,options)).style.minWidth="0.742em",span.advanceWidth=1.056/sizeMultiplier),span.height=spanHeight,span.style.height=spanHeight+"em",span.sizeMultiplier=sizeMultiplier,span},stackLargeDelimiters=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],stackNeverDelimiterSequence=[{type:"small",style:_Style2.default.SCRIPTSCRIPT},{type:"small",style:_Style2.default.SCRIPT},{type:"small",style:_Style2.default.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:_Style2.default.SCRIPTSCRIPT},{type:"small",style:_Style2.default.SCRIPT},{type:"small",style:_Style2.default.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:_Style2.default.SCRIPTSCRIPT},{type:"small",style:_Style2.default.SCRIPT},{type:"small",style:_Style2.default.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function(type){return"small"===type.type?"Main-Regular":"large"===type.type?"Size"+type.size+"-Regular":"stack"===type.type?"Size4-Regular":void 0},traverseSequence=function(delim,height,sequence,options){for(var i=Math.min(2,3-options.style.size);i<sequence.length&&"stack"!==sequence[i].type;i++){var metrics=getMetrics(delim,delimTypeToFont(sequence[i])),heightDepth=metrics.height+metrics.depth;if("small"===sequence[i].type&&(heightDepth*=options.havingBaseStyle(sequence[i].style).sizeMultiplier),heightDepth>height)return sequence[i]}return sequence[sequence.length-1]},makeCustomSizedDelim=function(delim,height,center,options,mode,classes){"<"===delim||"\\lt"===delim?delim="\\langle":">"!==delim&&"\\gt"!==delim||(delim="\\rangle");var sequence=void 0;sequence=_utils2.default.contains(stackNeverDelimiters,delim)?stackNeverDelimiterSequence:_utils2.default.contains(stackLargeDelimiters,delim)?stackLargeDelimiterSequence:stackAlwaysDelimiterSequence;var delimType=traverseSequence(delim,height,sequence,options);return"\\surd"===delim?sqrtSpan(height,delimType,options):"small"===delimType.type?makeSmallDelim(delim,delimType.style,center,options,mode,classes):"large"===delimType.type?makeLargeDelim(delim,delimType.size,center,options,mode,classes):"stack"===delimType.type?makeStackedDelim(delim,height,center,options,mode,classes):void 0};exports.default={sizedDelim:function(delim,size,options,mode,classes){if("<"===delim||"\\lt"===delim?delim="\\langle":">"!==delim&&"\\gt"!==delim||(delim="\\rangle"),_utils2.default.contains(stackLargeDelimiters,delim)||_utils2.default.contains(stackNeverDelimiters,delim))return makeLargeDelim(delim,size,!1,options,mode,classes);if(_utils2.default.contains(stackAlwaysDelimiters,delim))return makeStackedDelim(delim,sizeToMaxHeight[size],!1,options,mode,classes);throw new _ParseError2.default("Illegal delimiter: '"+delim+"'")},customSizedDelim:makeCustomSizedDelim,leftRightDelim:function(delim,height,depth,options,mode,classes){var axisHeight=options.fontMetrics().axisHeight*options.sizeMultiplier,delimiterExtend=5/options.fontMetrics().ptPerEm,maxDistFromAxis=Math.max(height-axisHeight,depth+axisHeight),totalHeight=Math.max(maxDistFromAxis/500*901,2*maxDistFromAxis-delimiterExtend);return makeCustomSizedDelim(delim,totalHeight,!0,options,mode,classes)}}},{"./ParseError":88,"./Style":93,"./buildCommon":95,"./domTree":102,"./fontMetrics":105,"./symbols":116,"./utils":119}],102:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray3=_interopRequireDefault(require("babel-runtime/helpers/slicedToArray")),_classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),_unicodeRegexes=require("./unicodeRegexes"),_utils2=_interopRequireDefault(require("./utils")),_svgGeometry2=_interopRequireDefault(require("./svgGeometry")),createClass=function(classes){for(var i=(classes=classes.slice()).length-1;i>=0;i--)classes[i]||classes.splice(i,1);return classes.join(" ")},span=function(){function span(classes,children,options){(0,_classCallCheck3.default)(this,span),this.classes=classes||[],this.children=children||[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={},this.attributes={},options&&(options.style.isTight()&&this.classes.push("mtight"),options.getColor()&&(this.style.color=options.getColor()))}return(0,_createClass3.default)(span,[{key:"setAttribute",value:function(attribute,value){this.attributes[attribute]=value}},{key:"tryCombine",value:function(sibling){return!1}},{key:"toNode",value:function(){var span=document.createElement("span");span.className=createClass(this.classes);for(var style in this.style)Object.prototype.hasOwnProperty.call(this.style,style)&&(span.style[style]=this.style[style]);for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&span.setAttribute(attr,this.attributes[attr]);for(var i=0;i<this.children.length;i++)span.appendChild(this.children[i].toNode());return span}},{key:"toMarkup",value:function(){var markup="<span";this.classes.length&&(markup+=' class="',markup+=_utils2.default.escape(createClass(this.classes)),markup+='"');var styles="";for(var style in this.style)this.style.hasOwnProperty(style)&&(styles+=_utils2.default.hyphenate(style)+":"+this.style[style]+";");styles&&(markup+=' style="'+_utils2.default.escape(styles)+'"');for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&(markup+=" "+attr+'="',markup+=_utils2.default.escape(this.attributes[attr]),markup+='"');markup+=">";for(var i=0;i<this.children.length;i++)markup+=this.children[i].toMarkup();return markup+="</span>"}}]),span}(),documentFragment=function(){function documentFragment(children,classes){if((0,_classCallCheck3.default)(this,documentFragment),this.children=children||[],this.height=0,this.depth=0,this.maxFontSize=0,classes)for(var i=0;i<this.children.length;i++)for(var j=0;j<classes.length;j++)this.children[i].classes.push(classes[j]);this.classes=classes||[]}return(0,_createClass3.default)(documentFragment,[{key:"toNode",value:function(){for(var frag=document.createDocumentFragment(),i=0;i<this.children.length;i++)frag.appendChild(this.children[i].toNode());return frag}},{key:"toMarkup",value:function(){for(var markup="",i=0;i<this.children.length;i++)markup+=this.children[i].toMarkup();return markup}}]),documentFragment}(),iCombinations={"\xee":"\u0131\u0302","\xef":"\u0131\u0308","\xed":"\u0131\u0301","\xec":"\u0131\u0300"},symbolNode=function(){function symbolNode(value,height,depth,italic,skew,classes,style){(0,_classCallCheck3.default)(this,symbolNode),this.value=value||"",this.height=height||0,this.depth=depth||0,this.italic=italic||0,this.skew=skew||0,this.classes=classes||[],this.style=style||{},this.maxFontSize=0,_unicodeRegexes.cjkRegex.test(value)&&(_unicodeRegexes.hangulRegex.test(value)?this.classes.push("hangul_fallback"):this.classes.push("cjk_fallback")),/[\xee\xef\xed\xec]/.test(this.value)&&(this.value=iCombinations[this.value])}return(0,_createClass3.default)(symbolNode,[{key:"tryCombine",value:function(sibling){if(!sibling||!(sibling instanceof symbolNode)||this.italic>0||createClass(this.classes)!==createClass(sibling.classes)||this.skew!==sibling.skew||this.maxFontSize!==sibling.maxFontSize)return!1;for(var style in this.style)if(this.style.hasOwnProperty(style)&&this.style[style]!==sibling.style[style])return!1;for(var _style in sibling.style)if(sibling.style.hasOwnProperty(_style)&&this.style[_style]!==sibling.style[_style])return!1;return this.value+=sibling.value,this.height=Math.max(this.height,sibling.height),this.depth=Math.max(this.depth,sibling.depth),this.italic=sibling.italic,!0}},{key:"toNode",value:function(){var node=document.createTextNode(this.value),span=null;this.italic>0&&((span=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((span=span||document.createElement("span")).className=createClass(this.classes));for(var style in this.style)this.style.hasOwnProperty(style)&&((span=span||document.createElement("span")).style[style]=this.style[style]);return span?(span.appendChild(node),span):node}},{key:"toMarkup",value:function(){var needsSpan=!1,markup="<span";this.classes.length&&(needsSpan=!0,markup+=' class="',markup+=_utils2.default.escape(createClass(this.classes)),markup+='"');var styles="";this.italic>0&&(styles+="margin-right:"+this.italic+"em;");for(var style in this.style)this.style.hasOwnProperty(style)&&(styles+=_utils2.default.hyphenate(style)+":"+this.style[style]+";");styles&&(needsSpan=!0,markup+=' style="'+_utils2.default.escape(styles)+'"');var escaped=_utils2.default.escape(this.value);return needsSpan?(markup+=">",markup+=escaped,markup+="</span>"):escaped}}]),symbolNode}(),svgNode=function(){function svgNode(children,attributes){(0,_classCallCheck3.default)(this,svgNode),this.children=children||[],this.attributes=attributes||[]}return(0,_createClass3.default)(svgNode,[{key:"toNode",value:function(){for(var node=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=0;i<this.attributes.length;i++){var _attributes$i=(0,_slicedToArray3.default)(this.attributes[i],2),name=_attributes$i[0],value=_attributes$i[1];node.setAttribute(name,value)}for(var _i=0;_i<this.children.length;_i++)node.appendChild(this.children[_i].toNode());return node}},{key:"toMarkup",value:function(){for(var markup="<svg",i=0;i<this.attributes.length;i++){var _attributes$i2=(0,_slicedToArray3.default)(this.attributes[i],2);markup+=" "+_attributes$i2[0]+"='"+_attributes$i2[1]+"'"}markup+=">";for(var _i2=0;_i2<this.children.length;_i2++)markup+=this.children[_i2].toMarkup();return markup+="</svg>"}}]),svgNode}(),pathNode=function(){function pathNode(pathName,alternate){(0,_classCallCheck3.default)(this,pathNode),this.pathName=pathName,this.alternate=alternate}return(0,_createClass3.default)(pathNode,[{key:"toNode",value:function(){var node=document.createElementNS("http://www.w3.org/2000/svg","path");return"sqrtTall"!==this.pathName?node.setAttribute("d",_svgGeometry2.default.path[this.pathName]):node.setAttribute("d",this.alternate),node}},{key:"toMarkup",value:function(){return"sqrtTall"!==this.pathName?"<path d='"+_svgGeometry2.default.path[this.pathName]+"'/>":"<path d='"+this.alternate+"'/>"}}]),pathNode}(),lineNode=function(){function lineNode(attributes){(0,_classCallCheck3.default)(this,lineNode),this.attributes=attributes||[]}return(0,_createClass3.default)(lineNode,[{key:"toNode",value:function(){for(var node=document.createElementNS("http://www.w3.org/2000/svg","line"),i=0;i<this.attributes.length;i++){var _attributes$i3=(0,_slicedToArray3.default)(this.attributes[i],2),name=_attributes$i3[0],value=_attributes$i3[1];node.setAttribute(name,value)}return node}},{key:"toMarkup",value:function(){for(var markup="<line",i=0;i<this.attributes.length;i++){var _attributes$i4=(0,_slicedToArray3.default)(this.attributes[i],2);markup+=" "+_attributes$i4[0]+"='"+_attributes$i4[1]+"'"}return markup+="/>"}}]),lineNode}();exports.default={span:span,documentFragment:documentFragment,symbolNode:symbolNode,svgNode:svgNode,pathNode:pathNode,lineNode:lineNode}},{"./svgGeometry":115,"./unicodeRegexes":117,"./utils":119,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13,"babel-runtime/helpers/slicedToArray":14}],103:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineEnvironment=require("./defineEnvironment");require("./environments/array.js");var environments={has:function(envName){return _defineEnvironment._environments.hasOwnProperty(envName)},get:function(envName){return _defineEnvironment._environments[envName]}};exports.default=environments},{"./defineEnvironment":99,"./environments/array.js":104}],104:[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function parseArray(parser,result,style){for(var row=[],body=[row],rowGaps=[];;){var cell=parser.parseExpression(!1,null);cell=new _ParseNode2.default("ordgroup",cell,parser.mode),style&&(cell=new _ParseNode2.default("styling",{style:style,value:[cell]},parser.mode)),row.push(cell);var next=parser.nextToken.text;if("&"===next)parser.consume();else{if("\\end"===next){var lastRow=body[body.length-1][0].value;body.length>1&&1===lastRow.value.length&&0===lastRow.value[0].value.length&&body.pop();break}if("\\\\"!==next&&"\\cr"!==next)throw new _ParseError2.default("Expected & or \\\\ or \\end",parser.nextToken);var cr=parser.parseFunction();rowGaps.push(cr.value.size),row=[],body.push(row)}}return result.body=body,result.rowGaps=rowGaps,new _ParseNode2.default(result.type,result,parser.mode)}function dCellStyle(envName){return"d"===envName.substr(0,1)?"display":"text"}var _buildCommon2=_interopRequireDefault(require("../buildCommon")),_defineEnvironment2=_interopRequireDefault(require("../defineEnvironment")),_mathMLTree2=_interopRequireDefault(require("../mathMLTree")),_ParseError2=_interopRequireDefault(require("../ParseError")),_ParseNode2=_interopRequireDefault(require("../ParseNode")),_units=require("../units"),_utils2=_interopRequireDefault(require("../utils")),html=_interopRequireWildcard(require("../buildHTML")),mml=_interopRequireWildcard(require("../buildMathML")),htmlBuilder=function(group,options){var r=void 0,c=void 0,nr=group.value.body.length,nc=0,body=new Array(nr),pt=1/options.fontMetrics().ptPerEm,arraycolsep=5*pt,baselineskip=12*pt,jot=3*pt,arrayskip=_utils2.default.deflt(group.value.arraystretch,1)*baselineskip,arstrutHeight=.7*arrayskip,arstrutDepth=.3*arrayskip,totalHeight=0;for(r=0;r<group.value.body.length;++r){var inrow=group.value.body[r],_height=arstrutHeight,_depth=arstrutDepth;nc<inrow.length&&(nc=inrow.length);var outrow=new Array(inrow.length);for(c=0;c<inrow.length;++c){var elt=html.buildGroup(inrow[c],options);_depth<elt.depth&&(_depth=elt.depth),_height<elt.height&&(_height=elt.height),outrow[c]=elt}var gap=0;group.value.rowGaps[r]&&(gap=(0,_units.calculateSize)(group.value.rowGaps[r].value,options))>0&&(_depth<(gap+=arstrutDepth)&&(_depth=gap),gap=0),group.value.addJot&&(_depth+=jot),outrow.height=_height,outrow.depth=_depth,totalHeight+=_height,outrow.pos=totalHeight,totalHeight+=_depth+gap,body[r]=outrow}var offset=totalHeight/2+options.fontMetrics().axisHeight,colDescriptions=group.value.cols||[],cols=[],colSep=void 0,colDescrNum=void 0;for(c=0,colDescrNum=0;c<nc||colDescrNum<colDescriptions.length;++c,++colDescrNum){for(var colDescr=colDescriptions[colDescrNum]||{},firstSeparator=!0;"separator"===colDescr.type;){if(firstSeparator||((colSep=_buildCommon2.default.makeSpan(["arraycolsep"],[])).style.width=options.fontMetrics().doubleRuleSep+"em",cols.push(colSep)),"|"!==colDescr.separator)throw new _ParseError2.default("Invalid separator type: "+colDescr.separator);var _separator=_buildCommon2.default.makeSpan(["vertical-separator"],[]);_separator.style.height=totalHeight+"em",_separator.style.verticalAlign=-(totalHeight-offset)+"em",cols.push(_separator),colDescr=colDescriptions[++colDescrNum]||{},firstSeparator=!1}if(!(c>=nc)){var sepwidth=void 0;(c>0||group.value.hskipBeforeAndAfter)&&0!==(sepwidth=_utils2.default.deflt(colDescr.pregap,arraycolsep))&&((colSep=_buildCommon2.default.makeSpan(["arraycolsep"],[])).style.width=sepwidth+"em",cols.push(colSep));var col=[];for(r=0;r<nr;++r){var row=body[r],elem=row[c];if(elem){var shift=row.pos-offset;elem.depth=row.depth,elem.height=row.height,col.push({type:"elem",elem:elem,shift:shift})}}col=_buildCommon2.default.makeVList({positionType:"individualShift",children:col},options),col=_buildCommon2.default.makeSpan(["col-align-"+(colDescr.align||"c")],[col]),cols.push(col),(c<nc-1||group.value.hskipBeforeAndAfter)&&0!==(sepwidth=_utils2.default.deflt(colDescr.postgap,arraycolsep))&&((colSep=_buildCommon2.default.makeSpan(["arraycolsep"],[])).style.width=sepwidth+"em",cols.push(colSep))}}return body=_buildCommon2.default.makeSpan(["mtable"],cols),_buildCommon2.default.makeSpan(["mord"],[body],options)},mathmlBuilder=function(group,options){return new _mathMLTree2.default.MathNode("mtable",group.value.body.map(function(row){return new _mathMLTree2.default.MathNode("mtr",row.map(function(cell){return new _mathMLTree2.default.MathNode("mtd",[mml.buildGroup(cell,options)])}))}))};(0,_defineEnvironment2.default)({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(context,args){var colalign=args[0],res={type:"array",cols:(colalign=colalign.value.map?colalign.value:[colalign]).map(function(node){var ca=node.value;if(-1!=="lcr".indexOf(ca))return{type:"align",align:ca};if("|"===ca)return{type:"separator",separator:"|"};throw new _ParseError2.default("Unknown column alignment: "+node.value,node)}),hskipBeforeAndAfter:!0};return res=parseArray(context.parser,res,dCellStyle(context.envName))},htmlBuilder:htmlBuilder,mathmlBuilder:mathmlBuilder}),(0,_defineEnvironment2.default)({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(context){var delimiters={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[context.envName],res={type:"array",hskipBeforeAndAfter:!1};return res=parseArray(context.parser,res,dCellStyle(context.envName)),delimiters&&(res=new _ParseNode2.default("leftright",{body:[res],left:delimiters[0],right:delimiters[1]},context.mode)),res},htmlBuilder:htmlBuilder,mathmlBuilder:mathmlBuilder}),(0,_defineEnvironment2.default)({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(context){var res={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]};return res=parseArray(context.parser,res,dCellStyle(context.envName)),res=new _ParseNode2.default("leftright",{body:[res],left:"\\{",right:"."},context.mode)},htmlBuilder:htmlBuilder,mathmlBuilder:mathmlBuilder}),(0,_defineEnvironment2.default)({type:"array",names:["aligned"],props:{numArgs:0},handler:function(context){var res={type:"array",cols:[],addJot:!0};res=parseArray(context.parser,res,"display");var emptyGroup=new _ParseNode2.default("ordgroup",[],context.mode),numCols=0;res.value.body.forEach(function(row){for(var i=1;i<row.length;i+=2)row[i].value.value[0].value.unshift(emptyGroup);numCols<row.length&&(numCols=row.length)});for(var i=0;i<numCols;++i){var _align="r",_pregap=0;i%2==1?_align="l":i>0&&(_pregap=1),res.value.cols[i]={type:"align",align:_align,pregap:_pregap,postgap:0}}return res},htmlBuilder:htmlBuilder,mathmlBuilder:mathmlBuilder}),(0,_defineEnvironment2.default)({type:"array",names:["gathered"],props:{numArgs:0},handler:function(context){var res={type:"array",cols:[{type:"align",align:"c"}],addJot:!0};return res=parseArray(context.parser,res,"display")},htmlBuilder:htmlBuilder,mathmlBuilder:mathmlBuilder})},{"../ParseError":88,"../ParseNode":89,"../buildCommon":95,"../buildHTML":96,"../buildMathML":97,"../defineEnvironment":99,"../mathMLTree":112,"../units":118,"../utils":119}],105:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _unicodeRegexes=require("./unicodeRegexes"),_fontMetricsData2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("./fontMetricsData")),sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},extraCharacterMap={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"A","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"o","\xdf":"B","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"a","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"o","\xff":"y","\u0410":"A","\u0411":"B","\u0412":"B","\u0413":"F","\u0414":"A","\u0415":"E","\u0416":"K","\u0417":"3","\u0418":"N","\u0419":"N","\u041a":"K","\u041b":"N","\u041c":"M","\u041d":"H","\u041e":"O","\u041f":"N","\u0420":"P","\u0421":"C","\u0422":"T","\u0423":"y","\u0424":"O","\u0425":"X","\u0426":"U","\u0427":"h","\u0428":"W","\u0429":"W","\u042a":"B","\u042b":"X","\u042c":"B","\u042d":"3","\u042e":"X","\u042f":"R","\u0430":"a","\u0431":"b","\u0432":"a","\u0433":"r","\u0434":"y","\u0435":"e","\u0436":"m","\u0437":"e","\u0438":"n","\u0439":"n","\u043a":"n","\u043b":"n","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"n","\u0440":"p","\u0441":"c","\u0442":"o","\u0443":"y","\u0444":"b","\u0445":"x","\u0446":"n","\u0447":"n","\u0448":"w","\u0449":"w","\u044a":"a","\u044b":"m","\u044c":"a","\u044d":"e","\u044e":"m","\u044f":"r"},fontMetricsBySizeIndex={};exports.default={getFontMetrics:function(size){var sizeIndex=void 0;if(sizeIndex=size>=5?0:size>=3?1:2,!fontMetricsBySizeIndex[sizeIndex]){var metrics=fontMetricsBySizeIndex[sizeIndex]={cssEmPerMu:sigmasAndXis.quad[sizeIndex]/18};for(var key in sigmasAndXis)sigmasAndXis.hasOwnProperty(key)&&(metrics[key]=sigmasAndXis[key][sizeIndex])}return fontMetricsBySizeIndex[sizeIndex]},getCharacterMetrics:function(character,font){var ch=character.charCodeAt(0);character[0]in extraCharacterMap?ch=extraCharacterMap[character[0]].charCodeAt(0):_unicodeRegexes.cjkRegex.test(character[0])&&(ch="M".charCodeAt(0));var metrics=_fontMetricsData2.default[font][""+ch];if(metrics)return{depth:metrics[0],height:metrics[1],italic:metrics[2],skew:metrics[3],width:metrics[4]}}}},{"./fontMetricsData":106,"./unicodeRegexes":117}],106:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8216:[0,.61111,0,0],8217:[0,.61111,0,0],8242:[0,.61111,0,0],9251:[.11111,.21944,0,0]}}},{}],107:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _utils2=_interopRequireDefault(require("./utils")),_ParseError2=_interopRequireDefault(require("./ParseError")),_ParseNode2=_interopRequireDefault(require("./ParseNode")),_defineFunction2=require("./defineFunction"),_defineFunction3=_interopRequireDefault(_defineFunction2);require("./functions/phantom"),require("./functions/operators"),require("./functions/delimsizing");var functions=_defineFunction2._functions;exports.default=functions;var defineFunction=function(names,props,handler){(0,_defineFunction3.default)({names:names,props:props,handler:handler})};defineFunction(["\\sqrt"],{numArgs:1,numOptionalArgs:1},function(context,args,optArgs){var index=optArgs[0];return{type:"sqrt",body:args[0],index:index}});var textFunctionFonts={"\\text":void 0,"\\textrm":"mathrm","\\textsf":"mathsf","\\texttt":"mathtt","\\textnormal":"mathrm","\\textbf":"mathbf","\\textit":"textit"};defineFunction(["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0},function(context,args){var body=args[0];return{type:"text",body:(0,_defineFunction2.ordargument)(body),font:textFunctionFonts[context.funcName]}}),defineFunction(["\\xmlClass"],{numArgs:2,allowedInText:!0,greediness:3,argTypes:["string","original"]},function(context,args){var cl=args[0],body=args[1],inner=void 0;return inner="ordgroup"===body.type?body.value:[body],{type:"xmlClass",cl:cl,value:inner}}),defineFunction(["\\textcolor"],{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},function(context,args){var color=args[0],body=args[1];return{type:"color",color:color.value,value:(0,_defineFunction2.ordargument)(body)}}),defineFunction(["\\color"],{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},null),defineFunction(["\\colorbox"],{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},function(context,args){var color=args[0],body=args[1];return{type:"enclose",label:context.funcName,backgroundColor:color,body:body}}),defineFunction(["\\fcolorbox"],{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},function(context,args){var borderColor=args[0],backgroundColor=args[1],body=args[2];return{type:"enclose",label:context.funcName,backgroundColor:backgroundColor,borderColor:borderColor,body:body}}),defineFunction(["\\overline"],{numArgs:1},function(context,args){return{type:"overline",body:args[0]}}),defineFunction(["\\underline"],{numArgs:1},function(context,args){return{type:"underline",body:args[0]}}),defineFunction(["\\rule"],{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},function(context,args,optArgs){var shift=optArgs[0],width=args[0],height=args[1];return{type:"rule",shift:shift&&shift.value,width:width.value,height:height.value}}),defineFunction(["\\cursor"],{numArgs:2,argTypes:["size","size"]},function(context,args){return{type:"cursor",shift:args[0].value,height:args[1].value}}),defineFunction(["\\kern","\\mkern"],{numArgs:1,argTypes:["size"]},function(context,args){return{type:"kern",dimension:args[0].value}}),defineFunction(["\\KaTeX"],{numArgs:0,allowedInText:!0},function(context){return{type:"katex"}}),defineFunction(["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],{numArgs:1},function(context,args){var body=args[0];return{type:"mclass",mclass:"m"+context.funcName.substr(5),value:(0,_defineFunction2.ordargument)(body)}}),defineFunction(["\\stackrel"],{numArgs:2},function(context,args){var top=args[0],bottom=args[1],bottomop=new _ParseNode2.default("op",{type:"op",limits:!0,alwaysHandleSupSub:!0,symbol:!1,value:(0,_defineFunction2.ordargument)(bottom)},bottom.mode);return{type:"mclass",mclass:"mrel",value:[new _ParseNode2.default("supsub",{base:bottomop,sup:top,sub:null},top.mode)]}}),defineFunction(["\\bmod"],{numArgs:0},function(context,args){return{type:"mod",modType:"bmod",value:null}}),defineFunction(["\\pod","\\pmod","\\mod"],{numArgs:1},function(context,args){var body=args[0];return{type:"mod",modType:context.funcName.substr(1),value:(0,_defineFunction2.ordargument)(body)}});var fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak"};defineFunction(["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],{numArgs:1,allowedInText:!0,greediness:3},function(context,args){var body=args[0];return{type:"color",color:"katex-"+context.funcName.slice(1),value:(0,_defineFunction2.ordargument)(body)}}),defineFunction(["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],{numArgs:0},function(context){return{type:"op",limits:!1,symbol:!1,body:context.funcName}}),defineFunction(["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],{numArgs:0},function(context){return{type:"op",limits:!0,symbol:!1,body:context.funcName}}),defineFunction(["\\int","\\iint","\\iiint","\\oint"],{numArgs:0},function(context){return{type:"op",limits:!1,symbol:!0,body:context.funcName}}),defineFunction(["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint"],{numArgs:0},function(context){return{type:"op",limits:!0,symbol:!0,body:context.funcName}}),defineFunction(["\\mathop"],{numArgs:1},function(context,args){var body=args[0];return{type:"op",limits:!1,symbol:!1,value:(0,_defineFunction2.ordargument)(body)}}),defineFunction(["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac"],{numArgs:2,greediness:2},function(context,args){var numer=args[0],denom=args[1],hasBarLine=void 0,leftDelim=null,rightDelim=null,size="auto";switch(context.funcName){case"\\dfrac":case"\\frac":case"\\tfrac":hasBarLine=!0;break;case"\\\\atopfrac":hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":hasBarLine=!1,leftDelim="(",rightDelim=")";break;default:throw new Error("Unrecognized genfrac command")}switch(context.funcName){case"\\dfrac":case"\\dbinom":size="display";break;case"\\tfrac":case"\\tbinom":size="text"}return{type:"genfrac",numer:numer,denom:denom,hasBarLine:hasBarLine,leftDelim:leftDelim,rightDelim:rightDelim,size:size}}),defineFunction(["\\mathllap","\\mathrlap","\\mathclap"],{numArgs:1,allowedInText:!0},function(context,args){var body=args[0];return{type:"lap",alignment:context.funcName.slice(5),body:body}}),defineFunction(["\\smash"],{numArgs:1,numOptionalArgs:1,allowedInText:!0},function(context,args,optArgs){var smashHeight=!1,smashDepth=!1,tbArg=optArgs[0];if(tbArg)for(var letter="",i=0;i<tbArg.value.length;++i)if("t"===(letter=tbArg.value[i].value))smashHeight=!0;else{if("b"!==letter){smashHeight=!1,smashDepth=!1;break}smashDepth=!0}else smashHeight=!0,smashDepth=!0;return{type:"smash",body:args[0],smashHeight:smashHeight,smashDepth:smashDepth}}),defineFunction(["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],{numArgs:0},null),defineFunction(["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],{numArgs:0},null),defineFunction(["\\rm","\\sf","\\tt","\\bf","\\it"],{numArgs:0},null),defineFunction(["\\mathrm","\\mathit","\\mathbf","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],{numArgs:1,greediness:2},function(context,args){var body=args[0],func=context.funcName;return func in fontAliases&&(func=fontAliases[func]),{type:"font",font:func.slice(1),body:body}}),defineFunction(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],{numArgs:1},function(context,args){var base=args[0],isStretchy=!_utils2.default.contains(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],context.funcName),isShifty=!isStretchy||_utils2.default.contains(["\\widehat","\\widetilde"],context.funcName);return{type:"accent",label:context.funcName,isStretchy:isStretchy,isShifty:isShifty,base:base}}),defineFunction(["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v"],{numArgs:1,allowedInText:!0,allowedInMath:!1},function(context,args){var base=args[0];return{type:"accent",label:context.funcName,isStretchy:!1,isShifty:!0,base:base}}),defineFunction(["\\overbrace","\\underbrace"],{numArgs:1},function(context,args){var base=args[0];return{type:"horizBrace",label:context.funcName,isOver:/^\\over/.test(context.funcName),base:base}}),defineFunction(["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\undertilde"],{numArgs:1},function(context,args){var base=args[0];return{type:"accentUnder",label:context.funcName,base:base}}),defineFunction(["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xLongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xLongequal","\\xtofrom"],{numArgs:1,numOptionalArgs:1},function(context,args,optArgs){var below=optArgs[0],body=args[0];return{type:"xArrow",label:context.funcName,body:body,below:below}}),defineFunction(["\\cancel","\\bcancel","\\xcancel","\\sout","\\fbox"],{numArgs:1},function(context,args){var body=args[0];return{type:"enclose",label:context.funcName,body:body}}),defineFunction(["\\over","\\choose","\\atop"],{numArgs:0,infix:!0},function(context){var replaceWith=void 0;switch(context.funcName){case"\\over":replaceWith="\\frac";break;case"\\choose":replaceWith="\\binom";break;case"\\atop":replaceWith="\\\\atopfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:replaceWith,token:context.token}}),defineFunction(["\\\\","\\cr"],{numArgs:0,numOptionalArgs:1,argTypes:["size"]},function(context,args,optArgs){return{type:"cr",size:optArgs[0]}}),defineFunction(["\\begin","\\end"],{numArgs:1,argTypes:["text"]},function(context,args){var nameGroup=args[0];if("ordgroup"!==nameGroup.type)throw new _ParseError2.default("Invalid environment name",nameGroup);for(var name="",i=0;i<nameGroup.value.length;++i)name+=nameGroup.value[i].value;return{type:"environment",name:name,nameGroup:nameGroup}}),defineFunction(["\\raisebox"],{numArgs:2,argTypes:["size","text"],allowedInText:!0},function(context,args){var amount=args[0],body=args[1];return{type:"raisebox",dy:amount,body:body,value:(0,_defineFunction2.ordargument)(body)}}),defineFunction(["\\verb"],{numArgs:0,allowedInText:!0},function(context){throw new _ParseError2.default("\\verb ended by end of line instead of matching delimiter")})},{"./ParseError":88,"./ParseNode":89,"./defineFunction":100,"./functions/delimsizing":108,"./functions/operators":109,"./functions/phantom":110,"./utils":119}],108:[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function checkDelimiter(delim,context){if(_utils2.default.contains(delimiters,delim.value))return delim;throw new _ParseError2.default("Invalid delimiter: '"+delim.value+"' after '"+context.funcName+"'",delim)}var _buildCommon2=_interopRequireDefault(require("../buildCommon")),_defineFunction2=_interopRequireDefault(require("../defineFunction")),_delimiter2=_interopRequireDefault(require("../delimiter")),_mathMLTree2=_interopRequireDefault(require("../mathMLTree")),_ParseError2=_interopRequireDefault(require("../ParseError")),_utils2=_interopRequireDefault(require("../utils")),html=_interopRequireWildcard(require("../buildHTML")),mml=_interopRequireWildcard(require("../buildMathML")),delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];(0,_defineFunction2.default)({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(context,args){var delim=checkDelimiter(args[0],context);return{type:"delimsizing",size:delimiterSizes[context.funcName].size,mclass:delimiterSizes[context.funcName].mclass,value:delim.value}},htmlBuilder:function(group,options){var delim=group.value.value;return"."===delim?_buildCommon2.default.makeSpan([group.value.mclass]):_delimiter2.default.sizedDelim(delim,group.value.size,options,group.mode,[group.value.mclass])},mathmlBuilder:function(group){var children=[];"."!==group.value.value&&children.push(mml.makeText(group.value.value,group.mode));var node=new _mathMLTree2.default.MathNode("mo",children);return"mopen"===group.value.mclass||"mclose"===group.value.mclass?node.setAttribute("fence","true"):node.setAttribute("fence","false"),node}}),(0,_defineFunction2.default)({type:"leftright",names:["\\left","\\right"],props:{numArgs:1},handler:function(context,args){return{type:"leftright",value:checkDelimiter(args[0],context).value}},htmlBuilder:function(group,options){for(var inner=html.buildExpression(group.value.body,options,!0),innerHeight=0,innerDepth=0,hadMiddle=!1,i=0;i<inner.length;i++)inner[i].isMiddle?hadMiddle=!0:(innerHeight=Math.max(inner[i].height,innerHeight),innerDepth=Math.max(inner[i].depth,innerDepth));innerHeight*=options.sizeMultiplier,innerDepth*=options.sizeMultiplier;var leftDelim=void 0;if(leftDelim="."===group.value.left?html.makeNullDelimiter(options,["mopen"]):_delimiter2.default.leftRightDelim(group.value.left,innerHeight,innerDepth,options,group.mode,["mopen"]),inner.unshift(leftDelim),hadMiddle)for(var _i=1;_i<inner.length;_i++){var middleDelim=inner[_i];if(middleDelim.isMiddle){inner[_i]=_delimiter2.default.leftRightDelim(middleDelim.isMiddle.value,innerHeight,innerDepth,middleDelim.isMiddle.options,group.mode,[]);var spaces=html.spliceSpaces(middleDelim.children,0);spaces&&_buildCommon2.default.prependChildren(inner[_i],spaces)}}var rightDelim=void 0;return rightDelim="."===group.value.right?html.makeNullDelimiter(options,["mclose"]):_delimiter2.default.leftRightDelim(group.value.right,innerHeight,innerDepth,options,group.mode,["mclose"]),inner.push(rightDelim),_buildCommon2.default.makeSpan(["minner"],inner,options)},mathmlBuilder:function(group,options){var inner=mml.buildExpression(group.value.body,options);if("."!==group.value.left){var leftNode=new _mathMLTree2.default.MathNode("mo",[mml.makeText(group.value.left,group.mode)]);leftNode.setAttribute("fence","true"),inner.unshift(leftNode)}if("."!==group.value.right){var rightNode=new _mathMLTree2.default.MathNode("mo",[mml.makeText(group.value.right,group.mode)]);rightNode.setAttribute("fence","true"),inner.push(rightNode)}return new _mathMLTree2.default.MathNode("mrow",inner)}}),(0,_defineFunction2.default)({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(context,args){var delim=checkDelimiter(args[0],context);if(!context.parser.leftrightDepth)throw new _ParseError2.default("\\middle without preceding \\left",delim);return{type:"middle",value:delim.value}},htmlBuilder:function(group,options){var middleDelim=void 0;return"."===group.value.value?middleDelim=html.makeNullDelimiter(options,[]):(middleDelim=_delimiter2.default.sizedDelim(group.value.value,1,options,group.mode,[])).isMiddle={value:group.value.value,options:options},middleDelim},mathmlBuilder:function(group,options){var middleNode=new _mathMLTree2.default.MathNode("mo",[mml.makeText(group.value.middle,group.mode)]);return middleNode.setAttribute("fence","true"),middleNode}})},{"../ParseError":88,"../buildCommon":95,"../buildHTML":96,"../buildMathML":97,"../defineFunction":100,"../delimiter":101,"../mathMLTree":112,"../utils":119}],109:[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _defineFunction=require("../defineFunction"),_defineFunction2=_interopRequireDefault(_defineFunction),_buildCommon2=_interopRequireDefault(require("../buildCommon")),_mathMLTree2=_interopRequireDefault(require("../mathMLTree")),_domTree2=_interopRequireDefault(require("../domTree")),html=_interopRequireWildcard(require("../buildHTML")),mml=_interopRequireWildcard(require("../buildMathML"));(0,_defineFunction2.default)({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(context,args){var body=args[0];return{type:"operatorname",value:(0,_defineFunction.ordargument)(body)}},htmlBuilder:function(group,options){var output=[];if(group.value.value.length>0)for(var letter="",mode="",temp=html.buildExpression(group.value.value,options,!0),i=0;i<temp.length;i++)letter=(letter=(letter=temp[i].value).replace(/\u2212/,"-")).replace(/\u2217/,"*"),mode=/[\u0391-\u03D7]/.test(letter)?"math":"text",output.push(_buildCommon2.default.mathsym(letter,mode));return _buildCommon2.default.makeSpan(["mop"],output,options)},mathmlBuilder:function(group,options){var output=[];if(group.value.value.length>0){for(var temp=mml.buildExpression(group.value.value,options),word="",i=0;i<temp.length;i++)word+=temp[i].children[0].text;word=(word=word.replace(/\u2212/g,"-")).replace(/\u2217/g,"*"),output=[new _mathMLTree2.default.TextNode(word)]}var identifier=new _mathMLTree2.default.MathNode("mi",output);identifier.setAttribute("mathvariant","normal");var operator=new _mathMLTree2.default.MathNode("mo",[mml.makeText("&ApplyFunction;","text")]);return new _domTree2.default.documentFragment([identifier,operator])}})},{"../buildCommon":95,"../buildHTML":96,"../buildMathML":97,"../defineFunction":100,"../domTree":102,"../mathMLTree":112}],110:[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _defineFunction=require("../defineFunction"),_defineFunction2=_interopRequireDefault(_defineFunction),_buildCommon2=_interopRequireDefault(require("../buildCommon")),_mathMLTree2=_interopRequireDefault(require("../mathMLTree")),html=_interopRequireWildcard(require("../buildHTML")),mml=_interopRequireWildcard(require("../buildMathML"));(0,_defineFunction2.default)({type:"phantom",names:["\\phantom"],props:{numArgs:1},handler:function(context,args){var body=args[0];return{type:"phantom",value:(0,_defineFunction.ordargument)(body)}},htmlBuilder:function(group,options){var elements=html.buildExpression(group.value.value,options.withPhantom(),!1);return new _buildCommon2.default.makeFragment(elements)},mathmlBuilder:function(group,options){var inner=mml.buildExpression(group.value.value,options);return new _mathMLTree2.default.MathNode("mphantom",inner)}}),(0,_defineFunction2.default)({type:"hphantom",names:["\\hphantom"],props:{numArgs:1},handler:function(context,args){var body=args[0];return{type:"hphantom",value:(0,_defineFunction.ordargument)(body),body:body}},htmlBuilder:function(group,options){var node=_buildCommon2.default.makeSpan([],[html.buildGroup(group.value.body,options.withPhantom())]);if(node.height=0,node.depth=0,node.children)for(var i=0;i<node.children.length;i++)node.children[i].height=0,node.children[i].depth=0;return node=_buildCommon2.default.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:node}]},options)},mathmlBuilder:function(group,options){var inner=mml.buildExpression(group.value.value,options),node=new _mathMLTree2.default.MathNode("mphantom",inner);return node.setAttribute("height","0px"),node}}),(0,_defineFunction2.default)({type:"vphantom",names:["\\vphantom"],props:{numArgs:1},handler:function(context,args){var body=args[0];return{type:"vphantom",value:(0,_defineFunction.ordargument)(body),body:body}},htmlBuilder:function(group,options){var inner=_buildCommon2.default.makeSpan(["inner"],[html.buildGroup(group.value.body,options.withPhantom())]),fix=_buildCommon2.default.makeSpan(["fix"],[]);return _buildCommon2.default.makeSpan(["mord","rlap"],[inner,fix],options)},mathmlBuilder:function(group,options){var inner=mml.buildExpression(group.value.value,options),node=new _mathMLTree2.default.MathNode("mphantom",inner);return node.setAttribute("width","0px"),node}})},{"../buildCommon":95,"../buildHTML":96,"../buildMathML":97,"../defineFunction":100,"../mathMLTree":112}],111:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function defineMacro(name,body){builtinMacros[name]=body}Object.defineProperty(exports,"__esModule",{value:!0});var _symbols2=_interopRequireDefault(require("./symbols")),_utils2=_interopRequireDefault(require("./utils")),builtinMacros=(require("./Token"),{});exports.default=builtinMacros,defineMacro("\\bgroup","{"),defineMacro("\\egroup","}"),defineMacro("\\begingroup","{"),defineMacro("\\endgroup","}"),defineMacro("\\mkern","\\kern"),defineMacro("\\llap","\\mathllap{\\textrm{#1}}"),defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}"),defineMacro("\\clap","\\mathclap{\\textrm{#1}}"),defineMacro("\\overset","\\mathop{#2}\\limits^{#1}"),defineMacro("\\underset","\\mathop{#2}\\limits_{#1}"),defineMacro("\\boxed","\\fbox{\\displaystyle{#1}}"),defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\implies":"\\dotsb","\\impliedby":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\iff":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\bmod":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(context){var thedots="\\dotso",next=context.expandAfterFuture().text;return next in dotsByToken?thedots=dotsByToken[next]:"\\not"===next.substr(0,4)?thedots="\\dotsb":next in _symbols2.default.math&&_utils2.default.contains(["bin","rel"],_symbols2.default.math[next].group)&&(thedots="\\dotsb"),thedots});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(context){return context.future().text in spaceAfterDots?"\\ldots\\,":"\\ldots"}),defineMacro("\\dotsc",function(context){var next=context.future().text;return next in spaceAfterDots&&","!==next?"\\ldots\\,":"\\ldots"}),defineMacro("\\cdots",function(context){return context.future().text in spaceAfterDots?"\\@cdots\\,":"\\@cdots"}),defineMacro("\\dotsb","\\cdots"),defineMacro("\\dotsm","\\cdots"),defineMacro("\\dotsi","\\!\\cdots"),defineMacro("\\dotsx","\\ldots\\,"),defineMacro("\\DOTSI","\\relax"),defineMacro("\\DOTSB","\\relax"),defineMacro("\\DOTSX","\\relax"),defineMacro("\\thinspace","\\,"),defineMacro("\\medspace","\\:"),defineMacro("\\thickspace","\\;"),defineMacro("\\hspace","\\kern{#1}"),defineMacro("\\ordinarycolon",":"),defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),defineMacro("\\dblcolon","\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon"),defineMacro("\\coloneqq","\\vcentcolon\\mathrel{\\mkern-1.2mu}="),defineMacro("\\Coloneqq","\\dblcolon\\mathrel{\\mkern-1.2mu}="),defineMacro("\\coloneq","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}"),defineMacro("\\Coloneq","\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}"),defineMacro("\\eqqcolon","=\\mathrel{\\mkern-1.2mu}\\vcentcolon"),defineMacro("\\Eqqcolon","=\\mathrel{\\mkern-1.2mu}\\dblcolon"),defineMacro("\\eqcolon","\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon"),defineMacro("\\Eqcolon","\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon"),defineMacro("\\colonapprox","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx"),defineMacro("\\Colonapprox","\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx"),defineMacro("\\colonsim","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim"),defineMacro("\\Colonsim","\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim"),defineMacro("\\ratio","\\vcentcolon"),defineMacro("\\coloncolon","\\dblcolon"),defineMacro("\\colonequals","\\coloneqq"),defineMacro("\\coloncolonequals","\\Coloneqq"),defineMacro("\\equalscolon","\\eqqcolon"),defineMacro("\\equalscoloncolon","\\Eqqcolon"),defineMacro("\\colonminus","\\coloneq"),defineMacro("\\coloncolonminus","\\Coloneq"),defineMacro("\\minuscolon","\\eqcolon"),defineMacro("\\minuscoloncolon","\\Eqcolon"),defineMacro("\\coloncolonapprox","\\Colonapprox"),defineMacro("\\coloncolonsim","\\Colonsim"),defineMacro("\\simcolon","\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon"),defineMacro("\\simcoloncolon","\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon"),defineMacro("\\approxcolon","\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon"),defineMacro("\\approxcoloncolon","\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon")},{"./Token":94,"./symbols":116,"./utils":119}],112:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(require("babel-runtime/helpers/classCallCheck")),_createClass3=_interopRequireDefault(require("babel-runtime/helpers/createClass")),_utils2=_interopRequireDefault(require("./utils")),MathNode=function(){function MathNode(type,children){(0,_classCallCheck3.default)(this,MathNode),this.type=type,this.attributes={},this.children=children||[]}return(0,_createClass3.default)(MathNode,[{key:"setAttribute",value:function(name,value){this.attributes[name]=value}},{key:"toNode",value:function(){var node=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&node.setAttribute(attr,this.attributes[attr]);for(var i=0;i<this.children.length;i++)node.appendChild(this.children[i].toNode());return node}},{key:"toMarkup",value:function(){var markup="<"+this.type;for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&(markup+=" "+attr+'="',markup+=_utils2.default.escape(this.attributes[attr]),markup+='"');markup+=">";for(var i=0;i<this.children.length;i++)markup+=this.children[i].toMarkup();return markup+="</"+this.type+">"}}]),MathNode}(),TextNode=function(){function TextNode(text){(0,_classCallCheck3.default)(this,TextNode),this.text=text}return(0,_createClass3.default)(TextNode,[{key:"toNode",value:function(){return document.createTextNode(this.text)}},{key:"toMarkup",value:function(){return _utils2.default.escape(this.text)}}]),TextNode}();exports.default={MathNode:MathNode,TextNode:TextNode}},{"./utils":119,"babel-runtime/helpers/classCallCheck":12,"babel-runtime/helpers/createClass":13}],113:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Parser2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("./Parser"));exports.default=function(toParse,settings){if(!("string"==typeof toParse||toParse instanceof String))throw new TypeError("KaTeX can only parse string typed expression");return new _Parser2.default(toParse,settings).parse()}},{"./Parser":90}],114:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray3=_interopRequireDefault(require("babel-runtime/helpers/slicedToArray")),_domTree2=_interopRequireDefault(require("./domTree")),_buildCommon2=_interopRequireDefault(require("./buildCommon")),_mathMLTree2=_interopRequireDefault(require("./mathMLTree")),_utils2=_interopRequireDefault(require("./utils")),stretchyCodePoint={widehat:"^",widetilde:"~",undertilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23b5",overbrace:"\u23de",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xLongequal:"=",xtofrom:"\u21c4"},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xLongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528]},groupLength=function(arg){return"ordgroup"===arg.type?arg.value.length:1};exports.default={encloseSpan:function(inner,label,pad,options){var img=void 0,totalHeight=inner.height+inner.depth+2*pad;if(/(fbox)|(color)/.test(label))img=_buildCommon2.default.makeSpan(["stretchy",label],[],options),"fbox"===label&&options.color&&(img.style.borderColor=options.getColor());else{var attributes=[["x1","0"]],lines=[];"cancel"!==label&&(attributes.push(["y1","0"]),attributes.push(["x2","100%"]),attributes.push(["y2","100%"]),attributes.push(["stroke-width","0.046em"]),lines.push(new _domTree2.default.lineNode(attributes))),"xcancel"===label&&(attributes=[["x1","0"]]),"bcancel"!==label&&(attributes.push(["y1","100%"]),attributes.push(["x2","100%"]),attributes.push(["y2","0"]),attributes.push(["stroke-width","0.046em"]),lines.push(new _domTree2.default.lineNode(attributes))),attributes=[["width","100%"],["height",totalHeight+"em"]];var svgNode=new _domTree2.default.svgNode(lines,attributes);img=_buildCommon2.default.makeSpan([],[svgNode],options)}return img.height=totalHeight,img.style.height=totalHeight+"em",img},mathMLnode:function(label){var node=new _mathMLTree2.default.MathNode("mo",[new _mathMLTree2.default.TextNode(stretchyCodePoint[label.substr(1)])]);return node.setAttribute("stretchy","true"),node},svgSpan:function(group,options){var label=group.value.label.substr(1),attributes=[],height=void 0,viewBoxWidth=4e5,viewBoxHeight=0,minWidth=0,path=void 0,paths=void 0,pathName=void 0,svgNode=void 0,span=void 0;if(_utils2.default.contains(["widehat","widetilde","undertilde"],label)){var numChars=groupLength(group.value.base),_viewBoxHeight=void 0;if(numChars>5)_viewBoxHeight="widehat"===label?420:312,viewBoxWidth="widehat"===label?2364:2340,height="widehat"===label?.42:.34,pathName=("widehat"===label?"widehat":"tilde")+"4";else{var imgIndex=[1,1,2,2,3,3][numChars];"widehat"===label?(viewBoxWidth=[0,1062,2364,2364,2364][imgIndex],_viewBoxHeight=[0,239,300,360,420][imgIndex],height=[0,.24,.3,.3,.36,.42][imgIndex],pathName="widehat"+imgIndex):(viewBoxWidth=[0,600,1033,2339,2340][imgIndex],_viewBoxHeight=[0,260,286,306,312][imgIndex],height=[0,.26,.286,.3,.306,.34][imgIndex],pathName="tilde"+imgIndex)}path=new _domTree2.default.pathNode(pathName),attributes.push(["width","100%"]),attributes.push(["height",height+"em"]),attributes.push(["viewBox","0 0 "+viewBoxWidth+" "+_viewBoxHeight]),attributes.push(["preserveAspectRatio","none"]),svgNode=new _domTree2.default.svgNode([path],attributes),span=_buildCommon2.default.makeSpan([],[svgNode],options)}else{var widthClass=void 0,align=void 0,spans=[],_katexImagesData$labe=(0,_slicedToArray3.default)(katexImagesData[label],4);paths=_katexImagesData$labe[0],minWidth=_katexImagesData$labe[1],viewBoxHeight=_katexImagesData$labe[2],align=_katexImagesData$labe[3];var numSvgChildren=paths.length;height=viewBoxHeight/1e3;for(var i=0;i<numSvgChildren;i++)path=new _domTree2.default.pathNode(paths[i]),(attributes=[["width","400em"],["height",height+"em"]]).push(["viewBox","0 0 "+viewBoxWidth+" "+viewBoxHeight]),2===numSvgChildren?(widthClass=["halfarrow-left","halfarrow-right"][i],align=["xMinYMin","xMaxYMin"][i]):3===numSvgChildren&&(widthClass=["brace-left","brace-center","brace-right"][i],align=["xMinYMin","xMidYMin","xMaxYMin"][i]),attributes.push(["preserveAspectRatio",align+" slice"]),svgNode=new _domTree2.default.svgNode([path],attributes),1===numSvgChildren?span=_buildCommon2.default.makeSpan(["hide-tail"],[svgNode],options):((span=_buildCommon2.default.makeSpan([widthClass],[svgNode],options)).style.height=height+"em",spans.push(span));numSvgChildren>1&&(span=_buildCommon2.default.makeSpan(["stretchy"],spans,options))}return span.height=height,span.style.height=height+"em",minWidth>0&&(span.style.minWidth=minWidth+"em"),span}}},{"./buildCommon":95,"./domTree":102,"./mathMLTree":112,"./utils":119,"babel-runtime/helpers/slicedToArray":14}],115:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={path:{sqrtMain:"M95 622c-2.667 0-7.167-2.667-13.5\n-8S72 604 72 600c0-2 .333-3.333 1-4 1.333-2.667 23.833-20.667 67.5-54s\n65.833-50.333 66.5-51c1.333-1.333 3-2 5-2 4.667 0 8.667 3.333 12 10l173\n378c.667 0 35.333-71 104-213s137.5-285 206.5-429S812 17.333 812 14c5.333\n-9.333 12-14 20-14h399166v40H845.272L620 507 385 993c-2.667 4.667-9 7-19\n7-6 0-10-1-12-3L160 575l-65 47zM834 0h399166v40H845z",sqrtSize1:"M263 601c.667 0 18 39.667 52 119s68.167\n 158.667 102.5 238 51.833 119.333 52.5 120C810 373.333 980.667 17.667 982 11\nc4.667-7.333 11-11 19-11h398999v40H1012.333L741 607c-38.667 80.667-84 175-136\n 283s-89.167 185.333-111.5 232-33.833 70.333-34.5 71c-4.667 4.667-12.333 7-23\n 7l-12-1-109-253c-72.667-168-109.333-252-110-252-10.667 8-22 16.667-34 26-22\n 17.333-33.333 26-34 26l-26-26 76-59 76-60zM1001 0h398999v40H1012z",sqrtSize2:"M1001 0h398999v40H1013.084S929.667 308 749\n 880s-277 876.333-289 913c-4.667 4.667-12.667 7-24 7h-12c-1.333-3.333-3.667\n-11.667-7-25-35.333-125.333-106.667-373.333-214-744-10 12-21 25-33 39l-32 39\nc-6-5.333-15-14-27-26l25-30c26.667-32.667 52-63 76-91l52-60 208 722c56-175.333\n 126.333-397.333 211-666s153.833-488.167 207.5-658.5C944.167 129.167 975 32.667\n 983 10c4-6.667 10-10 18-10zm0 0h398999v40H1013z",sqrtSize3:"M424 2398c-1.333-.667-38.5-172-111.5-514 S202.667 1370.667 202\n 1370c0-2-10.667 14.333-32 49-4.667 7.333-9.833 15.667-15.5 25s-9.833 16-12.5\n 20l-5 7c-4-3.333-8.333-7.667-13-13l-13-13 76-122 77-121 209 968c0-2 84.667\n-361.667 254-1079C896.333 373.667 981.667 13.333 983 10c4-6.667 10-10 18-10\nh398999v40H1014.622S927.332 418.667 742 1206c-185.333 787.333-279.333 1182.333\n-282 1185-2 6-10 9-24 9-8 0-12-.667-12-2zM1001 0h398999v40H1014z",sqrtSize4:"M473 2713C812.333 913.667 982.333 13 983 11c3.333-7.333 9.333\n-11 18-11h399110v40H1017.698S927.168 518 741.5 1506C555.833 2494 462 2989 460\n 2991c-2 6-10 9-24 9-8 0-12-.667-12-2s-5.333-32-16-92c-50.667-293.333-119.667\n-693.333-207-1200 0-1.333-5.333 8.667-16 30l-32 64-16 33-26-26 76-153 77-151\nc.667.667 35.667 202 105 604 67.333 400.667 102 602.667 104 606z\nM1001 0h398999v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z"}}},{}],116:[function(require,module,exports){"use strict";function defineSymbol(mode,font,group,replace,name,acceptUnicodeChar){symbols[mode][name]={font:font,group:group,replace:replace},acceptUnicodeChar&&replace&&(symbols[mode][replace]=symbols[mode][name])}Object.defineProperty(exports,"__esModule",{value:!0});var symbols={math:{},text:{}};exports.default=symbols;var math="math",text="text",main="main",ams="ams",accent="accent",bin="bin",close="close",mathord="mathord",op="op",open="open",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"\u2261","\\equiv",!0),defineSymbol(math,main,rel,"\u227a","\\prec",!0),defineSymbol(math,main,rel,"\u227b","\\succ",!0),defineSymbol(math,main,rel,"\u223c","\\sim",!0),defineSymbol(math,main,rel,"\u22a5","\\perp"),defineSymbol(math,main,rel,"\u2aaf","\\preceq",!0),defineSymbol(math,main,rel,"\u2ab0","\\succeq",!0),defineSymbol(math,main,rel,"\u2243","\\simeq",!0),defineSymbol(math,main,rel,"\u2223","\\mid"),defineSymbol(math,main,rel,"\u226a","\\ll"),defineSymbol(math,main,rel,"\u226b","\\gg",!0),defineSymbol(math,main,rel,"\u224d","\\asymp",!0),defineSymbol(math,main,rel,"\u2225","\\parallel"),defineSymbol(math,main,rel,"\u22c8","\\bowtie",!0),defineSymbol(math,main,rel,"\u2323","\\smile",!0),defineSymbol(math,main,rel,"\u2291","\\sqsubseteq",!0),defineSymbol(math,main,rel,"\u2292","\\sqsupseteq",!0),defineSymbol(math,main,rel,"\u2250","\\doteq",!0),defineSymbol(math,main,rel,"\u2322","\\frown",!0),defineSymbol(math,main,rel,"\u220b","\\ni",!0),defineSymbol(math,main,rel,"\u221d","\\propto",!0),defineSymbol(math,main,rel,"\u22a2","\\vdash",!0),defineSymbol(math,main,rel,"\u22a3","\\dashv",!0),defineSymbol(math,main,rel,"\u220b","\\owns"),defineSymbol(math,main,"punct",".","\\ldotp"),defineSymbol(math,main,"punct","\u22c5","\\cdotp"),defineSymbol(math,main,textord,"#","\\#"),defineSymbol(text,main,textord,"#","\\#"),defineSymbol(math,main,textord,"&","\\&"),defineSymbol(text,main,textord,"&","\\&"),defineSymbol(math,main,textord,"\u2135","\\aleph"),defineSymbol(math,main,textord,"\u2200","\\forall"),defineSymbol(math,main,textord,"\u210f","\\hbar"),defineSymbol(math,main,textord,"\u2203","\\exists"),defineSymbol(math,main,textord,"\u2207","\\nabla"),defineSymbol(math,main,textord,"\u266d","\\flat"),defineSymbol(math,main,textord,"\u2113","\\ell"),defineSymbol(math,main,textord,"\u266e","\\natural"),defineSymbol(math,main,textord,"\u2663","\\clubsuit"),defineSymbol(math,main,textord,"\u2118","\\wp"),defineSymbol(math,main,textord,"\u266f","\\sharp"),defineSymbol(math,main,textord,"\u2662","\\diamondsuit"),defineSymbol(math,main,textord,"\u211c","\\Re"),defineSymbol(math,main,textord,"\u2661","\\heartsuit"),defineSymbol(math,main,textord,"\u2111","\\Im"),defineSymbol(math,main,textord,"\u2660","\\spadesuit"),defineSymbol(math,main,textord,"\u2020","\\dag"),defineSymbol(text,main,textord,"\u2020","\\dag"),defineSymbol(text,main,textord,"\u2020","\\textdagger"),defineSymbol(math,main,textord,"\u2021","\\ddag"),defineSymbol(text,main,textord,"\u2021","\\ddag"),defineSymbol(text,main,textord,"\u2020","\\textdaggerdbl"),defineSymbol(math,main,close,"\u23b1","\\rmoustache"),defineSymbol(math,main,open,"\u23b0","\\lmoustache"),defineSymbol(math,main,close,"\u27ef","\\rgroup"),defineSymbol(math,main,open,"\u27ee","\\lgroup"),defineSymbol(math,main,bin,"\u2213","\\mp"),defineSymbol(math,main,bin,"\u2296","\\ominus"),defineSymbol(math,main,bin,"\u228e","\\uplus"),defineSymbol(math,main,bin,"\u2293","\\sqcap"),defineSymbol(math,main,bin,"\u2217","\\ast"),defineSymbol(math,main,bin,"\u2294","\\sqcup"),defineSymbol(math,main,bin,"\u25ef","\\bigcirc"),defineSymbol(math,main,bin,"\u2219","\\bullet"),defineSymbol(math,main,bin,"\u2021","\\ddagger"),defineSymbol(math,main,bin,"\u2240","\\wr"),defineSymbol(math,main,bin,"\u2a3f","\\amalg"),defineSymbol(math,main,bin,"&","\\And"),defineSymbol(math,main,rel,"\u27f5","\\longleftarrow"),defineSymbol(math,main,rel,"\u21d0","\\Leftarrow"),defineSymbol(math,main,rel,"\u27f8","\\Longleftarrow"),defineSymbol(math,main,rel,"\u27f6","\\longrightarrow"),defineSymbol(math,main,rel,"\u21d2","\\Rightarrow"),defineSymbol(math,main,rel,"\u27f9","\\Longrightarrow"),defineSymbol(math,main,rel,"\u2194","\\leftrightarrow"),defineSymbol(math,main,rel,"\u27f7","\\longleftrightarrow"),defineSymbol(math,main,rel,"\u21d4","\\Leftrightarrow"),defineSymbol(math,main,rel,"\u27fa","\\Longleftrightarrow"),defineSymbol(math,main,rel,"\u21a6","\\mapsto"),defineSymbol(math,main,rel,"\u27fc","\\longmapsto"),defineSymbol(math,main,rel,"\u2197","\\nearrow"),defineSymbol(math,main,rel,"\u21a9","\\hookleftarrow"),defineSymbol(math,main,rel,"\u21aa","\\hookrightarrow"),defineSymbol(math,main,rel,"\u2198","\\searrow"),defineSymbol(math,main,rel,"\u21bc","\\leftharpoonup"),defineSymbol(math,main,rel,"\u21c0","\\rightharpoonup"),defineSymbol(math,main,rel,"\u2199","\\swarrow"),defineSymbol(math,main,rel,"\u21bd","\\leftharpoondown"),defineSymbol(math,main,rel,"\u21c1","\\rightharpoondown"),defineSymbol(math,main,rel,"\u2196","\\nwarrow"),defineSymbol(math,main,rel,"\u21cc","\\rightleftharpoons"),defineSymbol(math,ams,rel,"\u226e","\\nless"),defineSymbol(math,ams,rel,"\ue010","\\nleqslant"),defineSymbol(math,ams,rel,"\ue011","\\nleqq"),defineSymbol(math,ams,rel,"\u2a87","\\lneq"),defineSymbol(math,ams,rel,"\u2268","\\lneqq"),defineSymbol(math,ams,rel,"\ue00c","\\lvertneqq"),defineSymbol(math,ams,rel,"\u22e6","\\lnsim"),defineSymbol(math,ams,rel,"\u2a89","\\lnapprox"),defineSymbol(math,ams,rel,"\u2280","\\nprec"),defineSymbol(math,ams,rel,"\u22e0","\\npreceq"),defineSymbol(math,ams,rel,"\u22e8","\\precnsim"),defineSymbol(math,ams,rel,"\u2ab9","\\precnapprox"),defineSymbol(math,ams,rel,"\u2241","\\nsim"),defineSymbol(math,ams,rel,"\ue006","\\nshortmid"),defineSymbol(math,ams,rel,"\u2224","\\nmid"),defineSymbol(math,ams,rel,"\u22ac","\\nvdash"),defineSymbol(math,ams,rel,"\u22ad","\\nvDash"),defineSymbol(math,ams,rel,"\u22ea","\\ntriangleleft"),defineSymbol(math,ams,rel,"\u22ec","\\ntrianglelefteq"),defineSymbol(math,ams,rel,"\u228a","\\subsetneq"),defineSymbol(math,ams,rel,"\ue01a","\\varsubsetneq"),defineSymbol(math,ams,rel,"\u2acb","\\subsetneqq"),defineSymbol(math,ams,rel,"\ue017","\\varsubsetneqq"),defineSymbol(math,ams,rel,"\u226f","\\ngtr"),defineSymbol(math,ams,rel,"\ue00f","\\ngeqslant"),defineSymbol(math,ams,rel,"\ue00e","\\ngeqq"),defineSymbol(math,ams,rel,"\u2a88","\\gneq"),defineSymbol(math,ams,rel,"\u2269","\\gneqq"),defineSymbol(math,ams,rel,"\ue00d","\\gvertneqq"),defineSymbol(math,ams,rel,"\u22e7","\\gnsim"),defineSymbol(math,ams,rel,"\u2a8a","\\gnapprox"),defineSymbol(math,ams,rel,"\u2281","\\nsucc"),defineSymbol(math,ams,rel,"\u22e1","\\nsucceq"),defineSymbol(math,ams,rel,"\u22e9","\\succnsim"),defineSymbol(math,ams,rel,"\u2aba","\\succnapprox"),defineSymbol(math,ams,rel,"\u2246","\\ncong"),defineSymbol(math,ams,rel,"\ue007","\\nshortparallel"),defineSymbol(math,ams,rel,"\u2226","\\nparallel"),defineSymbol(math,ams,rel,"\u22af","\\nVDash"),defineSymbol(math,ams,rel,"\u22eb","\\ntriangleright"),defineSymbol(math,ams,rel,"\u22ed","\\ntrianglerighteq"),defineSymbol(math,ams,rel,"\ue018","\\nsupseteqq"),defineSymbol(math,ams,rel,"\u228b","\\supsetneq"),defineSymbol(math,ams,rel,"\ue01b","\\varsupsetneq"),defineSymbol(math,ams,rel,"\u2acc","\\supsetneqq"),defineSymbol(math,ams,rel,"\ue019","\\varsupsetneqq"),defineSymbol(math,ams,rel,"\u22ae","\\nVdash"),defineSymbol(math,ams,rel,"\u2ab5","\\precneqq"),defineSymbol(math,ams,rel,"\u2ab6","\\succneqq"),defineSymbol(math,ams,rel,"\ue016","\\nsubseteqq"),defineSymbol(math,ams,bin,"\u22b4","\\unlhd"),defineSymbol(math,ams,bin,"\u22b5","\\unrhd"),defineSymbol(math,ams,rel,"\u219a","\\nleftarrow"),defineSymbol(math,ams,rel,"\u219b","\\nrightarrow"),defineSymbol(math,ams,rel,"\u21cd","\\nLeftarrow"),defineSymbol(math,ams,rel,"\u21cf","\\nRightarrow"),defineSymbol(math,ams,rel,"\u21ae","\\nleftrightarrow"),defineSymbol(math,ams,rel,"\u21ce","\\nLeftrightarrow"),defineSymbol(math,ams,rel,"\u25b3","\\vartriangle"),defineSymbol(math,ams,textord,"\u210f","\\hslash"),defineSymbol(math,ams,textord,"\u25bd","\\triangledown"),defineSymbol(math,ams,textord,"\u25ca","\\lozenge"),defineSymbol(math,ams,textord,"\u24c8","\\circledS"),defineSymbol(math,ams,textord,"\xae","\\circledR"),defineSymbol(text,ams,textord,"\xae","\\circledR"),defineSymbol(math,ams,textord,"\u2221","\\measuredangle"),defineSymbol(math,ams,textord,"\u2204","\\nexists"),defineSymbol(math,ams,textord,"\u2127","\\mho"),defineSymbol(math,ams,textord,"\u2132","\\Finv"),defineSymbol(math,ams,textord,"\u2141","\\Game"),defineSymbol(math,ams,textord,"k","\\Bbbk"),defineSymbol(math,ams,textord,"\u2035","\\backprime"),defineSymbol(math,ams,textord,"\u25b2","\\blacktriangle"),defineSymbol(math,ams,textord,"\u25bc","\\blacktriangledown"),defineSymbol(math,ams,textord,"\u25a0","\\blacksquare"),defineSymbol(math,ams,textord,"\u29eb","\\blacklozenge"),defineSymbol(math,ams,textord,"\u2605","\\bigstar"),defineSymbol(math,ams,textord,"\u2222","\\sphericalangle"),defineSymbol(math,ams,textord,"\u2201","\\complement"),defineSymbol(math,ams,textord,"\xf0","\\eth"),defineSymbol(math,ams,textord,"\u2571","\\diagup"),defineSymbol(math,ams,textord,"\u2572","\\diagdown"),defineSymbol(math,ams,textord,"\u25a1","\\square"),defineSymbol(math,ams,textord,"\u25a1","\\Box"),defineSymbol(math,ams,textord,"\u25ca","\\Diamond"),defineSymbol(math,ams,textord,"\xa5","\\yen"),defineSymbol(math,ams,textord,"\u2713","\\checkmark"),defineSymbol(text,ams,textord,"\u2713","\\checkmark"),defineSymbol(math,ams,textord,"\u2136","\\beth"),defineSymbol(math,ams,textord,"\u2138","\\daleth"),defineSymbol(math,ams,textord,"\u2137","\\gimel"),defineSymbol(math,ams,textord,"\u03dd","\\digamma"),defineSymbol(math,ams,textord,"\u03f0","\\varkappa"),defineSymbol(math,ams,open,"\u250c","\\ulcorner"),defineSymbol(math,ams,close,"\u2510","\\urcorner"),defineSymbol(math,ams,open,"\u2514","\\llcorner"),defineSymbol(math,ams,close,"\u2518","\\lrcorner"),defineSymbol(math,ams,rel,"\u2266","\\leqq",!0),defineSymbol(math,ams,rel,"\u2a7d","\\leqslant"),defineSymbol(math,ams,rel,"\u2a95","\\eqslantless",!0),defineSymbol(math,ams,rel,"\u2272","\\lesssim"),defineSymbol(math,ams,rel,"\u2a85","\\lessapprox"),defineSymbol(math,ams,rel,"\u224a","\\approxeq",!0),defineSymbol(math,ams,bin,"\u22d6","\\lessdot"),defineSymbol(math,ams,rel,"\u22d8","\\lll"),defineSymbol(math,ams,rel,"\u2276","\\lessgtr"),defineSymbol(math,ams,rel,"\u22da","\\lesseqgtr"),defineSymbol(math,ams,rel,"\u2a8b","\\lesseqqgtr"),defineSymbol(math,ams,rel,"\u2251","\\doteqdot"),defineSymbol(math,ams,rel,"\u2253","\\risingdotseq",!0),defineSymbol(math,ams,rel,"\u2252","\\fallingdotseq",!0),defineSymbol(math,ams,rel,"\u223d","\\backsim",!0),defineSymbol(math,ams,rel,"\u22cd","\\backsimeq",!0),defineSymbol(math,ams,rel,"\u2ac5","\\subseteqq",!0),defineSymbol(math,ams,rel,"\u22d0","\\Subset",!0),defineSymbol(math,ams,rel,"\u228f","\\sqsubset",!0),defineSymbol(math,ams,rel,"\u227c","\\preccurlyeq",!0),defineSymbol(math,ams,rel,"\u22de","\\curlyeqprec",!0),defineSymbol(math,ams,rel,"\u227e","\\precsim",!0),defineSymbol(math,ams,rel,"\u2ab7","\\precapprox",!0),defineSymbol(math,ams,rel,"\u22b2","\\vartriangleleft"),defineSymbol(math,ams,rel,"\u22b4","\\trianglelefteq"),defineSymbol(math,ams,rel,"\u22a8","\\vDash"),defineSymbol(math,ams,rel,"\u22aa","\\Vvdash",!0),defineSymbol(math,ams,rel,"\u2323","\\smallsmile"),defineSymbol(math,ams,rel,"\u2322","\\smallfrown"),defineSymbol(math,ams,rel,"\u224f","\\bumpeq",!0),defineSymbol(math,ams,rel,"\u224e","\\Bumpeq",!0),defineSymbol(math,ams,rel,"\u2267","\\geqq",!0),defineSymbol(math,ams,rel,"\u2a7e","\\geqslant",!0),defineSymbol(math,ams,rel,"\u2a96","\\eqslantgtr",!0),defineSymbol(math,ams,rel,"\u2273","\\gtrsim",!0),defineSymbol(math,ams,rel,"\u2a86","\\gtrapprox",!0),defineSymbol(math,ams,bin,"\u22d7","\\gtrdot"),defineSymbol(math,ams,rel,"\u22d9","\\ggg",!0),defineSymbol(math,ams,rel,"\u2277","\\gtrless",!0),defineSymbol(math,ams,rel,"\u22db","\\gtreqless",!0),defineSymbol(math,ams,rel,"\u2a8c","\\gtreqqless",!0),defineSymbol(math,ams,rel,"\u2256","\\eqcirc",!0),defineSymbol(math,ams,rel,"\u2257","\\circeq",!0),defineSymbol(math,ams,rel,"\u225c","\\triangleq",!0),defineSymbol(math,ams,rel,"\u223c","\\thicksim"),defineSymbol(math,ams,rel,"\u2248","\\thickapprox"),defineSymbol(math,ams,rel,"\u2ac6","\\supseteqq",!0),defineSymbol(math,ams,rel,"\u22d1","\\Supset",!0),defineSymbol(math,ams,rel,"\u2290","\\sqsupset",!0),defineSymbol(math,ams,rel,"\u227d","\\succcurlyeq",!0),defineSymbol(math,ams,rel,"\u22df","\\curlyeqsucc",!0),defineSymbol(math,ams,rel,"\u227f","\\succsim",!0),defineSymbol(math,ams,rel,"\u2ab8","\\succapprox",!0),defineSymbol(math,ams,rel,"\u22b3","\\vartriangleright"),defineSymbol(math,ams,rel,"\u22b5","\\trianglerighteq"),defineSymbol(math,ams,rel,"\u22a9","\\Vdash",!0),defineSymbol(math,ams,rel,"\u2223","\\shortmid"),defineSymbol(math,ams,rel,"\u2225","\\shortparallel"),defineSymbol(math,ams,rel,"\u226c","\\between",!0),defineSymbol(math,ams,rel,"\u22d4","\\pitchfork",!0),defineSymbol(math,ams,rel,"\u221d","\\varpropto"),defineSymbol(math,ams,rel,"\u25c0","\\blacktriangleleft"),defineSymbol(math,ams,rel,"\u2234","\\therefore"),defineSymbol(math,ams,rel,"\u220d","\\backepsilon"),defineSymbol(math,ams,rel,"\u25b6","\\blacktriangleright"),defineSymbol(math,ams,rel,"\u2235","\\because"),defineSymbol(math,ams,rel,"\u22d8","\\llless"),defineSymbol(math,ams,rel,"\u22d9","\\gggtr"),defineSymbol(math,ams,bin,"\u22b2","\\lhd"),defineSymbol(math,ams,bin,"\u22b3","\\rhd"),defineSymbol(math,ams,rel,"\u2242","\\eqsim",!0),defineSymbol(math,main,rel,"\u22c8","\\Join"),defineSymbol(math,ams,rel,"\u2251","\\Doteq",!0),defineSymbol(math,ams,bin,"\u2214","\\dotplus"),defineSymbol(math,ams,bin,"\u2216","\\smallsetminus"),defineSymbol(math,ams,bin,"\u22d2","\\Cap"),defineSymbol(math,ams,bin,"\u22d3","\\Cup"),defineSymbol(math,ams,bin,"\u2a5e","\\doublebarwedge"),defineSymbol(math,ams,bin,"\u229f","\\boxminus"),defineSymbol(math,ams,bin,"\u229e","\\boxplus"),defineSymbol(math,ams,bin,"\u22c7","\\divideontimes"),defineSymbol(math,ams,bin,"\u22c9","\\ltimes"),defineSymbol(math,ams,bin,"\u22ca","\\rtimes"),defineSymbol(math,ams,bin,"\u22cb","\\leftthreetimes"),defineSymbol(math,ams,bin,"\u22cc","\\rightthreetimes"),defineSymbol(math,ams,bin,"\u22cf","\\curlywedge"),defineSymbol(math,ams,bin,"\u22ce","\\curlyvee"),defineSymbol(math,ams,bin,"\u229d","\\circleddash"),defineSymbol(math,ams,bin,"\u229b","\\circledast"),defineSymbol(math,ams,bin,"\u22c5","\\centerdot"),defineSymbol(math,ams,bin,"\u22ba","\\intercal"),defineSymbol(math,ams,bin,"\u22d2","\\doublecap"),defineSymbol(math,ams,bin,"\u22d3","\\doublecup"),defineSymbol(math,ams,bin,"\u22a0","\\boxtimes"),defineSymbol(math,ams,rel,"\u21e2","\\dashrightarrow"),defineSymbol(math,ams,rel,"\u21e0","\\dashleftarrow"),defineSymbol(math,ams,rel,"\u21c7","\\leftleftarrows"),defineSymbol(math,ams,rel,"\u21c6","\\leftrightarrows"),defineSymbol(math,ams,rel,"\u21da","\\Lleftarrow"),defineSymbol(math,ams,rel,"\u219e","\\twoheadleftarrow"),defineSymbol(math,ams,rel,"\u21a2","\\leftarrowtail"),defineSymbol(math,ams,rel,"\u21ab","\\looparrowleft"),defineSymbol(math,ams,rel,"\u21cb","\\leftrightharpoons"),defineSymbol(math,ams,rel,"\u21b6","\\curvearrowleft"),defineSymbol(math,ams,rel,"\u21ba","\\circlearrowleft"),defineSymbol(math,ams,rel,"\u21b0","\\Lsh"),defineSymbol(math,ams,rel,"\u21c8","\\upuparrows"),defineSymbol(math,ams,rel,"\u21bf","\\upharpoonleft"),defineSymbol(math,ams,rel,"\u21c3","\\downharpoonleft"),defineSymbol(math,ams,rel,"\u22b8","\\multimap",!0),defineSymbol(math,ams,rel,"\u21ad","\\leftrightsquigarrow"),defineSymbol(math,ams,rel,"\u21c9","\\rightrightarrows"),defineSymbol(math,ams,rel,"\u21c4","\\rightleftarrows"),defineSymbol(math,ams,rel,"\u21a0","\\twoheadrightarrow"),defineSymbol(math,ams,rel,"\u21a3","\\rightarrowtail"),defineSymbol(math,ams,rel,"\u21ac","\\looparrowright"),defineSymbol(math,ams,rel,"\u21b7","\\curvearrowright"),defineSymbol(math,ams,rel,"\u21bb","\\circlearrowright"),defineSymbol(math,ams,rel,"\u21b1","\\Rsh"),defineSymbol(math,ams,rel,"\u21ca","\\downdownarrows"),defineSymbol(math,ams,rel,"\u21be","\\upharpoonright"),defineSymbol(math,ams,rel,"\u21c2","\\downharpoonright"),defineSymbol(math,ams,rel,"\u21dd","\\rightsquigarrow"),defineSymbol(math,ams,rel,"\u21dd","\\leadsto"),defineSymbol(math,ams,rel,"\u21db","\\Rrightarrow"),defineSymbol(math,ams,rel,"\u21be","\\restriction"),defineSymbol(math,main,textord,"\u2018","`"),defineSymbol(math,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\textdollar"),defineSymbol(math,main,textord,"%","\\%"),defineSymbol(text,main,textord,"%","\\%"),defineSymbol(math,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\textunderscore"),defineSymbol(math,main,textord,"\u2220","\\angle"),defineSymbol(math,main,textord,"\u221e","\\infty"),defineSymbol(math,main,textord,"\u2032","\\prime"),defineSymbol(math,main,textord,"\u25b3","\\triangle"),defineSymbol(math,main,textord,"\u0393","\\Gamma",!0),defineSymbol(math,main,textord,"\u0394","\\Delta",!0),defineSymbol(math,main,textord,"\u0398","\\Theta",!0),defineSymbol(math,main,textord,"\u039b","\\Lambda",!0),defineSymbol(math,main,textord,"\u039e","\\Xi",!0),defineSymbol(math,main,textord,"\u03a0","\\Pi",!0),defineSymbol(math,main,textord,"\u03a3","\\Sigma",!0),defineSymbol(math,main,textord,"\u03a5","\\Upsilon",!0),defineSymbol(math,main,textord,"\u03a6","\\Phi",!0),defineSymbol(math,main,textord,"\u03a8","\\Psi",!0),defineSymbol(math,main,textord,"\u03a9","\\Omega",!0),defineSymbol(math,main,textord,"\xac","\\neg"),defineSymbol(math,main,textord,"\xac","\\lnot"),defineSymbol(math,main,textord,"\u22a4","\\top"),defineSymbol(math,main,textord,"\u22a5","\\bot"),defineSymbol(math,main,textord,"\u2205","\\emptyset"),defineSymbol(math,ams,textord,"\u2205","\\varnothing"),defineSymbol(math,main,mathord,"\u03b1","\\alpha",!0),defineSymbol(math,main,mathord,"\u03b2","\\beta",!0),defineSymbol(math,main,mathord,"\u03b3","\\gamma",!0),defineSymbol(math,main,mathord,"\u03b4","\\delta",!0),defineSymbol(math,main,mathord,"\u03f5","\\epsilon",!0),defineSymbol(math,main,mathord,"\u03b6","\\zeta",!0),defineSymbol(math,main,mathord,"\u03b7","\\eta",!0),defineSymbol(math,main,mathord,"\u03b8","\\theta",!0),defineSymbol(math,main,mathord,"\u03b9","\\iota",!0),defineSymbol(math,main,mathord,"\u03ba","\\kappa",!0),defineSymbol(math,main,mathord,"\u03bb","\\lambda",!0),defineSymbol(math,main,mathord,"\u03bc","\\mu",!0),defineSymbol(math,main,mathord,"\u03bd","\\nu",!0),defineSymbol(math,main,mathord,"\u03be","\\xi",!0),defineSymbol(math,main,mathord,"\u03bf","\\omicron",!0),defineSymbol(math,main,mathord,"\u03c0","\\pi",!0),defineSymbol(math,main,mathord,"\u03c1","\\rho",!0),defineSymbol(math,main,mathord,"\u03c3","\\sigma",!0),defineSymbol(math,main,mathord,"\u03c4","\\tau",!0),defineSymbol(math,main,mathord,"\u03c5","\\upsilon",!0),defineSymbol(math,main,mathord,"\u03d5","\\phi",!0),defineSymbol(math,main,mathord,"\u03c7","\\chi",!0),defineSymbol(math,main,mathord,"\u03c8","\\psi",!0),defineSymbol(math,main,mathord,"\u03c9","\\omega",!0),defineSymbol(math,main,mathord,"\u03b5","\\varepsilon",!0),defineSymbol(math,main,mathord,"\u03d1","\\vartheta",!0),defineSymbol(math,main,mathord,"\u03d6","\\varpi",!0),defineSymbol(math,main,mathord,"\u03f1","\\varrho",!0),defineSymbol(math,main,mathord,"\u03c2","\\varsigma",!0),defineSymbol(math,main,mathord,"\u03c6","\\varphi",!0),defineSymbol(math,main,bin,"\u2217","*"),defineSymbol(math,main,bin,"+","+"),defineSymbol(math,main,bin,"\u2212","-"),defineSymbol(math,main,bin,"\u22c5","\\cdot"),defineSymbol(math,main,bin,"\u2218","\\circ"),defineSymbol(math,main,bin,"\xf7","\\div"),defineSymbol(math,main,bin,"\xb1","\\pm"),defineSymbol(math,main,bin,"\xd7","\\times"),defineSymbol(math,main,bin,"\u2229","\\cap"),defineSymbol(math,main,bin,"\u222a","\\cup"),defineSymbol(math,main,bin,"\u2216","\\setminus"),defineSymbol(math,main,bin,"\u2227","\\land"),defineSymbol(math,main,bin,"\u2228","\\lor"),defineSymbol(math,main,bin,"\u2227","\\wedge"),defineSymbol(math,main,bin,"\u2228","\\vee"),defineSymbol(math,main,textord,"\u221a","\\surd"),defineSymbol(math,main,open,"(","("),defineSymbol(math,main,open,"[","["),defineSymbol(math,main,open,"\u27e8","\\langle"),defineSymbol(math,main,open,"\u2223","\\lvert"),defineSymbol(math,main,open,"\u2225","\\lVert"),defineSymbol(math,main,close,")",")"),defineSymbol(math,main,close,"]","]"),defineSymbol(math,main,close,"?","?"),defineSymbol(math,main,close,"!","!"),defineSymbol(math,main,close,"\u27e9","\\rangle"),defineSymbol(math,main,close,"\u2223","\\rvert"),defineSymbol(math,main,close,"\u2225","\\rVert"),defineSymbol(math,main,rel,"=","="),defineSymbol(math,main,rel,"<","<"),defineSymbol(math,main,rel,">",">"),defineSymbol(math,main,rel,":",":"),defineSymbol(math,main,rel,"\u2248","\\approx",!0),defineSymbol(math,main,rel,"\u2245","\\cong",!0),defineSymbol(math,main,rel,"\u2265","\\ge"),defineSymbol(math,main,rel,"\u2265","\\geq",!0),defineSymbol(math,main,rel,"\u2190","\\gets"),defineSymbol(math,main,rel,">","\\gt"),defineSymbol(math,main,rel,"\u2208","\\in",!0),defineSymbol(math,main,rel,"\u2209","\\notin"),defineSymbol(math,main,rel,"\u0338","\\not"),defineSymbol(math,main,rel,"\u2282","\\subset",!0),defineSymbol(math,main,rel,"\u2283","\\supset",!0),defineSymbol(math,main,rel,"\u2286","\\subseteq",!0),defineSymbol(math,main,rel,"\u2287","\\supseteq",!0),defineSymbol(math,ams,rel,"\u2288","\\nsubseteq"),defineSymbol(math,ams,rel,"\u2289","\\nsupseteq"),defineSymbol(math,main,rel,"\u22a8","\\models"),defineSymbol(math,main,rel,"\u2190","\\leftarrow"),defineSymbol(math,main,rel,"\u2264","\\le"),defineSymbol(math,main,rel,"\u2264","\\leq",!0),defineSymbol(math,main,rel,"<","\\lt"),defineSymbol(math,main,rel,"\u2260","\\ne"),defineSymbol(math,main,rel,"\u2260","\\neq"),defineSymbol(math,main,rel,"\u2192","\\rightarrow"),defineSymbol(math,main,rel,"\u2192","\\to"),defineSymbol(math,ams,rel,"\u2271","\\ngeq"),defineSymbol(math,ams,rel,"\u2270","\\nleq"),defineSymbol(math,main,spacing,null,"\\!"),defineSymbol(math,main,spacing,"\xa0","\\ "),defineSymbol(math,main,spacing,"\xa0","~"),defineSymbol(math,main,spacing,null,"\\,"),defineSymbol(math,main,spacing,null,"\\:"),defineSymbol(math,main,spacing,null,"\\;"),defineSymbol(math,main,spacing,null,"\\enspace"),defineSymbol(math,main,spacing,null,"\\qquad"),defineSymbol(math,main,spacing,null,"\\quad"),defineSymbol(math,main,spacing,"\xa0","\\space"),defineSymbol(math,main,"punct",",",","),defineSymbol(math,main,"punct",";",";"),defineSymbol(math,main,"punct",":","\\colon"),defineSymbol(math,ams,bin,"\u22bc","\\barwedge"),defineSymbol(math,ams,bin,"\u22bb","\\veebar"),defineSymbol(math,main,bin,"\u2299","\\odot"),defineSymbol(math,main,bin,"\u2295","\\oplus"),defineSymbol(math,main,bin,"\u2297","\\otimes"),defineSymbol(math,main,textord,"\u2202","\\partial"),defineSymbol(math,main,bin,"\u2298","\\oslash"),defineSymbol(math,ams,bin,"\u229a","\\circledcirc"),defineSymbol(math,ams,bin,"\u22a1","\\boxdot"),defineSymbol(math,main,bin,"\u25b3","\\bigtriangleup"),defineSymbol(math,main,bin,"\u25bd","\\bigtriangledown"),defineSymbol(math,main,bin,"\u2020","\\dagger"),defineSymbol(math,main,bin,"\u22c4","\\diamond"),defineSymbol(math,main,bin,"\u22c6","\\star"),defineSymbol(math,main,bin,"\u25c3","\\triangleleft"),defineSymbol(math,main,bin,"\u25b9","\\triangleright"),defineSymbol(math,main,open,"{","\\{"),defineSymbol(text,main,textord,"{","\\{"),defineSymbol(text,main,textord,"{","\\textbraceleft"),defineSymbol(math,main,close,"}","\\}"),defineSymbol(text,main,textord,"}","\\}"),defineSymbol(text,main,textord,"}","\\textbraceright"),defineSymbol(math,main,open,"{","\\lbrace"),defineSymbol(math,main,close,"}","\\rbrace"),defineSymbol(math,main,open,"[","\\lbrack"),defineSymbol(math,main,close,"]","\\rbrack"),defineSymbol(text,main,textord,"<","\\textless"),defineSymbol(text,main,textord,">","\\textgreater"),defineSymbol(math,main,open,"\u230a","\\lfloor"),defineSymbol(math,main,close,"\u230b","\\rfloor"),defineSymbol(math,main,open,"\u2308","\\lceil"),defineSymbol(math,main,close,"\u2309","\\rceil"),defineSymbol(math,main,textord,"\\","\\backslash"),defineSymbol(math,main,textord,"\u2223","|"),defineSymbol(math,main,textord,"\u2223","\\vert"),defineSymbol(text,main,textord,"|","\\textbar"),defineSymbol(math,main,textord,"\u2225","\\|"),defineSymbol(math,main,textord,"\u2225","\\Vert"),defineSymbol(text,main,textord,"\u2225","\\textbardbl"),defineSymbol(math,main,rel,"\u2191","\\uparrow"),defineSymbol(math,main,rel,"\u21d1","\\Uparrow"),defineSymbol(math,main,rel,"\u2193","\\downarrow"),defineSymbol(math,main,rel,"\u21d3","\\Downarrow"),defineSymbol(math,main,rel,"\u2195","\\updownarrow"),defineSymbol(math,main,rel,"\u21d5","\\Updownarrow"),defineSymbol(math,main,op,"\u2210","\\coprod"),defineSymbol(math,main,op,"\u22c1","\\bigvee"),defineSymbol(math,main,op,"\u22c0","\\bigwedge"),defineSymbol(math,main,op,"\u2a04","\\biguplus"),defineSymbol(math,main,op,"\u22c2","\\bigcap"),defineSymbol(math,main,op,"\u22c3","\\bigcup"),defineSymbol(math,main,op,"\u222b","\\int"),defineSymbol(math,main,op,"\u222b","\\intop"),defineSymbol(math,main,op,"\u222c","\\iint"),defineSymbol(math,main,op,"\u222d","\\iiint"),defineSymbol(math,main,op,"\u220f","\\prod"),defineSymbol(math,main,op,"\u2211","\\sum"),defineSymbol(math,main,op,"\u2a02","\\bigotimes"),defineSymbol(math,main,op,"\u2a01","\\bigoplus"),defineSymbol(math,main,op,"\u2a00","\\bigodot"),defineSymbol(math,main,op,"\u222e","\\oint"),defineSymbol(math,main,op,"\u2a06","\\bigsqcup"),defineSymbol(math,main,op,"\u222b","\\smallint"),defineSymbol(text,main,"inner","\u2026","\\textellipsis"),defineSymbol(math,main,"inner","\u2026","\\mathellipsis"),defineSymbol(text,main,"inner","\u2026","\\ldots",!0),defineSymbol(math,main,"inner","\u2026","\\ldots",!0),defineSymbol(math,main,"inner","\u22ef","\\@cdots",!0),defineSymbol(math,main,"inner","\u22f1","\\ddots",!0),defineSymbol(math,main,textord,"\u22ee","\\vdots",!0),defineSymbol(math,main,accent,"\xb4","\\acute"),defineSymbol(math,main,accent,"`","\\grave"),defineSymbol(math,main,accent,"\xa8","\\ddot"),defineSymbol(math,main,accent,"~","\\tilde"),defineSymbol(math,main,accent,"\xaf","\\bar"),defineSymbol(math,main,accent,"\u02d8","\\breve"),defineSymbol(math,main,accent,"\u02c7","\\check"),defineSymbol(math,main,accent,"^","\\hat"),defineSymbol(math,main,accent,"\u20d7","\\vec"),defineSymbol(math,main,accent,"\u02d9","\\dot"),defineSymbol(math,main,mathord,"\u0131","\\imath"),defineSymbol(math,main,mathord,"\u0237","\\jmath"),defineSymbol(text,main,accent,"\u02ca","\\'"),defineSymbol(text,main,accent,"\u02cb","\\`"),defineSymbol(text,main,accent,"\u02c6","\\^"),defineSymbol(text,main,accent,"\u02dc","\\~"),defineSymbol(text,main,accent,"\u02c9","\\="),defineSymbol(text,main,accent,"\u02d8","\\u"),defineSymbol(text,main,accent,"\u02d9","\\."),defineSymbol(text,main,accent,"\u02da","\\r"),defineSymbol(text,main,accent,"\u02c7","\\v"),defineSymbol(text,main,accent,"\xa8",'\\"'),defineSymbol(text,main,accent,"\u030b","\\H"),defineSymbol(text,main,textord,"\u2013","--"),defineSymbol(text,main,textord,"\u2013","\\textendash"),defineSymbol(text,main,textord,"\u2014","---"),defineSymbol(text,main,textord,"\u2014","\\textemdash"),defineSymbol(text,main,textord,"\u2018","`"),defineSymbol(text,main,textord,"\u2018","\\textquoteleft"),defineSymbol(text,main,textord,"\u2019","'"),defineSymbol(text,main,textord,"\u2019","\\textquoteright"),defineSymbol(text,main,textord,"\u201c","``"),defineSymbol(text,main,textord,"\u201c","\\textquotedblleft"),defineSymbol(text,main,textord,"\u201d","''"),defineSymbol(text,main,textord,"\u201d","\\textquotedblright"),defineSymbol(math,main,textord,"\xb0","\\degree"),defineSymbol(text,main,textord,"\xb0","\\degree"),defineSymbol(math,main,mathord,"\xa3","\\pounds"),defineSymbol(math,main,mathord,"\xa3","\\mathsterling"),defineSymbol(text,main,mathord,"\xa3","\\pounds"),defineSymbol(text,main,mathord,"\xa3","\\textsterling"),defineSymbol(math,ams,textord,"\u2720","\\maltese"),defineSymbol(text,ams,textord,"\u2720","\\maltese"),defineSymbol(text,main,spacing,"\xa0","\\ "),defineSymbol(text,main,spacing,"\xa0"," "),defineSymbol(text,main,spacing,"\xa0","~");for(var i=0;i<'0123456789/@."'.length;i++){var ch='0123456789/@."'.charAt(i);defineSymbol(math,main,textord,ch,ch)}for(var _i=0;_i<'0123456789!@*()-=+[]<>|";:?/.,'.length;_i++){var _ch='0123456789!@*()-=+[]<>|";:?/.,'.charAt(_i);defineSymbol(text,main,textord,_ch,_ch)}for(var letters="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",_i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text,main,textord,_ch2,_ch2)}for(var _i3=192;_i3<=214;_i3++){var _ch3=String.fromCharCode(_i3);defineSymbol(math,main,mathord,_ch3,_ch3),defineSymbol(text,main,textord,_ch3,_ch3)}for(var _i4=216;_i4<=246;_i4++){var _ch4=String.fromCharCode(_i4);defineSymbol(math,main,mathord,_ch4,_ch4),defineSymbol(text,main,textord,_ch4,_ch4)}for(var _i5=248;_i5<=255;_i5++){var _ch5=String.fromCharCode(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text,main,textord,_ch5,_ch5)}for(var _i6=1040;_i6<=1103;_i6++){var _ch6=String.fromCharCode(_i6);defineSymbol(text,main,textord,_ch6,_ch6)}defineSymbol(text,main,textord,"\u2013","\u2013"),defineSymbol(text,main,textord,"\u2014","\u2014"),defineSymbol(text,main,textord,"\u2018","\u2018"),defineSymbol(text,main,textord,"\u2019","\u2019"),defineSymbol(text,main,textord,"\u201c","\u201c"),defineSymbol(text,main,textord,"\u201d","\u201d")},{}],117:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.hangulRegex=/[\uAC00-\uD7AF]/,exports.cjkRegex=/[\u3000-\u30FF\u4E00-\u9FAF\uAC00-\uD7AF\uFF00-\uFF60]/},{}],118:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateSize=exports.validUnit=void 0;var _ParseError2=_interopRequireDefault(require("./ParseError")),ptPerUnit=(_interopRequireDefault(require("./Options")),{pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375}),relativeUnit={ex:!0,em:!0,mu:!0};exports.validUnit=function(unit){return"string"!=typeof unit&&(unit=unit.unit),unit in ptPerUnit||unit in relativeUnit||"ex"===unit},exports.calculateSize=function(sizeValue,options){var scale=void 0;if(sizeValue.unit in ptPerUnit)scale=ptPerUnit[sizeValue.unit]/options.fontMetrics().ptPerEm/options.sizeMultiplier;else if("mu"===sizeValue.unit)scale=options.fontMetrics().cssEmPerMu;else{var unitOptions=void 0;if(unitOptions=options.style.isTight()?options.havingStyle(options.style.text()):options,"ex"===sizeValue.unit)scale=unitOptions.fontMetrics().xHeight;else{if("em"!==sizeValue.unit)throw new _ParseError2.default("Invalid unit: '"+sizeValue.unit+"'");scale=unitOptions.fontMetrics().quad}unitOptions!==options&&(scale*=unitOptions.sizeMultiplier/options.sizeMultiplier)}return Math.min(sizeValue.number*scale,options.maxSize)}},{"./Options":87,"./ParseError":88}],119:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var nativeIndexOf=Array.prototype.indexOf,indexOf=function(list,elem){if(null==list)return-1;if(nativeIndexOf&&list.indexOf===nativeIndexOf)return list.indexOf(elem);for(var l=list.length,i=0;i<l;i++)if(list[i]===elem)return i;return-1},uppercase=/([A-Z])/g,ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g,setTextContent=void 0;if("undefined"!=typeof document){var testNode=document.createElement("span");setTextContent="textContent"in testNode?function(node,text){node.textContent=text}:function(node,text){node.innerText=text}}exports.default={contains:function(list,elem){return-1!==indexOf(list,elem)},deflt:function(setting,defaultIfUndefined){return void 0===setting?defaultIfUndefined:setting},escape:function(text){return String(text).replace(ESCAPE_REGEX,function(match){return ESCAPE_LOOKUP[match]})},hyphenate:function(str){return str.replace(uppercase,"-$1").toLowerCase()},indexOf:indexOf,setTextContent:setTextContent,clearNode:function(node){setTextContent(node,"")}}},{}],120:[function(require,module,exports){function getRelocatable(re){if(!re.__matchAtRelocatable){var source=re.source+"|()",flags="g"+(re.ignoreCase?"i":"")+(re.multiline?"m":"")+(re.unicode?"u":"");re.__matchAtRelocatable=new RegExp(source,flags)}return re.__matchAtRelocatable}module.exports=function(re,str,pos){if(re.global||re.sticky)throw new Error("matchAt(...): Only non-global regexes are supported");var reloc=getRelocatable(re);reloc.lastIndex=pos;var match=reloc.exec(str);return null==match[match.length-1]?(match.length=match.length-1,match):null}},{}],121:[function(require,module,exports){!function(window,document,undefined){function _addEvent(object,type,callback){object.addEventListener?object.addEventListener(type,callback,!1):object.attachEvent("on"+type,callback)}function _characterFromEvent(e){if("keypress"==e.type){var character=String.fromCharCode(e.which);return e.shiftKey||(character=character.toLowerCase()),character}return _MAP[e.which]?_MAP[e.which]:_KEYCODE_MAP[e.which]?_KEYCODE_MAP[e.which]:String.fromCharCode(e.which).toLowerCase()}function _modifiersMatch(modifiers1,modifiers2){return modifiers1.sort().join(",")===modifiers2.sort().join(",")}function _eventModifiers(e){var modifiers=[];return e.shiftKey&&modifiers.push("shift"),e.altKey&&modifiers.push("alt"),e.ctrlKey&&modifiers.push("ctrl"),e.metaKey&&modifiers.push("meta"),modifiers}function _preventDefault(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function _stopPropagation(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function _isModifier(key){return"shift"==key||"ctrl"==key||"alt"==key||"meta"==key}function _getReverseMap(){if(!_REVERSE_MAP){_REVERSE_MAP={};for(var key in _MAP)key>95&&key<112||_MAP.hasOwnProperty(key)&&(_REVERSE_MAP[_MAP[key]]=key)}return _REVERSE_MAP}function _pickBestAction(key,modifiers,action){return action||(action=_getReverseMap()[key]?"keydown":"keypress"),"keypress"==action&&modifiers.length&&(action="keydown"),action}function _keysFromString(combination){return"+"===combination?["+"]:(combination=combination.replace(/\+{2}/g,"+plus")).split("+")}function _getKeyInfo(combination,action){var keys,key,i,modifiers=[];for(keys=_keysFromString(combination),i=0;i<keys.length;++i)key=keys[i],_SPECIAL_ALIASES[key]&&(key=_SPECIAL_ALIASES[key]),action&&"keypress"!=action&&_SHIFT_MAP[key]&&(key=_SHIFT_MAP[key],modifiers.push("shift")),_isModifier(key)&&modifiers.push(key);return action=_pickBestAction(key,modifiers,action),{key:key,modifiers:modifiers,action:action}}function _belongsTo(element,ancestor){return null!==element&&element!==document&&(element===ancestor||_belongsTo(element.parentNode,ancestor))}function Mousetrap(targetElement){function _resetSequences(doNotReset){doNotReset=doNotReset||{};var key,activeSequences=!1;for(key in _sequenceLevels)doNotReset[key]?activeSequences=!0:_sequenceLevels[key]=0;activeSequences||(_nextExpectedAction=!1)}function _getMatches(character,modifiers,e,sequenceName,combination,level){var i,callback,matches=[],action=e.type;if(!self._callbacks[character])return[];for("keyup"==action&&_isModifier(character)&&(modifiers=[character]),i=0;i<self._callbacks[character].length;++i)if(callback=self._callbacks[character][i],(sequenceName||!callback.seq||_sequenceLevels[callback.seq]==callback.level)&&action==callback.action&&("keypress"==action&&!e.metaKey&&!e.ctrlKey||_modifiersMatch(modifiers,callback.modifiers))){var deleteCombo=!sequenceName&&callback.combo==combination,deleteSequence=sequenceName&&callback.seq==sequenceName&&callback.level==level;(deleteCombo||deleteSequence)&&self._callbacks[character].splice(i,1),matches.push(callback)}return matches}function _fireCallback(callback,e,combo,sequence){self.stopCallback(e,e.target||e.srcElement,combo,sequence)||!1===callback(e,combo)&&(_preventDefault(e),_stopPropagation(e))}function _handleKeyEvent(e){"number"!=typeof e.which&&(e.which=e.keyCode);var character=_characterFromEvent(e);character&&("keyup"!=e.type||_ignoreNextKeyup!==character?self.handleKey(character,_eventModifiers(e),e):_ignoreNextKeyup=!1)}function _resetSequenceTimer(){clearTimeout(_resetTimer),_resetTimer=setTimeout(_resetSequences,1e3)}function _bindSequence(combo,keys,callback,action){_sequenceLevels[combo]=0;for(var i=0;i<keys.length;++i){var wrappedCallback=i+1===keys.length?function(e){_fireCallback(callback,e,combo),"keyup"!==action&&(_ignoreNextKeyup=_characterFromEvent(e)),setTimeout(_resetSequences,10)}:function(nextAction){return function(){_nextExpectedAction=nextAction,++_sequenceLevels[combo],_resetSequenceTimer()}}(action||_getKeyInfo(keys[i+1]).action);_bindSingle(keys[i],wrappedCallback,action,combo,i)}}function _bindSingle(combination,callback,action,sequenceName,level){self._directMap[combination+":"+action]=callback;var info,sequence=(combination=combination.replace(/\s+/g," ")).split(" ");sequence.length>1?_bindSequence(combination,sequence,callback,action):(info=_getKeyInfo(combination,action),self._callbacks[info.key]=self._callbacks[info.key]||[],_getMatches(info.key,info.modifiers,{type:info.action},sequenceName,combination,level),self._callbacks[info.key][sequenceName?"unshift":"push"]({callback:callback,modifiers:info.modifiers,action:info.action,seq:sequenceName,level:level,combo:combination}))}var self=this;if(targetElement=targetElement||document,!(self instanceof Mousetrap))return new Mousetrap(targetElement);self.target=targetElement,self._callbacks={},self._directMap={};var _resetTimer,_sequenceLevels={},_ignoreNextKeyup=!1,_ignoreNextKeypress=!1,_nextExpectedAction=!1;self._handleKey=function(character,modifiers,e){var i,callbacks=_getMatches(character,modifiers,e),doNotReset={},maxLevel=0,processedSequenceCallback=!1;for(i=0;i<callbacks.length;++i)callbacks[i].seq&&(maxLevel=Math.max(maxLevel,callbacks[i].level));for(i=0;i<callbacks.length;++i)if(callbacks[i].seq){if(callbacks[i].level!=maxLevel)continue;processedSequenceCallback=!0,doNotReset[callbacks[i].seq]=1,_fireCallback(callbacks[i].callback,e,callbacks[i].combo,callbacks[i].seq)}else processedSequenceCallback||_fireCallback(callbacks[i].callback,e,callbacks[i].combo);var ignoreThisKeypress="keypress"==e.type&&_ignoreNextKeypress;e.type!=_nextExpectedAction||_isModifier(character)||ignoreThisKeypress||_resetSequences(doNotReset),_ignoreNextKeypress=processedSequenceCallback&&"keydown"==e.type},self._bindMultiple=function(combinations,callback,action){for(var i=0;i<combinations.length;++i)_bindSingle(combinations[i],callback,action)},_addEvent(targetElement,"keypress",_handleKeyEvent),_addEvent(targetElement,"keydown",_handleKeyEvent),_addEvent(targetElement,"keyup",_handleKeyEvent)}if(window){for(var _REVERSE_MAP,_MAP={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},_KEYCODE_MAP={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_SHIFT_MAP={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},_SPECIAL_ALIASES={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},i=1;i<20;++i)_MAP[111+i]="f"+i;for(i=0;i<=9;++i)_MAP[i+96]=i.toString();Mousetrap.prototype.bind=function(keys,callback,action){var self=this;return keys=keys instanceof Array?keys:[keys],self._bindMultiple.call(self,keys,callback,action),self},Mousetrap.prototype.unbind=function(keys,action){var self=this;return self.bind.call(self,keys,function(){},action)},Mousetrap.prototype.trigger=function(keys,action){var self=this;return self._directMap[keys+":"+action]&&self._directMap[keys+":"+action]({},keys),self},Mousetrap.prototype.reset=function(){var self=this;return self._callbacks={},self._directMap={},self},Mousetrap.prototype.stopCallback=function(e,element){var self=this;return!((" "+element.className+" ").indexOf(" mousetrap ")>-1)&&(!_belongsTo(element,self.target)&&("INPUT"==element.tagName||"SELECT"==element.tagName||"TEXTAREA"==element.tagName||element.isContentEditable))},Mousetrap.prototype.handleKey=function(){var self=this;return self._handleKey.apply(self,arguments)},Mousetrap.addKeycodes=function(object){for(var key in object)object.hasOwnProperty(key)&&(_MAP[key]=object[key]);_REVERSE_MAP=null},Mousetrap.init=function(){var documentMousetrap=Mousetrap(document);for(var method in documentMousetrap)"_"!==method.charAt(0)&&(Mousetrap[method]=function(method){return function(){return documentMousetrap[method].apply(documentMousetrap,arguments)}}(method))},Mousetrap.init(),window.Mousetrap=Mousetrap,void 0!==module&&module.exports&&(module.exports=Mousetrap)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},{}],122:[function(require,module,exports){"use strict";function ToObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}function ownEnumerableKeys(obj){var keys=Object.getOwnPropertyNames(obj);return Object.getOwnPropertySymbols&&(keys=keys.concat(Object.getOwnPropertySymbols(obj))),keys.filter(function(key){return propIsEnumerable.call(obj,key)})}var propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(target,source){for(var from,keys,to=ToObject(target),s=1;s<arguments.length;s++){from=arguments[s],keys=ownEnumerableKeys(Object(from));for(var i=0;i<keys.length;i++)to[keys[i]]=from[keys[i]]}return to}},{}],123:[function(require,module,exports){var throttle=require("./throttle");module.exports=function(delay,atBegin,callback){return void 0===callback?throttle(delay,atBegin,!1):throttle(delay,callback,!1!==atBegin)}},{"./throttle":124}],124:[function(require,module,exports){module.exports=function(delay,noTrailing,callback,debounceMode){var timeoutID,lastExec=0;return"boolean"!=typeof noTrailing&&(debounceMode=callback,callback=noTrailing,noTrailing=void 0),function(){function exec(){lastExec=Number(new Date),callback.apply(self,args)}var self=this,elapsed=Number(new Date)-lastExec,args=arguments;debounceMode&&!timeoutID&&exec(),timeoutID&&clearTimeout(timeoutID),void 0===debounceMode&&elapsed>delay?exec():!0!==noTrailing&&(timeoutID=setTimeout(debounceMode?function(){timeoutID=void 0}:exec,void 0===debounceMode?delay-elapsed:delay))}}},{}],125:[function(require,module,exports){(function(global){(function(){"use strict";function aa(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function l(a){return"string"==typeof a}function ba(a,b,c){return a.call.apply(a.bind,arguments)}function ca(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function da(a,b,c){return(da=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ba:ca).apply(null,arguments)}function ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function m(a){function c(){}var b=n;c.prototype=b.prototype,a.G=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.F=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}}function q(a,b){return-1!=a.indexOf(b)}function ga(a,b){return a<b?-1:a>b?1:0}function ka(a,b){var c;a:{c=a.length;for(var d=l(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:l(a)?a.charAt(c):a[c]}function la(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function ma(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function ta(){var a=k.document;return a?a.documentMode:void 0}function za(a){if(!ya[a]){for(var b=0,c=fa(String(ua)).split("."),d=fa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",p=/(\d*)(\D*)/g,y=/(\d*)(\D*)/g;do{var D=p.exec(g)||["","",""],X=y.exec(h)||["","",""];if(0==D[0].length&&0==X[0].length)break;b=ga(0==D[1].length?0:parseInt(D[1],10),0==X[1].length?0:parseInt(X[1],10))||ga(0==D[2].length,0==X[2].length)||ga(D[2],X[2])}while(0==b)}ya[a]=0<=b}}function x(a,b,c,d){this.a=a,this.nodeName=c,this.nodeValue=d,this.nodeType=2,this.parentNode=this.ownerElement=b}function Da(a,b){var c=Ca&&"href"==b.nodeName?a.getAttribute(b.nodeName,2):b.nodeValue;return new x(b,a,b.nodeName,c)}function z(a){b=null;if(1==(c=a.nodeType)&&(b=a.textContent,b=void 0==b||null==b?a.innerText:b,b=void 0==b||null==b?"":b),"string"!=typeof b)if(w&&"title"==a.nodeName.toLowerCase()&&1==c)b=a.text;else if(9==c||1==c){a=9==c?a.documentElement:a.firstChild;for(var c=0,d=[],b="";a;){do{1!=a.nodeType&&(b+=a.nodeValue),w&&"title"==a.nodeName.toLowerCase()&&(b+=a.text),d[c++]=a}while(a=a.firstChild);for(;c&&!(a=d[--c].nextSibling););}}else b=a.nodeValue;return""+b}function A(a,b,c){if(null===b)return!0;try{if(!a.getAttribute)return!1}catch(d){return!1}return Ca&&"class"==b&&(b="className"),null==c?!!a.getAttribute(b):a.getAttribute(b,2)==c}function B(a,b,c,d,e){return(w?Ea:Fa).call(null,a,b,l(c)?c:null,l(d)?d:null,e||new C)}function Ea(a,b,c,d,e){if(a instanceof E||8==a.b||c&&null===a.b){var f=b.all;if(!f)return e;if("*"!=(a=Ga(a))&&!(f=b.getElementsByTagName(a)))return e;if(c){for(var g=[],h=0;b=f[h++];)A(b,c,d)&&g.push(b);f=g}for(h=0;b=f[h++];)"*"==a&&"!"==b.tagName||F(e,b);return e}return Ha(a,b,c,d,e),e}function Fa(a,b,c,d,e){return b.getElementsByName&&d&&"name"==c&&!v?(b=b.getElementsByName(d),r(b,function(b){a.a(b)&&F(e,b)})):b.getElementsByClassName&&d&&"class"==c?(b=b.getElementsByClassName(d),r(b,function(b){b.className==d&&a.a(b)&&F(e,b)})):a instanceof G?Ha(a,b,c,d,e):b.getElementsByTagName&&(b=b.getElementsByTagName(a.f()),r(b,function(a){A(a,c,d)&&F(e,a)})),e}function Ia(a,b,c,d,e){var f;if((a instanceof E||8==a.b||c&&null===a.b)&&(f=b.childNodes)){var g=Ga(a);return"*"==g||(f=ia(f,function(a){return a.tagName&&a.tagName.toLowerCase()==g}))?(c&&(f=ia(f,function(a){return A(a,c,d)})),r(f,function(a){"*"==g&&("!"==a.tagName||"*"==g&&1!=a.nodeType)||F(e,a)}),e):e}return Ja(a,b,c,d,e)}function Ja(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)A(b,c,d)&&a.a(b)&&F(e,b);return e}function Ha(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)A(b,c,d)&&a.a(b)&&F(e,b),Ha(a,b,c,d,e)}function Ga(a){if(a instanceof G){if(8==a.b)return"!";if(null===a.b)return"*"}return a.f()}function Ka(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if(void 0!==a.compareDocumentPosition)return a==b||!!(16&a.compareDocumentPosition(b));for(;b&&a!=b;)b=b.parentNode;return b==a}function La(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return 2&a.compareDocumentPosition(b)?1:-1;if(v&&!(9<=Number(Ba))){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,f=b.parentNode;return e==f?Ma(a,b):!c&&Ka(e,b)?-1*Na(a,b):!d&&Ka(f,a)?Na(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}return d=9==a.nodeType?a:a.ownerDocument||a.document,(c=d.createRange()).selectNode(a),c.collapse(!0),(d=d.createRange()).selectNode(b),d.collapse(!0),c.compareBoundaryPoints(k.Range.START_TO_END,d)}function Na(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return Ma(d,a)}function Ma(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1}function C(){this.b=this.a=null,this.l=0}function Oa(a){this.node=a,this.a=this.b=null}function Pa(a,b){if(!a.a)return b;if(!b.a)return a;for(var c=a.a,d=b.a,e=null,f=null,g=0;c&&d;){var f=c.node,h=d.node;f==h||f instanceof x&&h instanceof x&&f.a==h.a?(f=c,c=c.a,d=d.a):0<La(c.node,d.node)?(f=d,d=d.a):(f=c,c=c.a),(f.b=e)?e.a=f:a.a=f,e=f,g++}for(f=c||d;f;)f.b=e,e=e.a=f,g++,f=f.a;return a.b=e,a.l=g,a}function Qa(a,b){var c=new Oa(b);c.a=a.a,a.b?a.a.b=c:a.a=a.b=c,a.a=c,a.l++}function F(a,b){var c=new Oa(b);c.b=a.b,a.a?a.b.a=c:a.a=a.b=c,a.b=c,a.l++}function Ra(a){return(a=a.a)?a.node:null}function Sa(a){return(a=Ra(a))?z(a):""}function H(a,b){return new Ta(a,!!b)}function Ta(a,b){this.f=a,this.b=(this.c=b)?a.b:a.a,this.a=null}function I(a){var b=a.b;if(null==b)return null;var c=a.a=b;return a.b=a.c?b.b:b.a,c.node}function n(a){this.i=a,this.b=this.g=!1,this.f=null}function J(a){return"\n  "+a.toString().split("\n").join("\n  ")}function Ua(a,b){a.g=b}function Va(a,b){a.b=b}function K(a,b){var c=a.a(b);return c instanceof C?+Sa(c):+c}function L(a,b){var c=a.a(b);return c instanceof C?Sa(c):""+c}function M(a,b){var c=a.a(b);return c instanceof C?!!c.l:!!c}function N(a,b,c){n.call(this,a.i),this.c=a,this.h=b,this.o=c,this.g=b.g||c.g,this.b=b.b||c.b,this.c==Wa&&(c.b||c.g||4==c.i||0==c.i||!b.f?b.b||b.g||4==b.i||0==b.i||!c.f||(this.f={name:c.f.name,s:b}):this.f={name:b.f.name,s:c})}function O(a,b,c,d,e){b=b.a(d),c=c.a(d);var f;if(b instanceof C&&c instanceof C){for(d=I(b=H(b));d;d=I(b))for(e=H(c),f=I(e);f;f=I(e))if(a(z(d),z(f)))return!0;return!1}if(b instanceof C||c instanceof C){b instanceof C?(e=b,d=c):(e=c,d=b);for(var g=typeof d,h=I(f=H(e));h;h=I(f)){switch(g){case"number":h=+z(h);break;case"boolean":h=!!z(h);break;case"string":h=z(h);break;default:throw Error("Illegal primitive type for comparison.")}if(e==b&&a(h,d)||e==c&&a(d,h))return!0}return!1}return e?"boolean"==typeof b||"boolean"==typeof c?a(!!b,!!c):"number"==typeof b||"number"==typeof c?a(+b,+c):a(b,c):a(+b,+c)}function Xa(a,b,c,d){this.a=a,this.w=b,this.i=c,this.m=d}function P(a,b,c,d){if(Ya.hasOwnProperty(a))throw Error("Binary operator already created: "+a);return a=new Xa(a,b,c,d),Ya[a.toString()]=a}function Q(a,b,c){this.a=a,this.b=b||1,this.f=c||1}function Za(a,b){if(b.a.length&&4!=a.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");n.call(this,a.i),this.c=a,this.h=b,this.g=a.g,this.b=a.b}function ab(a,b){if(b.length<a.A)throw Error("Function "+a.j+" expects at least"+a.A+" arguments, "+b.length+" given");if(null!==a.v&&b.length>a.v)throw Error("Function "+a.j+" expects at most "+a.v+" arguments, "+b.length+" given");a.B&&r(b,function(b,d){if(4!=b.i)throw Error("Argument "+d+" to function "+a.j+" is not of type Nodeset: "+b)}),n.call(this,a.i),this.h=a,this.c=b,Ua(this,a.g||ja(b,function(a){return a.g})),Va(this,a.D&&!b.length||a.C&&!!b.length||ja(b,function(a){return a.b}))}function bb(a,b,c,d,e,f,g,h,p){this.j=a,this.i=b,this.g=c,this.D=d,this.C=e,this.m=f,this.A=g,this.v=void 0!==h?h:g,this.B=!!p}function R(a,b,c,d,e,f,g,h){if(cb.hasOwnProperty(a))throw Error("Function already created: "+a+".");cb[a]=new bb(a,b,c,d,!1,e,f,g,h)}function G(a,b){switch(this.h=a,this.c=void 0!==b?b:null,this.b=null,a){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function db(a){return"comment"==a||"text"==a||"processing-instruction"==a||"node"==a}function eb(a){this.b=a,this.a=0}function fb(a){a=a.match(gb);for(var b=0;b<a.length;b++)hb.test(a[b])&&a.splice(b,1);return new eb(a)}function S(a,b){return a.b[a.a+(b||0)]}function T(a){return a.b[a.a++]}function ib(a){return a.b.length<=a.a}function jb(a){n.call(this,3),this.c=a.substring(1,a.length-1)}function E(a,b){this.j=a.toLowerCase();var c;c="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=b?b.toLowerCase():c}function kb(a,b){if(n.call(this,a.i),this.h=a,this.c=b,this.g=a.g,this.b=a.b,1==this.c.length){var c=this.c[0];c.u||c.c!=lb||"*"!=(c=c.o).f()&&(this.f={name:c.f(),s:null})}}function mb(){n.call(this,4)}function nb(){n.call(this,4)}function ob(a){return"/"==a||"//"==a}function rb(a){n.call(this,4),this.c=a,Ua(this,ja(this.c,function(a){return a.g})),Va(this,ja(this.c,function(a){return a.b}))}function sb(a,b){this.a=a,this.b=!!b}function $a(a,b,c){for(c=c||0;c<a.a.length;c++)for(var g,d=a.a[c],e=H(b),f=b.l,h=0;g=I(e);h++){var p=a.b?f-h:h+1;if("number"==typeof(g=d.a(new Q(g,p,f))))p=p==g;else if("string"==typeof g||"boolean"==typeof g)p=!!g;else{if(!(g instanceof C))throw Error("Predicate.evaluate returned an unexpected type.");p=0<g.l}if(!p){if(g=(p=e).f,!(y=p.a))throw Error("Next must be called at least once before remove.");var D=y.b,y=y.a;D?D.a=y:g.a=y,y?y.b=D:g.b=D,g.l--,p.a=null}}return b}function U(a,b,c,d){n.call(this,4),this.c=a,this.o=b,this.h=c||new sb([]),this.u=!!d,b=0<(b=this.h).a.length?b.a[0].f:null,a.b&&b&&(a=b.name,a=w?a.toLowerCase():a,this.f={name:a,s:b.s});a:{for(a=this.h,b=0;b<a.a.length;b++)if((c=a.a[b]).g||1==c.i||0==c.i){a=!0;break a}a=!1}this.g=a}function vb(a,b,c,d){this.j=a,this.f=b,this.a=c,this.b=d}function V(a,b,c,d){if(wb.hasOwnProperty(a))throw Error("Axis already created: "+a);return b=new vb(a,b,c,!!d),wb[a]=b}function zb(a){n.call(this,1),this.c=a,this.g=a.g,this.b=a.b}function Ab(a){n.call(this,1),this.c=a}function Bb(a,b){this.a=a,this.b=b}function Cb(a){for(var b,c=[];;){W(a,"Missing right hand side of binary expression."),b=Db(a);var d=T(a.a);if(!d)break;var e=(d=Ya[d]||null)&&d.w;if(!e){a.a.a--;break}for(;c.length&&e<=c[c.length-1].w;)b=new N(c.pop(),c.pop(),b);c.push(b,d)}for(;c.length;)b=new N(c.pop(),c.pop(),b);return b}function W(a,b){if(ib(a.a))throw Error(b)}function Eb(a,b){var c=T(a.a);if(c!=b)throw Error("Bad token, expected: "+b+" got: "+c)}function Fb(a){if(")"!=(a=T(a.a)))throw Error("Bad token: "+a)}function Gb(a){if(2>(a=T(a.a)).length)throw Error("Unclosed literal string");return new jb(a)}function Hb(a){var b,d,c=[];if(ob(S(a.a))){if(b=T(a.a),d=S(a.a),"/"==b&&(ib(a.a)||"."!=d&&".."!=d&&"@"!=d&&"*"!=d&&!/(?![0-9])[\w]/.test(d)))return new mb;d=new mb,W(a,"Missing next location step."),b=Ib(a,b),c.push(b)}else{a:{switch(b=S(a.a),d=b.charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":T(a.a),b=Cb(a),W(a,'unclosed "("'),Eb(a,")");break;case'"':case"'":b=Gb(a);break;default:if(isNaN(+b)){if(db(b)||!/(?![0-9])[\w]/.test(d)||"("!=S(a.a,1)){b=null;break a}for(b=T(a.a),b=cb[b]||null,T(a.a),d=[];")"!=S(a.a)&&(W(a,"Missing function argument list."),d.push(Cb(a)),","==S(a.a));)T(a.a);W(a,"Unclosed function argument list."),Fb(a),b=new ab(b,d)}else b=new Ab(+T(a.a))}"["==S(a.a)&&(d=new sb(Jb(a)),b=new Za(b,d))}if(b){if(!ob(S(a.a)))return b;d=b}else b=Ib(a,"/"),d=new nb,c.push(b)}for(;ob(S(a.a));)b=T(a.a),W(a,"Missing next location step."),b=Ib(a,b),c.push(b);return new kb(d,c)}function Ib(a,b){var c,d,e;if("/"!=b&&"//"!=b)throw Error('Step op should be "/" or "//"');if("."==S(a.a))return d=new U(yb,new G("node")),T(a.a),d;if(".."==S(a.a))return d=new U(xb,new G("node")),T(a.a),d;var f;if("@"==S(a.a))f=lb,T(a.a),W(a,"Missing attribute name");else if("::"==S(a.a,1)){if(!/(?![0-9])[\w]/.test(S(a.a).charAt(0)))throw Error("Bad token: "+T(a.a));if(c=T(a.a),!(f=wb[c]||null))throw Error("No axis with name: "+c);T(a.a),W(a,"Missing node name")}else f=tb;if(c=S(a.a),!/(?![0-9])[\w\*]/.test(c.charAt(0)))throw Error("Bad token: "+T(a.a));if("("==S(a.a,1)){if(!db(c))throw Error("Invalid node type: "+c);if(c=T(a.a),!db(c))throw Error("Invalid type name: "+c);Eb(a,"("),W(a,"Bad nodetype");var g=null;'"'!=(e=S(a.a).charAt(0))&&"'"!=e||(g=Gb(a)),W(a,"Bad nodetype"),Fb(a),c=new G(c,g)}else if(c=T(a.a),-1==(e=c.indexOf(":")))c=new E(c);else{var h;if("*"==(g=c.substring(0,e)))h="*";else if(!(h=a.b(g)))throw Error("Namespace prefix not declared: "+g);c=new E(c=c.substr(e+1),h)}return e=new sb(Jb(a),f.a),d||new U(f,c,e,"//"==b)}function Jb(a){for(var b=[];"["==S(a.a);){T(a.a),W(a,"Missing predicate expression.");var c=Cb(a);b.push(c),W(a,"Unclosed predicate expression."),Eb(a,"]")}return b}function Db(a){if("-"==S(a.a))return T(a.a),new zb(Db(a));var b=Hb(a);if("|"!=S(a.a))a=b;else{for(b=[b];"|"==T(a.a);)W(a,"Missing next union location path."),b.push(Hb(a));a.a.a--,a=new rb(b)}return a}function Kb(a){switch(a.nodeType){case 1:return ea(Lb,a);case 9:return Kb(a.documentElement);case 11:case 10:case 6:case 12:return Mb;default:return a.parentNode?Kb(a.parentNode):Mb}}function Mb(){return null}function Lb(a,b){if(a.prefix==b)return a.namespaceURI||"http://www.w3.org/1999/xhtml";var c=a.getAttributeNode("xmlns:"+b);return c&&c.specified?c.value||null:a.parentNode&&9!=a.parentNode.nodeType?Lb(a.parentNode,b):null}function Nb(a,b){if(!a.length)throw Error("Empty XPath expression.");var c=fb(a);if(ib(c))throw Error("Invalid XPath expression.");b?"function"==aa(b)||(b=da(b.lookupNamespaceURI,b)):b=function(){return null};var d=Cb(new Bb(c,b));if(!ib(c))throw Error("Bad token: "+T(c));this.evaluate=function(a,b){return new Y(d.a(new Q(a)),b)}}function Y(a,b){if(0==b)if(a instanceof C)b=4;else if("string"==typeof a)b=2;else if("number"==typeof a)b=1;else{if("boolean"!=typeof a)throw Error("Unexpected evaluation result.");b=3}if(2!=b&&1!=b&&3!=b&&!(a instanceof C))throw Error("value could not be converted to the specified type");this.resultType=b;var c;switch(b){case 2:this.stringValue=a instanceof C?Sa(a):""+a;break;case 1:this.numberValue=a instanceof C?+Sa(a):+a;break;case 3:this.booleanValue=a instanceof C?0<a.l:!!a;break;case 4:case 5:case 6:case 7:var d=H(a);c=[];for(var e=I(d);e;e=I(d))c.push(e instanceof x?e.a:e);this.snapshotLength=a.l,this.invalidIteratorState=!1;break;case 8:case 9:d=Ra(a),this.singleNodeValue=d instanceof x?d.a:d;break;default:throw Error("Unknown XPathResult type.")}var f=0;this.iterateNext=function(){if(4!=b&&5!=b)throw Error("iterateNext called with wrong result type");return f>=c.length?null:c[f++]},this.snapshotItem=function(a){if(6!=b&&7!=b)throw Error("snapshotItem called with wrong result type");return a>=c.length||0>a?null:c[a]}}function Ob(a){this.lookupNamespaceURI=Kb(a)}function Pb(a,b){var c=a||k,d=c.Document&&c.Document.prototype||c.document;d.evaluate&&!b||(c.XPathResult=Y,d.evaluate=function(a,b,c,d){return new Nb(a,c).evaluate(b,d)},d.createExpression=function(a,b){return new Nb(a,b)},d.createNSResolver=function(a){return new Ob(a)})}var u,k=this,fa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ha=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},r=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},ia=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=l(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var p=g[h];b.call(c,p,h,a)&&(e[f++]=p)}return e},t=Array.prototype.reduce?function(a,b,c,d){return d&&(b=da(b,d)),Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;return r(a,function(c,g){e=b.call(d,e,c,g,a)}),e},ja=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};a:{var na=k.navigator;if(na){var oa=na.userAgent;if(oa){u=oa;break a}}u=""}var ua,pa=q(u,"Opera")||q(u,"OPR"),v=q(u,"Trident")||q(u,"MSIE"),qa=q(u,"Edge"),ra=q(u,"Gecko")&&!(q(u.toLowerCase(),"webkit")&&!q(u,"Edge"))&&!(q(u,"Trident")||q(u,"MSIE"))&&!q(u,"Edge"),sa=q(u.toLowerCase(),"webkit")&&!q(u,"Edge");a:{var va="",wa=function(){var a=u;return ra?/rv\:([^\);]+)(\)|;)/.exec(a):qa?/Edge\/([\d\.]+)/.exec(a):v?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):sa?/WebKit\/(\S+)/.exec(a):pa?/(?:Version)[ \/]?(\S+)/.exec(a):void 0}();if(wa&&(va=wa?wa[1]:""),v){var xa=ta();if(null!=xa&&xa>parseFloat(va)){ua=String(xa);break a}}ua=va}var ya={},Aa=k.document,Ba=Aa&&v?ta()||("CSS1Compat"==Aa.compatMode?parseInt(ua,10):5):void 0,w=v&&!(9<=Number(Ba)),Ca=v&&!(8<=Number(Ba));!ra&&!v||v&&9<=Number(Ba)||ra&&za("1.9.1"),v&&za("9"),m(N),N.prototype.a=function(a){return this.c.m(this.h,this.o,a)},N.prototype.toString=function(){var a=(a="Binary Expression: "+this.c)+J(this.h);return a+=J(this.o)},Xa.prototype.toString=function(){return this.a};var Ya={};P("div",6,1,function(a,b,c){return K(a,c)/K(b,c)}),P("mod",6,1,function(a,b,c){return K(a,c)%K(b,c)}),P("*",6,1,function(a,b,c){return K(a,c)*K(b,c)}),P("+",5,1,function(a,b,c){return K(a,c)+K(b,c)}),P("-",5,1,function(a,b,c){return K(a,c)-K(b,c)}),P("<",4,2,function(a,b,c){return O(function(a,b){return a<b},a,b,c)}),P(">",4,2,function(a,b,c){return O(function(a,b){return a>b},a,b,c)}),P("<=",4,2,function(a,b,c){return O(function(a,b){return a<=b},a,b,c)}),P(">=",4,2,function(a,b,c){return O(function(a,b){return a>=b},a,b,c)});var Wa=P("=",3,2,function(a,b,c){return O(function(a,b){return a==b},a,b,c,!0)});P("!=",3,2,function(a,b,c){return O(function(a,b){return a!=b},a,b,c,!0)}),P("and",2,2,function(a,b,c){return M(a,c)&&M(b,c)}),P("or",1,2,function(a,b,c){return M(a,c)||M(b,c)}),m(Za),Za.prototype.a=function(a){return a=this.c.a(a),$a(this.h,a)},Za.prototype.toString=function(){var a;return a="Filter:"+J(this.c),a+=J(this.h)},m(ab),ab.prototype.a=function(a){return this.h.m.apply(null,la(a,this.c))},ab.prototype.toString=function(){a="Function: "+this.h;if(this.c.length)var b=t(this.c,function(a,b){return a+J(b)},"Arguments:"),a=a+J(b);return a},bb.prototype.toString=function(){return this.j};var cb={};R("boolean",2,!1,!1,function(a,b){return M(b,a)},1),R("ceiling",1,!1,!1,function(a,b){return Math.ceil(K(b,a))},1),R("concat",3,!1,!1,function(a,b){return t(ma(arguments,1),function(b,d){return b+L(d,a)},"")},2,null),R("contains",2,!1,!1,function(a,b,c){return q(L(b,a),L(c,a))},2),R("count",1,!1,!1,function(a,b){return b.a(a).l},1,1,!0),R("false",2,!1,!1,function(){return!1},0),R("floor",1,!1,!1,function(a,b){return Math.floor(K(b,a))},1),R("id",4,!1,!1,function(a,b){function c(a){if(w){var b=e.all[a];if(b){if(b.nodeType&&a==b.id)return b;if(b.length)return ka(b,function(b){return a==b.id})}return null}return e.getElementById(a)}var e=9==(d=a.a).nodeType?d:d.ownerDocument,d=L(b,a).split(/\s+/),f=[];r(d,function(a){!(a=c(a))||0<=ha(f,a)||f.push(a)}),f.sort(La);var g=new C;return r(f,function(a){F(g,a)}),g},1),R("lang",2,!1,!1,function(){return!1},1),R("last",1,!0,!1,function(a){if(1!=arguments.length)throw Error("Function last expects ()");return a.f},0),R("local-name",3,!1,!0,function(a,b){var c=b?Ra(b.a(a)):a.a;return c?c.localName||c.nodeName.toLowerCase():""},0,1,!0),R("name",3,!1,!0,function(a,b){var c=b?Ra(b.a(a)):a.a;return c?c.nodeName.toLowerCase():""},0,1,!0),R("namespace-uri",3,!0,!1,function(){return""},0,1,!0),R("normalize-space",3,!1,!0,function(a,b){return(b?L(b,a):z(a.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),R("not",2,!1,!1,function(a,b){return!M(b,a)},1),R("number",1,!1,!0,function(a,b){return b?K(b,a):+z(a.a)},0,1),R("position",1,!0,!1,function(a){return a.b},0),R("round",1,!1,!1,function(a,b){return Math.round(K(b,a))},1),R("starts-with",2,!1,!1,function(a,b,c){return b=L(b,a),a=L(c,a),0==b.lastIndexOf(a,0)},2),R("string",3,!1,!0,function(a,b){return b?L(b,a):z(a.a)},0,1),R("string-length",1,!1,!0,function(a,b){return(b?L(b,a):z(a.a)).length},0,1),R("substring",3,!1,!1,function(a,b,c,d){if(c=K(c,a),isNaN(c)||1/0==c||-1/0==c)return"";if(d=d?K(d,a):1/0,isNaN(d)||-1/0===d)return"";c=Math.round(c)-1;var e=Math.max(c,0);return a=L(b,a),1/0==d?a.substring(e):a.substring(e,c+Math.round(d))},2,3),R("substring-after",3,!1,!1,function(a,b,c){return b=L(b,a),a=L(c,a),-1==(c=b.indexOf(a))?"":b.substring(c+a.length)},2),R("substring-before",3,!1,!1,function(a,b,c){return b=L(b,a),a=L(c,a),-1==(a=b.indexOf(a))?"":b.substring(0,a)},2),R("sum",1,!1,!1,function(a,b){for(var c=H(b.a(a)),d=0,e=I(c);e;e=I(c))d+=+z(e);return d},1,1,!0),R("translate",3,!1,!1,function(a,b,c,d){b=L(b,a),c=L(c,a);var e=L(d,a);for(a={},d=0;d<c.length;d++){var f=c.charAt(d);f in a||(a[f]=e.charAt(d))}for(c="",d=0;d<b.length;d++)f=b.charAt(d),c+=f in a?a[f]:f;return c},3),R("true",2,!1,!1,function(){return!0},0),G.prototype.a=function(a){return null===this.b||this.b==a.nodeType},G.prototype.f=function(){return this.h},G.prototype.toString=function(){var a="Kind Test: "+this.h;return null===this.c||(a+=J(this.c)),a};var gb=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,hb=/^\s/;m(jb),jb.prototype.a=function(){return this.c},jb.prototype.toString=function(){return"Literal: "+this.c},E.prototype.a=function(a){var b=a.nodeType;return(1==b||2==b)&&(b=void 0!==a.localName?a.localName:a.nodeName,("*"==this.j||this.j==b.toLowerCase())&&("*"==this.c||this.c==(a.namespaceURI?a.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},E.prototype.f=function(){return this.j},E.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},m(kb),m(mb),mb.prototype.a=function(a){var b=new C;return 9==(a=a.a).nodeType?F(b,a):F(b,a.ownerDocument),b},mb.prototype.toString=function(){return"Root Helper Expression"},m(nb),nb.prototype.a=function(a){var b=new C;return F(b,a.a),b},nb.prototype.toString=function(){return"Context Helper Expression"},kb.prototype.a=function(a){var b=this.h.a(a);if(!(b instanceof C))throw Error("Filter expression must evaluate to nodeset.");for(var c=0,d=(a=this.c).length;c<d&&b.l;c++){var g,e=a[c],f=H(b,e.c.a);if(e.g||e.c!=pb)if(e.g||e.c!=qb)for(g=I(f),b=e.a(new Q(g));null!=(g=I(f));)g=e.a(new Q(g)),b=Pa(b,g);else g=I(f),b=e.a(new Q(g));else{for(g=I(f);(b=I(f))&&(!g.contains||g.contains(b))&&8&b.compareDocumentPosition(g);g=b);b=e.a(new Q(g))}}return b},kb.prototype.toString=function(){var a;return a="Path Expression:"+J(this.h),this.c.length&&(a+=J(t(this.c,function(a,b){return a+J(b)},"Steps:"))),a},m(rb),rb.prototype.a=function(a){var b=new C;return r(this.c,function(c){if(!((c=c.a(a))instanceof C))throw Error("Path expression must evaluate to NodeSet.");b=Pa(b,c)}),b},rb.prototype.toString=function(){return t(this.c,function(a,b){return a+J(b)},"Union Expression:")},sb.prototype.toString=function(){return t(this.a,function(a,b){return a+J(b)},"Predicates:")},m(U),U.prototype.a=function(a){var b=a.a,c=null,d=null,e=null,f=0;if((c=this.f)&&(d=c.name,e=c.s?L(c.s,a):null,f=1),this.u)if(this.g||this.c!=tb)if(a=H(new U(ub,new G("node")).a(a)),b=I(a))for(c=this.m(b,d,e,f);null!=(b=I(a));)c=Pa(c,this.m(b,d,e,f));else c=new C;else c=B(this.o,b,d,e),c=$a(this.h,c,f);else c=this.m(a.a,d,e,f);return c},U.prototype.m=function(a,b,c,d){return a=this.c.f(this.o,a,b,c),a=$a(this.h,a,d)},U.prototype.toString=function(){var a;return a="Step:"+J("Operator: "+(this.u?"//":"/")),this.c.j&&(a+=J("Axis: "+this.c)),a+=J(this.o),this.h.a.length&&(a+=J(t(this.h.a,function(a,b){return a+J(b)},"Predicates:"))),a},vb.prototype.toString=function(){return this.j};var wb={};V("ancestor",function(a,b){for(var c=new C,d=b;d=d.parentNode;)a.a(d)&&Qa(c,d);return c},!0),V("ancestor-or-self",function(a,b){var c=new C,d=b;do{a.a(d)&&Qa(c,d)}while(d=d.parentNode);return c},!0);var lb=V("attribute",function(a,b){var c=new C;if("style"==(d=a.f())&&w&&b.style)return F(c,new x(b.style,b,"style",b.style.cssText)),c;var e=b.attributes;if(e)if(a instanceof G&&null===a.b||"*"==d)for(var f,d=0;f=e[d];d++)w?f.nodeValue&&F(c,Da(b,f)):F(c,f);else(f=e.getNamedItem(d))&&(w?f.nodeValue&&F(c,Da(b,f)):F(c,f));return c},!1),tb=V("child",function(a,b,c,d,e){return(w?Ia:Ja).call(null,a,b,l(c)?c:null,l(d)?d:null,e||new C)},!1,!0);V("descendant",B,!1,!0);var ub=V("descendant-or-self",function(a,b,c,d){var e=new C;return A(b,c,d)&&a.a(b)&&F(e,b),B(a,b,c,d,e)},!1,!0),pb=V("following",function(a,b,c,d){var e=new C;do{for(var f=b;f=f.nextSibling;)A(f,c,d)&&a.a(f)&&F(e,f),e=B(a,f,c,d,e)}while(b=b.parentNode);return e},!1,!0);V("following-sibling",function(a,b){for(var c=new C,d=b;d=d.nextSibling;)a.a(d)&&F(c,d);return c},!1),V("namespace",function(){return new C},!1);var xb=V("parent",function(a,b){var c=new C;if(9==b.nodeType)return c;if(2==b.nodeType)return F(c,b.ownerElement),c;var d=b.parentNode;return a.a(d)&&F(c,d),c},!1),qb=V("preceding",function(a,b,c,d){var e=new C,f=[];do{f.unshift(b)}while(b=b.parentNode);for(var g=1,h=f.length;g<h;g++){var p=[];for(b=f[g];b=b.previousSibling;)p.unshift(b);for(var y=0,D=p.length;y<D;y++)b=p[y],A(b,c,d)&&a.a(b)&&F(e,b),e=B(a,b,c,d,e)}return e},!0,!0);V("preceding-sibling",function(a,b){for(var c=new C,d=b;d=d.previousSibling;)a.a(d)&&Qa(c,d);return c},!0);var yb=V("self",function(a,b){var c=new C;return a.a(b)&&F(c,b),c},!1);m(zb),zb.prototype.a=function(a){return-K(this.c,a)},zb.prototype.toString=function(){return"Unary Expression: -"+J(this.c)},m(Ab),Ab.prototype.a=function(){return this.c},Ab.prototype.toString=function(){return"Number: "+this.c},Y.ANY_TYPE=0,Y.NUMBER_TYPE=1,Y.STRING_TYPE=2,Y.BOOLEAN_TYPE=3,Y.UNORDERED_NODE_ITERATOR_TYPE=4,Y.ORDERED_NODE_ITERATOR_TYPE=5,Y.UNORDERED_NODE_SNAPSHOT_TYPE=6,Y.ORDERED_NODE_SNAPSHOT_TYPE=7,Y.ANY_UNORDERED_NODE_TYPE=8,Y.FIRST_ORDERED_NODE_TYPE=9;var Qb=["wgxpath","install"],Z=k;Qb[0]in Z||!Z.execScript||Z.execScript("var "+Qb[0]);for(var Rb;Qb.length&&(Rb=Qb.shift());)Qb.length||void 0===Pb?Z=Z[Rb]?Z[Rb]:Z[Rb]={}:Z[Rb]=Pb;module.exports.install=Pb,module.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(global)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[3])(3)});